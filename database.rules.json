{
  "rules": {
    ".read": "auth != null",
    ".write": false,
    "permissions": {
      ".read": "root.child('permissions').child(auth.uid).child('role').val() === 'admin'",
      ".write": "root.child('permissions').child(auth.uid).child('role').val() === 'admin'"
    },
    "roles": {
      ".write": "root.child('permissions').child(auth.uid).child('role').val() === 'admin'"
    },
    "modules": {
      ".write": "root.child('permissions').child(auth.uid).child('role').val() === 'admin'"
    },
    "auditLogs": {
      ".read": "root.child('permissions').child(auth.uid).child('role').val() === 'admin'",
      ".write": "auth != null"
    },
    "cobranzas": {
      "configuracion": {
        ".write": "root.child('permissions').child(auth.uid).child('role').val() === 'admin'"
      },
      "$uid": {
        ".read": "$uid === auth.uid || root.child('permissions').child(auth.uid).child('role').val() === 'admin'",
        ".write": "root.child('permissions').child(auth.uid).child('role').val() === 'admin'"
      }
    },
    "users": {
      "$uid": {
        ".read": "auth.uid === $uid || root.child('permissions').child(auth.uid).child('role').val() === 'admin'",
        ".write": "auth.uid === $uid",
        ".indexOn": ["empadronadoId"]
      }
    },
    "empadronados": {
      "$empadronadoId": {
        ".read": "data.child('authUid').val() === auth.uid || root.child('permissions').child(auth.uid).child('role').val() === 'admin'",
        ".write": "data.child('authUid').val() === auth.uid || root.child('permissions').child(auth.uid).child('role').val() === 'admin'",
        ".validate": "newData.hasChildren(['dni', 'numeroPadron', 'authUid'])"
      },
      ".indexOn": ["authUid", "dni", "numeroPadron"]
    },
    "cobranzas_v2": {
      "comprobantes": {
        ".write": "auth != null"
      }
    },
    "personal-seguridad": {
      ".write": "auth != null"
    },
    "eventos": {
      "$eventoId": {
        ".read": "auth != null",
        ".write": "auth != null"
      }
    },
    "inscripcionesEventos": {
      "$inscripcionId": {
        ".read": "auth != null",
        ".write": "auth != null"
      }
    },
    "finanzas": {
      "$movimientoId": {
        ".write": "auth != null"
      }
    },
    "acceso": {
      "visitas": {
        ".write": "auth != null",
        ".indexOn": ["estado", "patronId", "createdAt", "dni"]
      },
      "trabajadores": {
        ".write": "root.child('permissions').child(auth.uid).child('role').val() === 'admin'",
        ".indexOn": ["estado", "dni", "padron"]
      },
      "proveedores": {
        ".write": "root.child('permissions').child(auth.uid).child('role').val() === 'admin'",
        ".indexOn": ["estado", "ruc"]
      }
    }
  }
}