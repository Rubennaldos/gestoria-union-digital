var yD=e=>{throw TypeError(e)};var FZ=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var BS=(e,t,r)=>t.has(e)||yD("Cannot "+r);var Se=(e,t,r)=>(BS(e,t,"read from private field"),r?r.call(e):t.get(e)),sr=(e,t,r)=>t.has(e)?yD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),At=(e,t,r,n)=>(BS(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ds=(e,t,r)=>(BS(e,t,"access private method"),r);var Ox=(e,t,r,n)=>({set _(s){At(e,t,s,r)},get _(){return Se(e,t,n)}});var xZe=FZ((DZe,ly)=>{function LZ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Us(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jL={exports:{}},aw={},AL={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg=Symbol.for("react.element"),$Z=Symbol.for("react.portal"),UZ=Symbol.for("react.fragment"),BZ=Symbol.for("react.strict_mode"),WZ=Symbol.for("react.profiler"),VZ=Symbol.for("react.provider"),zZ=Symbol.for("react.context"),HZ=Symbol.for("react.forward_ref"),YZ=Symbol.for("react.suspense"),GZ=Symbol.for("react.memo"),qZ=Symbol.for("react.lazy"),_D=Symbol.iterator;function KZ(e){return e===null||typeof e!="object"?null:(e=_D&&e[_D]||e["@@iterator"],typeof e=="function"?e:null)}var PL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OL=Object.assign,DL={};function $m(e,t,r){this.props=e,this.context=t,this.refs=DL,this.updater=r||PL}$m.prototype.isReactComponent={};$m.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RL(){}RL.prototype=$m.prototype;function fN(e,t,r){this.props=e,this.context=t,this.refs=DL,this.updater=r||PL}var hN=fN.prototype=new RL;hN.constructor=fN;OL(hN,$m.prototype);hN.isPureReactComponent=!0;var wD=Array.isArray,IL=Object.prototype.hasOwnProperty,mN={current:null},ML={key:!0,ref:!0,__self:!0,__source:!0};function FL(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)IL.call(t,n)&&!ML.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:hg,type:e,key:a,ref:i,props:s,_owner:mN.current}}function XZ(e,t){return{$$typeof:hg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pN(e){return typeof e=="object"&&e!==null&&e.$$typeof===hg}function QZ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bD=/\/+/g;function WS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?QZ(""+e.key):t.toString(36)}function A1(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case hg:case $Z:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+WS(i,0):n,wD(s)?(r="",e!=null&&(r=e.replace(bD,"$&/")+"/"),A1(s,t,r,"",function(u){return u})):s!=null&&(pN(s)&&(s=XZ(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(bD,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",wD(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+WS(a,l);i+=A1(a,t,r,c,s)}else if(c=KZ(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+WS(a,l++),i+=A1(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Dx(e,t,r){if(e==null)return e;var n=[],s=0;return A1(e,n,"","",function(a){return t.call(r,a,s++)}),n}function ZZ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bs={current:null},P1={transition:null},JZ={ReactCurrentDispatcher:Bs,ReactCurrentBatchConfig:P1,ReactCurrentOwner:mN};function LL(){throw Error("act(...) is not supported in production builds of React.")}Yt.Children={map:Dx,forEach:function(e,t,r){Dx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dx(e,function(){t++}),t},toArray:function(e){return Dx(e,function(t){return t})||[]},only:function(e){if(!pN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Yt.Component=$m;Yt.Fragment=UZ;Yt.Profiler=WZ;Yt.PureComponent=fN;Yt.StrictMode=BZ;Yt.Suspense=YZ;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JZ;Yt.act=LL;Yt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=OL({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=mN.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)IL.call(t,c)&&!ML.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:hg,type:e.type,key:s,ref:a,props:n,_owner:i}};Yt.createContext=function(e){return e={$$typeof:zZ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VZ,_context:e},e.Consumer=e};Yt.createElement=FL;Yt.createFactory=function(e){var t=FL.bind(null,e);return t.type=e,t};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(e){return{$$typeof:HZ,render:e}};Yt.isValidElement=pN;Yt.lazy=function(e){return{$$typeof:qZ,_payload:{_status:-1,_result:e},_init:ZZ}};Yt.memo=function(e,t){return{$$typeof:GZ,type:e,compare:t===void 0?null:t}};Yt.startTransition=function(e){var t=P1.transition;P1.transition={};try{e()}finally{P1.transition=t}};Yt.unstable_act=LL;Yt.useCallback=function(e,t){return Bs.current.useCallback(e,t)};Yt.useContext=function(e){return Bs.current.useContext(e)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(e){return Bs.current.useDeferredValue(e)};Yt.useEffect=function(e,t){return Bs.current.useEffect(e,t)};Yt.useId=function(){return Bs.current.useId()};Yt.useImperativeHandle=function(e,t,r){return Bs.current.useImperativeHandle(e,t,r)};Yt.useInsertionEffect=function(e,t){return Bs.current.useInsertionEffect(e,t)};Yt.useLayoutEffect=function(e,t){return Bs.current.useLayoutEffect(e,t)};Yt.useMemo=function(e,t){return Bs.current.useMemo(e,t)};Yt.useReducer=function(e,t,r){return Bs.current.useReducer(e,t,r)};Yt.useRef=function(e){return Bs.current.useRef(e)};Yt.useState=function(e){return Bs.current.useState(e)};Yt.useSyncExternalStore=function(e,t,r){return Bs.current.useSyncExternalStore(e,t,r)};Yt.useTransition=function(){return Bs.current.useTransition()};Yt.version="18.3.1";AL.exports=Yt;var w=AL.exports;const H=Us(w),vN=LZ({__proto__:null,default:H},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eJ=w,tJ=Symbol.for("react.element"),rJ=Symbol.for("react.fragment"),nJ=Object.prototype.hasOwnProperty,sJ=eJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aJ={key:!0,ref:!0,__self:!0,__source:!0};function $L(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)nJ.call(t,n)&&!aJ.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:tJ,type:e,key:a,ref:i,props:s,_owner:sJ.current}}aw.Fragment=rJ;aw.jsx=$L;aw.jsxs=$L;jL.exports=aw;var o=jL.exports,UL={exports:{}},Ma={},BL={exports:{}},WL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,ae){var ge=Z.length;Z.push(ae);e:for(;0<ge;){var se=ge-1>>>1,R=Z[se];if(0<s(R,ae))Z[se]=ae,Z[ge]=R,ge=se;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var ae=Z[0],ge=Z.pop();if(ge!==ae){Z[0]=ge;e:for(var se=0,R=Z.length,F=R>>>1;se<F;){var L=2*(se+1)-1,I=Z[L],U=L+1,X=Z[U];if(0>s(I,ge))U<R&&0>s(X,I)?(Z[se]=X,Z[U]=ge,se=U):(Z[se]=I,Z[L]=ge,se=L);else if(U<R&&0>s(X,ge))Z[se]=X,Z[U]=ge,se=U;else break e}}return ae}function s(Z,ae){var ge=Z.sortIndex-ae.sortIndex;return ge!==0?ge:Z.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,x=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Z){for(var ae=r(u);ae!==null;){if(ae.callback===null)n(u);else if(ae.startTime<=Z)n(u),ae.sortIndex=ae.expirationTime,t(c,ae);else break;ae=r(u)}}function E(Z){if(m=!1,S(Z),!x)if(r(c)!==null)x=!0,oe(C);else{var ae=r(u);ae!==null&&re(E,ae.startTime-Z)}}function C(Z,ae){x=!1,m&&(m=!1,_(A),A=-1),p=!0;var ge=h;try{for(S(ae),f=r(c);f!==null&&(!(f.expirationTime>ae)||Z&&!W());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var R=se(f.expirationTime<=ae);ae=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(c)&&n(c),S(ae)}else n(c);f=r(c)}if(f!==null)var F=!0;else{var L=r(u);L!==null&&re(E,L.startTime-ae),F=!1}return F}finally{f=null,h=ge,p=!1}}var P=!1,N=null,A=-1,j=5,O=-1;function W(){return!(e.unstable_now()-O<j)}function z(){if(N!==null){var Z=e.unstable_now();O=Z;var ae=!0;try{ae=N(!0,Z)}finally{ae?Y():(P=!1,N=null)}}else P=!1}var Y;if(typeof y=="function")Y=function(){y(z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ie=J.port2;J.port1.onmessage=z,Y=function(){ie.postMessage(null)}}else Y=function(){g(z,0)};function oe(Z){N=Z,P||(P=!0,Y())}function re(Z,ae){A=g(function(){Z(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,oe(C))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Z){switch(h){case 1:case 2:case 3:var ae=3;break;default:ae=h}var ge=h;h=ae;try{return Z()}finally{h=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ge=h;h=Z;try{return ae()}finally{h=ge}},e.unstable_scheduleCallback=function(Z,ae,ge){var se=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?se+ge:se):ge=se,Z){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ge+R,Z={id:d++,callback:ae,priorityLevel:Z,startTime:ge,expirationTime:R,sortIndex:-1},ge>se?(Z.sortIndex=ge,t(u,Z),r(c)===null&&Z===r(u)&&(m?(_(A),A=-1):m=!0,re(E,ge-se))):(Z.sortIndex=R,t(c,Z),x||p||(x=!0,oe(C))),Z},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(Z){var ae=h;return function(){var ge=h;h=ae;try{return Z.apply(this,arguments)}finally{h=ge}}}})(WL);BL.exports=WL;var iJ=BL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oJ=w,Aa=iJ;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VL=new Set,q0={};function gf(e,t){tm(e,t),tm(e+"Capture",t)}function tm(e,t){for(q0[e]=t,e=0;e<t.length;e++)VL.add(t[e])}var Rl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I2=Object.prototype.hasOwnProperty,lJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SD={},ED={};function cJ(e){return I2.call(ED,e)?!0:I2.call(SD,e)?!1:lJ.test(e)?ED[e]=!0:(SD[e]=!0,!1)}function uJ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dJ(e,t,r,n){if(t===null||typeof t>"u"||uJ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ws(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var as={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){as[e]=new Ws(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];as[t]=new Ws(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){as[e]=new Ws(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){as[e]=new Ws(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){as[e]=new Ws(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){as[e]=new Ws(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){as[e]=new Ws(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){as[e]=new Ws(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){as[e]=new Ws(e,5,!1,e.toLowerCase(),null,!1,!1)});var gN=/[\-:]([a-z])/g;function xN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gN,xN);as[t]=new Ws(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gN,xN);as[t]=new Ws(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gN,xN);as[t]=new Ws(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){as[e]=new Ws(e,1,!1,e.toLowerCase(),null,!1,!1)});as.xlinkHref=new Ws("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){as[e]=new Ws(e,1,!1,e.toLowerCase(),null,!0,!0)});function yN(e,t,r,n){var s=as.hasOwnProperty(t)?as[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dJ(t,r,s,n)&&(r=null),n||s===null?cJ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Zl=oJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rx=Symbol.for("react.element"),lh=Symbol.for("react.portal"),ch=Symbol.for("react.fragment"),_N=Symbol.for("react.strict_mode"),M2=Symbol.for("react.profiler"),zL=Symbol.for("react.provider"),HL=Symbol.for("react.context"),wN=Symbol.for("react.forward_ref"),F2=Symbol.for("react.suspense"),L2=Symbol.for("react.suspense_list"),bN=Symbol.for("react.memo"),Tc=Symbol.for("react.lazy"),YL=Symbol.for("react.offscreen"),TD=Symbol.iterator;function Mp(e){return e===null||typeof e!="object"?null:(e=TD&&e[TD]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,VS;function l0(e){if(VS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);VS=t&&t[1]||""}return`
`+VS+e}var zS=!1;function HS(e,t){if(!e||zS)return"";zS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{zS=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?l0(e):""}function fJ(e){switch(e.tag){case 5:return l0(e.type);case 16:return l0("Lazy");case 13:return l0("Suspense");case 19:return l0("SuspenseList");case 0:case 2:case 15:return e=HS(e.type,!1),e;case 11:return e=HS(e.type.render,!1),e;case 1:return e=HS(e.type,!0),e;default:return""}}function $2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ch:return"Fragment";case lh:return"Portal";case M2:return"Profiler";case _N:return"StrictMode";case F2:return"Suspense";case L2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HL:return(e.displayName||"Context")+".Consumer";case zL:return(e._context.displayName||"Context")+".Provider";case wN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bN:return t=e.displayName||null,t!==null?t:$2(e.type)||"Memo";case Tc:t=e._payload,e=e._init;try{return $2(e(t))}catch{}}return null}function hJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $2(t);case 8:return t===_N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function GL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mJ(e){var t=GL(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ix(e){e._valueTracker||(e._valueTracker=mJ(e))}function qL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=GL(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function cy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function U2(e,t){var r=t.checked;return rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function CD(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=fu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function KL(e,t){t=t.checked,t!=null&&yN(e,"checked",t,!1)}function B2(e,t){KL(e,t);var r=fu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?W2(e,t.type,r):t.hasOwnProperty("defaultValue")&&W2(e,t.type,fu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ND(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function W2(e,t,r){(t!=="number"||cy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var c0=Array.isArray;function Eh(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+fu(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function V2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kD(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Oe(92));if(c0(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:fu(r)}}function XL(e,t){var r=fu(t.value),n=fu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function QL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?QL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mx,ZL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mx=Mx||document.createElement("div"),Mx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function K0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var y0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pJ=["Webkit","ms","Moz","O"];Object.keys(y0).forEach(function(e){pJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),y0[t]=y0[e]})});function JL(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||y0.hasOwnProperty(e)&&y0[e]?(""+t).trim():t+"px"}function e6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=JL(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var vJ=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function H2(e,t){if(t){if(vJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function Y2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G2=null;function SN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var q2=null,Th=null,Ch=null;function AD(e){if(e=vg(e)){if(typeof q2!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=uw(t),q2(e.stateNode,e.type,t))}}function t6(e){Th?Ch?Ch.push(e):Ch=[e]:Th=e}function r6(){if(Th){var e=Th,t=Ch;if(Ch=Th=null,AD(e),t)for(e=0;e<t.length;e++)AD(t[e])}}function n6(e,t){return e(t)}function s6(){}var YS=!1;function a6(e,t,r){if(YS)return e(t,r);YS=!0;try{return n6(e,t,r)}finally{YS=!1,(Th!==null||Ch!==null)&&(s6(),r6())}}function X0(e,t){var r=e.stateNode;if(r===null)return null;var n=uw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Oe(231,t,typeof r));return r}var K2=!1;if(Rl)try{var Fp={};Object.defineProperty(Fp,"passive",{get:function(){K2=!0}}),window.addEventListener("test",Fp,Fp),window.removeEventListener("test",Fp,Fp)}catch{K2=!1}function gJ(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var _0=!1,uy=null,dy=!1,X2=null,xJ={onError:function(e){_0=!0,uy=e}};function yJ(e,t,r,n,s,a,i,l,c){_0=!1,uy=null,gJ.apply(xJ,arguments)}function _J(e,t,r,n,s,a,i,l,c){if(yJ.apply(this,arguments),_0){if(_0){var u=uy;_0=!1,uy=null}else throw Error(Oe(198));dy||(dy=!0,X2=u)}}function xf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function i6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function PD(e){if(xf(e)!==e)throw Error(Oe(188))}function wJ(e){var t=e.alternate;if(!t){if(t=xf(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return PD(s),e;if(a===n)return PD(s),t;a=a.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?e:t}function o6(e){return e=wJ(e),e!==null?l6(e):null}function l6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=l6(e);if(t!==null)return t;e=e.sibling}return null}var c6=Aa.unstable_scheduleCallback,OD=Aa.unstable_cancelCallback,bJ=Aa.unstable_shouldYield,SJ=Aa.unstable_requestPaint,xn=Aa.unstable_now,EJ=Aa.unstable_getCurrentPriorityLevel,EN=Aa.unstable_ImmediatePriority,u6=Aa.unstable_UserBlockingPriority,fy=Aa.unstable_NormalPriority,TJ=Aa.unstable_LowPriority,d6=Aa.unstable_IdlePriority,iw=null,ko=null;function CJ(e){if(ko&&typeof ko.onCommitFiberRoot=="function")try{ko.onCommitFiberRoot(iw,e,void 0,(e.current.flags&128)===128)}catch{}}var Ui=Math.clz32?Math.clz32:jJ,NJ=Math.log,kJ=Math.LN2;function jJ(e){return e>>>=0,e===0?32:31-(NJ(e)/kJ|0)|0}var Fx=64,Lx=4194304;function u0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=u0(l):(a&=i,a!==0&&(n=u0(a)))}else i=r&~s,i!==0?n=u0(i):a!==0&&(n=u0(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ui(t),s=1<<r,n|=e[r],t&=~s;return n}function AJ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PJ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ui(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=AJ(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Q2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f6(){var e=Fx;return Fx<<=1,!(Fx&4194240)&&(Fx=64),e}function GS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ui(t),e[t]=r}function OJ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ui(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function TN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ui(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var wr=0;function h6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m6,CN,p6,v6,g6,Z2=!1,$x=[],Xc=null,Qc=null,Zc=null,Q0=new Map,Z0=new Map,kc=[],DJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DD(e,t){switch(e){case"focusin":case"focusout":Xc=null;break;case"dragenter":case"dragleave":Qc=null;break;case"mouseover":case"mouseout":Zc=null;break;case"pointerover":case"pointerout":Q0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Z0.delete(t.pointerId)}}function Lp(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=vg(t),t!==null&&CN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function RJ(e,t,r,n,s){switch(t){case"focusin":return Xc=Lp(Xc,e,t,r,n,s),!0;case"dragenter":return Qc=Lp(Qc,e,t,r,n,s),!0;case"mouseover":return Zc=Lp(Zc,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Q0.set(a,Lp(Q0.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Z0.set(a,Lp(Z0.get(a)||null,e,t,r,n,s)),!0}return!1}function x6(e){var t=md(e.target);if(t!==null){var r=xf(t);if(r!==null){if(t=r.tag,t===13){if(t=i6(r),t!==null){e.blockedOn=t,g6(e.priority,function(){p6(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function O1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=J2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);G2=n,r.target.dispatchEvent(n),G2=null}else return t=vg(r),t!==null&&CN(t),e.blockedOn=r,!1;t.shift()}return!0}function RD(e,t,r){O1(e)&&r.delete(t)}function IJ(){Z2=!1,Xc!==null&&O1(Xc)&&(Xc=null),Qc!==null&&O1(Qc)&&(Qc=null),Zc!==null&&O1(Zc)&&(Zc=null),Q0.forEach(RD),Z0.forEach(RD)}function $p(e,t){e.blockedOn===t&&(e.blockedOn=null,Z2||(Z2=!0,Aa.unstable_scheduleCallback(Aa.unstable_NormalPriority,IJ)))}function J0(e){function t(s){return $p(s,e)}if(0<$x.length){$p($x[0],e);for(var r=1;r<$x.length;r++){var n=$x[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xc!==null&&$p(Xc,e),Qc!==null&&$p(Qc,e),Zc!==null&&$p(Zc,e),Q0.forEach(t),Z0.forEach(t),r=0;r<kc.length;r++)n=kc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<kc.length&&(r=kc[0],r.blockedOn===null);)x6(r),r.blockedOn===null&&kc.shift()}var Nh=Zl.ReactCurrentBatchConfig,my=!0;function MJ(e,t,r,n){var s=wr,a=Nh.transition;Nh.transition=null;try{wr=1,NN(e,t,r,n)}finally{wr=s,Nh.transition=a}}function FJ(e,t,r,n){var s=wr,a=Nh.transition;Nh.transition=null;try{wr=4,NN(e,t,r,n)}finally{wr=s,Nh.transition=a}}function NN(e,t,r,n){if(my){var s=J2(e,t,r,n);if(s===null)nE(e,t,n,py,r),DD(e,n);else if(RJ(s,e,t,r,n))n.stopPropagation();else if(DD(e,n),t&4&&-1<DJ.indexOf(e)){for(;s!==null;){var a=vg(s);if(a!==null&&m6(a),a=J2(e,t,r,n),a===null&&nE(e,t,n,py,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else nE(e,t,n,null,r)}}var py=null;function J2(e,t,r,n){if(py=null,e=SN(n),e=md(e),e!==null)if(t=xf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=i6(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return py=e,null}function y6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EJ()){case EN:return 1;case u6:return 4;case fy:case TJ:return 16;case d6:return 536870912;default:return 16}default:return 16}}var Bc=null,kN=null,D1=null;function _6(){if(D1)return D1;var e,t=kN,r=t.length,n,s="value"in Bc?Bc.value:Bc.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return D1=s.slice(e,1<n?1-n:void 0)}function R1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ux(){return!0}function ID(){return!1}function Fa(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ux:ID,this.isPropagationStopped=ID,this}return rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ux)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ux)},persist:function(){},isPersistent:Ux}),t}var Um={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jN=Fa(Um),pg=rn({},Um,{view:0,detail:0}),LJ=Fa(pg),qS,KS,Up,ow=rn({},pg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Up&&(Up&&e.type==="mousemove"?(qS=e.screenX-Up.screenX,KS=e.screenY-Up.screenY):KS=qS=0,Up=e),qS)},movementY:function(e){return"movementY"in e?e.movementY:KS}}),MD=Fa(ow),$J=rn({},ow,{dataTransfer:0}),UJ=Fa($J),BJ=rn({},pg,{relatedTarget:0}),XS=Fa(BJ),WJ=rn({},Um,{animationName:0,elapsedTime:0,pseudoElement:0}),VJ=Fa(WJ),zJ=rn({},Um,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HJ=Fa(zJ),YJ=rn({},Um,{data:0}),FD=Fa(YJ),GJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XJ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=KJ[e])?!!t[e]:!1}function AN(){return XJ}var QJ=rn({},pg,{key:function(e){if(e.key){var t=GJ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=R1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qJ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AN,charCode:function(e){return e.type==="keypress"?R1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?R1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZJ=Fa(QJ),JJ=rn({},ow,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LD=Fa(JJ),eee=rn({},pg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AN}),tee=Fa(eee),ree=rn({},Um,{propertyName:0,elapsedTime:0,pseudoElement:0}),nee=Fa(ree),see=rn({},ow,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aee=Fa(see),iee=[9,13,27,32],PN=Rl&&"CompositionEvent"in window,w0=null;Rl&&"documentMode"in document&&(w0=document.documentMode);var oee=Rl&&"TextEvent"in window&&!w0,w6=Rl&&(!PN||w0&&8<w0&&11>=w0),$D=" ",UD=!1;function b6(e,t){switch(e){case"keyup":return iee.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uh=!1;function lee(e,t){switch(e){case"compositionend":return S6(t);case"keypress":return t.which!==32?null:(UD=!0,$D);case"textInput":return e=t.data,e===$D&&UD?null:e;default:return null}}function cee(e,t){if(uh)return e==="compositionend"||!PN&&b6(e,t)?(e=_6(),D1=kN=Bc=null,uh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return w6&&t.locale!=="ko"?null:t.data;default:return null}}var uee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uee[e.type]:t==="textarea"}function E6(e,t,r,n){t6(n),t=vy(t,"onChange"),0<t.length&&(r=new jN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var b0=null,ev=null;function dee(e){I6(e,0)}function lw(e){var t=hh(e);if(qL(t))return e}function fee(e,t){if(e==="change")return t}var T6=!1;if(Rl){var QS;if(Rl){var ZS="oninput"in document;if(!ZS){var WD=document.createElement("div");WD.setAttribute("oninput","return;"),ZS=typeof WD.oninput=="function"}QS=ZS}else QS=!1;T6=QS&&(!document.documentMode||9<document.documentMode)}function VD(){b0&&(b0.detachEvent("onpropertychange",C6),ev=b0=null)}function C6(e){if(e.propertyName==="value"&&lw(ev)){var t=[];E6(t,ev,e,SN(e)),a6(dee,t)}}function hee(e,t,r){e==="focusin"?(VD(),b0=t,ev=r,b0.attachEvent("onpropertychange",C6)):e==="focusout"&&VD()}function mee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lw(ev)}function pee(e,t){if(e==="click")return lw(t)}function vee(e,t){if(e==="input"||e==="change")return lw(t)}function gee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yi=typeof Object.is=="function"?Object.is:gee;function tv(e,t){if(Yi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!I2.call(t,s)||!Yi(e[s],t[s]))return!1}return!0}function zD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function HD(e,t){var r=zD(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zD(r)}}function N6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?N6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function k6(){for(var e=window,t=cy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=cy(e.document)}return t}function ON(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xee(e){var t=k6(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&N6(r.ownerDocument.documentElement,r)){if(n!==null&&ON(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=HD(r,a);var i=HD(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yee=Rl&&"documentMode"in document&&11>=document.documentMode,dh=null,eT=null,S0=null,tT=!1;function YD(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tT||dh==null||dh!==cy(n)||(n=dh,"selectionStart"in n&&ON(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),S0&&tv(S0,n)||(S0=n,n=vy(eT,"onSelect"),0<n.length&&(t=new jN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=dh)))}function Bx(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fh={animationend:Bx("Animation","AnimationEnd"),animationiteration:Bx("Animation","AnimationIteration"),animationstart:Bx("Animation","AnimationStart"),transitionend:Bx("Transition","TransitionEnd")},JS={},j6={};Rl&&(j6=document.createElement("div").style,"AnimationEvent"in window||(delete fh.animationend.animation,delete fh.animationiteration.animation,delete fh.animationstart.animation),"TransitionEvent"in window||delete fh.transitionend.transition);function cw(e){if(JS[e])return JS[e];if(!fh[e])return e;var t=fh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in j6)return JS[e]=t[r];return e}var A6=cw("animationend"),P6=cw("animationiteration"),O6=cw("animationstart"),D6=cw("transitionend"),R6=new Map,GD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ju(e,t){R6.set(e,t),gf(t,[e])}for(var eE=0;eE<GD.length;eE++){var tE=GD[eE],_ee=tE.toLowerCase(),wee=tE[0].toUpperCase()+tE.slice(1);ju(_ee,"on"+wee)}ju(A6,"onAnimationEnd");ju(P6,"onAnimationIteration");ju(O6,"onAnimationStart");ju("dblclick","onDoubleClick");ju("focusin","onFocus");ju("focusout","onBlur");ju(D6,"onTransitionEnd");tm("onMouseEnter",["mouseout","mouseover"]);tm("onMouseLeave",["mouseout","mouseover"]);tm("onPointerEnter",["pointerout","pointerover"]);tm("onPointerLeave",["pointerout","pointerover"]);gf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gf("onBeforeInput",["compositionend","keypress","textInput","paste"]);gf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var d0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bee=new Set("cancel close invalid load scroll toggle".split(" ").concat(d0));function qD(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_J(n,t,void 0,e),e.currentTarget=null}function I6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;qD(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;qD(s,l,u),a=c}}}if(dy)throw e=X2,dy=!1,X2=null,e}function Lr(e,t){var r=t[iT];r===void 0&&(r=t[iT]=new Set);var n=e+"__bubble";r.has(n)||(M6(t,e,2,!1),r.add(n))}function rE(e,t,r){var n=0;t&&(n|=4),M6(r,e,n,t)}var Wx="_reactListening"+Math.random().toString(36).slice(2);function rv(e){if(!e[Wx]){e[Wx]=!0,VL.forEach(function(r){r!=="selectionchange"&&(bee.has(r)||rE(r,!1,e),rE(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wx]||(t[Wx]=!0,rE("selectionchange",!1,t))}}function M6(e,t,r,n){switch(y6(t)){case 1:var s=MJ;break;case 4:s=FJ;break;default:s=NN}r=s.bind(null,t,r,e),s=void 0,!K2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function nE(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=md(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}a6(function(){var u=a,d=SN(r),f=[];e:{var h=R6.get(e);if(h!==void 0){var p=jN,x=e;switch(e){case"keypress":if(R1(r)===0)break e;case"keydown":case"keyup":p=ZJ;break;case"focusin":x="focus",p=XS;break;case"focusout":x="blur",p=XS;break;case"beforeblur":case"afterblur":p=XS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=MD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tee;break;case A6:case P6:case O6:p=VJ;break;case D6:p=nee;break;case"scroll":p=LJ;break;case"wheel":p=aee;break;case"copy":case"cut":case"paste":p=HJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=LD}var m=(t&4)!==0,g=!m&&e==="scroll",_=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,S;y!==null;){S=y;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,_!==null&&(E=X0(y,_),E!=null&&m.push(nv(y,E,S)))),g)break;y=y.return}0<m.length&&(h=new p(h,x,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==G2&&(x=r.relatedTarget||r.fromElement)&&(md(x)||x[Il]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?md(x):null,x!==null&&(g=xf(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(m=MD,E="onMouseLeave",_="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=LD,E="onPointerLeave",_="onPointerEnter",y="pointer"),g=p==null?h:hh(p),S=x==null?h:hh(x),h=new m(E,y+"leave",p,r,d),h.target=g,h.relatedTarget=S,E=null,md(d)===u&&(m=new m(_,y+"enter",x,r,d),m.target=S,m.relatedTarget=g,E=m),g=E,p&&x)t:{for(m=p,_=x,y=0,S=m;S;S=zf(S))y++;for(S=0,E=_;E;E=zf(E))S++;for(;0<y-S;)m=zf(m),y--;for(;0<S-y;)_=zf(_),S--;for(;y--;){if(m===_||_!==null&&m===_.alternate)break t;m=zf(m),_=zf(_)}m=null}else m=null;p!==null&&KD(f,h,p,m,!1),x!==null&&g!==null&&KD(f,g,x,m,!0)}}e:{if(h=u?hh(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=fee;else if(BD(h))if(T6)C=vee;else{C=mee;var P=hee}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=pee);if(C&&(C=C(e,u))){E6(f,C,r,d);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&W2(h,"number",h.value)}switch(P=u?hh(u):window,e){case"focusin":(BD(P)||P.contentEditable==="true")&&(dh=P,eT=u,S0=null);break;case"focusout":S0=eT=dh=null;break;case"mousedown":tT=!0;break;case"contextmenu":case"mouseup":case"dragend":tT=!1,YD(f,r,d);break;case"selectionchange":if(yee)break;case"keydown":case"keyup":YD(f,r,d)}var N;if(PN)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else uh?b6(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(w6&&r.locale!=="ko"&&(uh||A!=="onCompositionStart"?A==="onCompositionEnd"&&uh&&(N=_6()):(Bc=d,kN="value"in Bc?Bc.value:Bc.textContent,uh=!0)),P=vy(u,A),0<P.length&&(A=new FD(A,e,null,r,d),f.push({event:A,listeners:P}),N?A.data=N:(N=S6(r),N!==null&&(A.data=N)))),(N=oee?lee(e,r):cee(e,r))&&(u=vy(u,"onBeforeInput"),0<u.length&&(d=new FD("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}I6(f,t)})}function nv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vy(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=X0(e,r),a!=null&&n.unshift(nv(e,a,s)),a=X0(e,t),a!=null&&n.push(nv(e,a,s))),e=e.return}return n}function zf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function KD(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=X0(r,a),c!=null&&i.unshift(nv(r,c,l))):s||(c=X0(r,a),c!=null&&i.push(nv(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var See=/\r\n?/g,Eee=/\u0000|\uFFFD/g;function XD(e){return(typeof e=="string"?e:""+e).replace(See,`
`).replace(Eee,"")}function Vx(e,t,r){if(t=XD(t),XD(e)!==t&&r)throw Error(Oe(425))}function gy(){}var rT=null,nT=null;function sT(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var aT=typeof setTimeout=="function"?setTimeout:void 0,Tee=typeof clearTimeout=="function"?clearTimeout:void 0,QD=typeof Promise=="function"?Promise:void 0,Cee=typeof queueMicrotask=="function"?queueMicrotask:typeof QD<"u"?function(e){return QD.resolve(null).then(e).catch(Nee)}:aT;function Nee(e){setTimeout(function(){throw e})}function sE(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),J0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);J0(t)}function Jc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ZD(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bm=Math.random().toString(36).slice(2),go="__reactFiber$"+Bm,sv="__reactProps$"+Bm,Il="__reactContainer$"+Bm,iT="__reactEvents$"+Bm,kee="__reactListeners$"+Bm,jee="__reactHandles$"+Bm;function md(e){var t=e[go];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Il]||r[go]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ZD(e);e!==null;){if(r=e[go])return r;e=ZD(e)}return t}e=r,r=e.parentNode}return null}function vg(e){return e=e[go]||e[Il],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function uw(e){return e[sv]||null}var oT=[],mh=-1;function Au(e){return{current:e}}function Vr(e){0>mh||(e.current=oT[mh],oT[mh]=null,mh--)}function Dr(e,t){mh++,oT[mh]=e.current,e.current=t}var hu={},ws=Au(hu),ra=Au(!1),Md=hu;function rm(e,t){var r=e.type.contextTypes;if(!r)return hu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function na(e){return e=e.childContextTypes,e!=null}function xy(){Vr(ra),Vr(ws)}function JD(e,t,r){if(ws.current!==hu)throw Error(Oe(168));Dr(ws,t),Dr(ra,r)}function F6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Oe(108,hJ(e)||"Unknown",s));return rn({},r,n)}function yy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hu,Md=ws.current,Dr(ws,e),Dr(ra,ra.current),!0}function eR(e,t,r){var n=e.stateNode;if(!n)throw Error(Oe(169));r?(e=F6(e,t,Md),n.__reactInternalMemoizedMergedChildContext=e,Vr(ra),Vr(ws),Dr(ws,e)):Vr(ra),Dr(ra,r)}var fl=null,dw=!1,aE=!1;function L6(e){fl===null?fl=[e]:fl.push(e)}function Aee(e){dw=!0,L6(e)}function Pu(){if(!aE&&fl!==null){aE=!0;var e=0,t=wr;try{var r=fl;for(wr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fl=null,dw=!1}catch(s){throw fl!==null&&(fl=fl.slice(e+1)),c6(EN,Pu),s}finally{wr=t,aE=!1}}return null}var ph=[],vh=0,_y=null,wy=0,Xa=[],Qa=0,Fd=null,pl=1,vl="";function sd(e,t){ph[vh++]=wy,ph[vh++]=_y,_y=e,wy=t}function $6(e,t,r){Xa[Qa++]=pl,Xa[Qa++]=vl,Xa[Qa++]=Fd,Fd=e;var n=pl;e=vl;var s=32-Ui(n)-1;n&=~(1<<s),r+=1;var a=32-Ui(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,pl=1<<32-Ui(t)+s|r<<s|n,vl=a+e}else pl=1<<a|r<<s|n,vl=e}function DN(e){e.return!==null&&(sd(e,1),$6(e,1,0))}function RN(e){for(;e===_y;)_y=ph[--vh],ph[vh]=null,wy=ph[--vh],ph[vh]=null;for(;e===Fd;)Fd=Xa[--Qa],Xa[Qa]=null,vl=Xa[--Qa],Xa[Qa]=null,pl=Xa[--Qa],Xa[Qa]=null}var ka=null,Ca=null,Xr=!1,Pi=null;function U6(e,t){var r=ti(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tR(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ka=e,Ca=Jc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ka=e,Ca=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Fd!==null?{id:pl,overflow:vl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ti(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ka=e,Ca=null,!0):!1;default:return!1}}function lT(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cT(e){if(Xr){var t=Ca;if(t){var r=t;if(!tR(e,t)){if(lT(e))throw Error(Oe(418));t=Jc(r.nextSibling);var n=ka;t&&tR(e,t)?U6(n,r):(e.flags=e.flags&-4097|2,Xr=!1,ka=e)}}else{if(lT(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,Xr=!1,ka=e}}}function rR(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ka=e}function zx(e){if(e!==ka)return!1;if(!Xr)return rR(e),Xr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sT(e.type,e.memoizedProps)),t&&(t=Ca)){if(lT(e))throw B6(),Error(Oe(418));for(;t;)U6(e,t),t=Jc(t.nextSibling)}if(rR(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ca=Jc(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ca=null}}else Ca=ka?Jc(e.stateNode.nextSibling):null;return!0}function B6(){for(var e=Ca;e;)e=Jc(e.nextSibling)}function nm(){Ca=ka=null,Xr=!1}function IN(e){Pi===null?Pi=[e]:Pi.push(e)}var Pee=Zl.ReactCurrentBatchConfig;function Bp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,e))}return e}function Hx(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nR(e){var t=e._init;return t(e._payload)}function W6(e){function t(_,y){if(e){var S=_.deletions;S===null?(_.deletions=[y],_.flags|=16):S.push(y)}}function r(_,y){if(!e)return null;for(;y!==null;)t(_,y),y=y.sibling;return null}function n(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=nu(_,y),_.index=0,_.sibling=null,_}function a(_,y,S){return _.index=S,e?(S=_.alternate,S!==null?(S=S.index,S<y?(_.flags|=2,y):S):(_.flags|=2,y)):(_.flags|=1048576,y)}function i(_){return e&&_.alternate===null&&(_.flags|=2),_}function l(_,y,S,E){return y===null||y.tag!==6?(y=fE(S,_.mode,E),y.return=_,y):(y=s(y,S),y.return=_,y)}function c(_,y,S,E){var C=S.type;return C===ch?d(_,y,S.props.children,E,S.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Tc&&nR(C)===y.type)?(E=s(y,S.props),E.ref=Bp(_,y,S),E.return=_,E):(E=B1(S.type,S.key,S.props,null,_.mode,E),E.ref=Bp(_,y,S),E.return=_,E)}function u(_,y,S,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=hE(S,_.mode,E),y.return=_,y):(y=s(y,S.children||[]),y.return=_,y)}function d(_,y,S,E,C){return y===null||y.tag!==7?(y=kd(S,_.mode,E,C),y.return=_,y):(y=s(y,S),y.return=_,y)}function f(_,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=fE(""+y,_.mode,S),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rx:return S=B1(y.type,y.key,y.props,null,_.mode,S),S.ref=Bp(_,null,y),S.return=_,S;case lh:return y=hE(y,_.mode,S),y.return=_,y;case Tc:var E=y._init;return f(_,E(y._payload),S)}if(c0(y)||Mp(y))return y=kd(y,_.mode,S,null),y.return=_,y;Hx(_,y)}return null}function h(_,y,S,E){var C=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:l(_,y,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Rx:return S.key===C?c(_,y,S,E):null;case lh:return S.key===C?u(_,y,S,E):null;case Tc:return C=S._init,h(_,y,C(S._payload),E)}if(c0(S)||Mp(S))return C!==null?null:d(_,y,S,E,null);Hx(_,S)}return null}function p(_,y,S,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return _=_.get(S)||null,l(y,_,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Rx:return _=_.get(E.key===null?S:E.key)||null,c(y,_,E,C);case lh:return _=_.get(E.key===null?S:E.key)||null,u(y,_,E,C);case Tc:var P=E._init;return p(_,y,S,P(E._payload),C)}if(c0(E)||Mp(E))return _=_.get(S)||null,d(y,_,E,C,null);Hx(y,E)}return null}function x(_,y,S,E){for(var C=null,P=null,N=y,A=y=0,j=null;N!==null&&A<S.length;A++){N.index>A?(j=N,N=null):j=N.sibling;var O=h(_,N,S[A],E);if(O===null){N===null&&(N=j);break}e&&N&&O.alternate===null&&t(_,N),y=a(O,y,A),P===null?C=O:P.sibling=O,P=O,N=j}if(A===S.length)return r(_,N),Xr&&sd(_,A),C;if(N===null){for(;A<S.length;A++)N=f(_,S[A],E),N!==null&&(y=a(N,y,A),P===null?C=N:P.sibling=N,P=N);return Xr&&sd(_,A),C}for(N=n(_,N);A<S.length;A++)j=p(N,_,A,S[A],E),j!==null&&(e&&j.alternate!==null&&N.delete(j.key===null?A:j.key),y=a(j,y,A),P===null?C=j:P.sibling=j,P=j);return e&&N.forEach(function(W){return t(_,W)}),Xr&&sd(_,A),C}function m(_,y,S,E){var C=Mp(S);if(typeof C!="function")throw Error(Oe(150));if(S=C.call(S),S==null)throw Error(Oe(151));for(var P=C=null,N=y,A=y=0,j=null,O=S.next();N!==null&&!O.done;A++,O=S.next()){N.index>A?(j=N,N=null):j=N.sibling;var W=h(_,N,O.value,E);if(W===null){N===null&&(N=j);break}e&&N&&W.alternate===null&&t(_,N),y=a(W,y,A),P===null?C=W:P.sibling=W,P=W,N=j}if(O.done)return r(_,N),Xr&&sd(_,A),C;if(N===null){for(;!O.done;A++,O=S.next())O=f(_,O.value,E),O!==null&&(y=a(O,y,A),P===null?C=O:P.sibling=O,P=O);return Xr&&sd(_,A),C}for(N=n(_,N);!O.done;A++,O=S.next())O=p(N,_,A,O.value,E),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?A:O.key),y=a(O,y,A),P===null?C=O:P.sibling=O,P=O);return e&&N.forEach(function(z){return t(_,z)}),Xr&&sd(_,A),C}function g(_,y,S,E){if(typeof S=="object"&&S!==null&&S.type===ch&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Rx:e:{for(var C=S.key,P=y;P!==null;){if(P.key===C){if(C=S.type,C===ch){if(P.tag===7){r(_,P.sibling),y=s(P,S.props.children),y.return=_,_=y;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Tc&&nR(C)===P.type){r(_,P.sibling),y=s(P,S.props),y.ref=Bp(_,P,S),y.return=_,_=y;break e}r(_,P);break}else t(_,P);P=P.sibling}S.type===ch?(y=kd(S.props.children,_.mode,E,S.key),y.return=_,_=y):(E=B1(S.type,S.key,S.props,null,_.mode,E),E.ref=Bp(_,y,S),E.return=_,_=E)}return i(_);case lh:e:{for(P=S.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){r(_,y.sibling),y=s(y,S.children||[]),y.return=_,_=y;break e}else{r(_,y);break}else t(_,y);y=y.sibling}y=hE(S,_.mode,E),y.return=_,_=y}return i(_);case Tc:return P=S._init,g(_,y,P(S._payload),E)}if(c0(S))return x(_,y,S,E);if(Mp(S))return m(_,y,S,E);Hx(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(r(_,y.sibling),y=s(y,S),y.return=_,_=y):(r(_,y),y=fE(S,_.mode,E),y.return=_,_=y),i(_)):r(_,y)}return g}var sm=W6(!0),V6=W6(!1),by=Au(null),Sy=null,gh=null,MN=null;function FN(){MN=gh=Sy=null}function LN(e){var t=by.current;Vr(by),e._currentValue=t}function uT(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function kh(e,t){Sy=e,MN=gh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Js=!0),e.firstContext=null)}function ii(e){var t=e._currentValue;if(MN!==e)if(e={context:e,memoizedValue:t,next:null},gh===null){if(Sy===null)throw Error(Oe(308));gh=e,Sy.dependencies={lanes:0,firstContext:e}}else gh=gh.next=e;return t}var pd=null;function $N(e){pd===null?pd=[e]:pd.push(e)}function z6(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,$N(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ml(e,n)}function Ml(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Cc=!1;function UN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function eu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Jt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ml(e,r)}return s=n.interleaved,s===null?(t.next=t,$N(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ml(e,r)}function I1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,TN(e,r)}}function sR(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ey(e,t,r,n){var s=e.updateQueue;Cc=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,m=l;switch(h=t,p=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){f=x.call(p,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,h=typeof x=="function"?x.call(p,f,h):x,h==null)break e;f=rn({},f,h);break e;case 2:Cc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);$d|=i,e.lanes=i,e.memoizedState=f}}function aR(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Oe(191,s));s.call(n)}}}var gg={},jo=Au(gg),av=Au(gg),iv=Au(gg);function vd(e){if(e===gg)throw Error(Oe(174));return e}function BN(e,t){switch(Dr(iv,t),Dr(av,e),Dr(jo,gg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:z2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=z2(t,e)}Vr(jo),Dr(jo,t)}function am(){Vr(jo),Vr(av),Vr(iv)}function Y6(e){vd(iv.current);var t=vd(jo.current),r=z2(t,e.type);t!==r&&(Dr(av,e),Dr(jo,r))}function WN(e){av.current===e&&(Vr(jo),Vr(av))}var Jr=Au(0);function Ty(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iE=[];function VN(){for(var e=0;e<iE.length;e++)iE[e]._workInProgressVersionPrimary=null;iE.length=0}var M1=Zl.ReactCurrentDispatcher,oE=Zl.ReactCurrentBatchConfig,Ld=0,tn=null,Rn=null,Wn=null,Cy=!1,E0=!1,ov=0,Oee=0;function fs(){throw Error(Oe(321))}function zN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yi(e[r],t[r]))return!1;return!0}function HN(e,t,r,n,s,a){if(Ld=a,tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M1.current=e===null||e.memoizedState===null?Mee:Fee,e=r(n,s),E0){a=0;do{if(E0=!1,ov=0,25<=a)throw Error(Oe(301));a+=1,Wn=Rn=null,t.updateQueue=null,M1.current=Lee,e=r(n,s)}while(E0)}if(M1.current=Ny,t=Rn!==null&&Rn.next!==null,Ld=0,Wn=Rn=tn=null,Cy=!1,t)throw Error(Oe(300));return e}function YN(){var e=ov!==0;return ov=0,e}function fo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?tn.memoizedState=Wn=e:Wn=Wn.next=e,Wn}function oi(){if(Rn===null){var e=tn.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=Wn===null?tn.memoizedState:Wn.next;if(t!==null)Wn=t,Rn=e;else{if(e===null)throw Error(Oe(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Wn===null?tn.memoizedState=Wn=e:Wn=Wn.next=e}return Wn}function lv(e,t){return typeof t=="function"?t(e):t}function lE(e){var t=oi(),r=t.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=e;var n=Rn,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((Ld&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,tn.lanes|=d,$d|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,Yi(n,t.memoizedState)||(Js=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,tn.lanes|=a,$d|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cE(e){var t=oi(),r=t.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Yi(a,t.memoizedState)||(Js=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function G6(){}function q6(e,t){var r=tn,n=oi(),s=t(),a=!Yi(n.memoizedState,s);if(a&&(n.memoizedState=s,Js=!0),n=n.queue,GN(Q6.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Wn!==null&&Wn.memoizedState.tag&1){if(r.flags|=2048,cv(9,X6.bind(null,r,n,s,t),void 0,null),Gn===null)throw Error(Oe(349));Ld&30||K6(r,t,s)}return s}function K6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function X6(e,t,r,n){t.value=r,t.getSnapshot=n,Z6(t)&&J6(e)}function Q6(e,t,r){return r(function(){Z6(t)&&J6(e)})}function Z6(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yi(e,r)}catch{return!0}}function J6(e){var t=Ml(e,1);t!==null&&Bi(t,e,1,-1)}function iR(e){var t=fo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lv,lastRenderedState:e},t.queue=e,e=e.dispatch=Iee.bind(null,tn,e),[t.memoizedState,e]}function cv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function e5(){return oi().memoizedState}function F1(e,t,r,n){var s=fo();tn.flags|=e,s.memoizedState=cv(1|t,r,void 0,n===void 0?null:n)}function fw(e,t,r,n){var s=oi();n=n===void 0?null:n;var a=void 0;if(Rn!==null){var i=Rn.memoizedState;if(a=i.destroy,n!==null&&zN(n,i.deps)){s.memoizedState=cv(t,r,a,n);return}}tn.flags|=e,s.memoizedState=cv(1|t,r,a,n)}function oR(e,t){return F1(8390656,8,e,t)}function GN(e,t){return fw(2048,8,e,t)}function t5(e,t){return fw(4,2,e,t)}function r5(e,t){return fw(4,4,e,t)}function n5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function s5(e,t,r){return r=r!=null?r.concat([e]):null,fw(4,4,n5.bind(null,t,e),r)}function qN(){}function a5(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function i5(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function o5(e,t,r){return Ld&21?(Yi(r,t)||(r=f6(),tn.lanes|=r,$d|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Js=!0),e.memoizedState=r)}function Dee(e,t){var r=wr;wr=r!==0&&4>r?r:4,e(!0);var n=oE.transition;oE.transition={};try{e(!1),t()}finally{wr=r,oE.transition=n}}function l5(){return oi().memoizedState}function Ree(e,t,r){var n=ru(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},c5(e))u5(t,r);else if(r=z6(e,t,r,n),r!==null){var s=Ms();Bi(r,e,n,s),d5(r,t,n)}}function Iee(e,t,r){var n=ru(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(c5(e))u5(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,Yi(l,i)){var c=t.interleaved;c===null?(s.next=s,$N(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=z6(e,t,s,n),r!==null&&(s=Ms(),Bi(r,e,n,s),d5(r,t,n))}}function c5(e){var t=e.alternate;return e===tn||t!==null&&t===tn}function u5(e,t){E0=Cy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function d5(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,TN(e,r)}}var Ny={readContext:ii,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Mee={readContext:ii,useCallback:function(e,t){return fo().memoizedState=[e,t===void 0?null:t],e},useContext:ii,useEffect:oR,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,F1(4194308,4,n5.bind(null,t,e),r)},useLayoutEffect:function(e,t){return F1(4194308,4,e,t)},useInsertionEffect:function(e,t){return F1(4,2,e,t)},useMemo:function(e,t){var r=fo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=fo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ree.bind(null,tn,e),[n.memoizedState,e]},useRef:function(e){var t=fo();return e={current:e},t.memoizedState=e},useState:iR,useDebugValue:qN,useDeferredValue:function(e){return fo().memoizedState=e},useTransition:function(){var e=iR(!1),t=e[0];return e=Dee.bind(null,e[1]),fo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=tn,s=fo();if(Xr){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=t(),Gn===null)throw Error(Oe(349));Ld&30||K6(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,oR(Q6.bind(null,n,a,e),[e]),n.flags|=2048,cv(9,X6.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=fo(),t=Gn.identifierPrefix;if(Xr){var r=vl,n=pl;r=(n&~(1<<32-Ui(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ov++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Oee++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fee={readContext:ii,useCallback:a5,useContext:ii,useEffect:GN,useImperativeHandle:s5,useInsertionEffect:t5,useLayoutEffect:r5,useMemo:i5,useReducer:lE,useRef:e5,useState:function(){return lE(lv)},useDebugValue:qN,useDeferredValue:function(e){var t=oi();return o5(t,Rn.memoizedState,e)},useTransition:function(){var e=lE(lv)[0],t=oi().memoizedState;return[e,t]},useMutableSource:G6,useSyncExternalStore:q6,useId:l5,unstable_isNewReconciler:!1},Lee={readContext:ii,useCallback:a5,useContext:ii,useEffect:GN,useImperativeHandle:s5,useInsertionEffect:t5,useLayoutEffect:r5,useMemo:i5,useReducer:cE,useRef:e5,useState:function(){return cE(lv)},useDebugValue:qN,useDeferredValue:function(e){var t=oi();return Rn===null?t.memoizedState=e:o5(t,Rn.memoizedState,e)},useTransition:function(){var e=cE(lv)[0],t=oi().memoizedState;return[e,t]},useMutableSource:G6,useSyncExternalStore:q6,useId:l5,unstable_isNewReconciler:!1};function Ci(e,t){if(e&&e.defaultProps){t=rn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function dT(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hw={isMounted:function(e){return(e=e._reactInternals)?xf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ms(),s=ru(e),a=bl(n,s);a.payload=t,r!=null&&(a.callback=r),t=eu(e,a,s),t!==null&&(Bi(t,e,s,n),I1(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ms(),s=ru(e),a=bl(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=eu(e,a,s),t!==null&&(Bi(t,e,s,n),I1(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ms(),n=ru(e),s=bl(r,n);s.tag=2,t!=null&&(s.callback=t),t=eu(e,s,n),t!==null&&(Bi(t,e,n,r),I1(t,e,n))}};function lR(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!tv(r,n)||!tv(s,a):!0}function f5(e,t,r){var n=!1,s=hu,a=t.contextType;return typeof a=="object"&&a!==null?a=ii(a):(s=na(t)?Md:ws.current,n=t.contextTypes,a=(n=n!=null)?rm(e,s):hu),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function cR(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&hw.enqueueReplaceState(t,t.state,null)}function fT(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},UN(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=ii(a):(a=na(t)?Md:ws.current,s.context=rm(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(dT(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&hw.enqueueReplaceState(s,s.state,null),Ey(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function im(e,t){try{var r="",n=t;do r+=fJ(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function uE(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function hT(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $ee=typeof WeakMap=="function"?WeakMap:Map;function h5(e,t,r){r=bl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){jy||(jy=!0,ST=n),hT(e,t)},r}function m5(e,t,r){r=bl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){hT(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){hT(e,t),typeof n!="function"&&(tu===null?tu=new Set([this]):tu.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function uR(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $ee;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Jee.bind(null,e,t,r),t.then(e,e))}function dR(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fR(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bl(-1,1),t.tag=2,eu(r,t,1))),r.lanes|=1),e)}var Uee=Zl.ReactCurrentOwner,Js=!1;function ks(e,t,r,n){t.child=e===null?V6(t,null,r,n):sm(t,e.child,r,n)}function hR(e,t,r,n,s){r=r.render;var a=t.ref;return kh(t,s),n=HN(e,t,r,n,a,s),r=YN(),e!==null&&!Js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fl(e,t,s)):(Xr&&r&&DN(t),t.flags|=1,ks(e,t,n,s),t.child)}function mR(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!rk(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,p5(e,t,a,n,s)):(e=B1(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:tv,r(i,n)&&e.ref===t.ref)return Fl(e,t,s)}return t.flags|=1,e=nu(a,n),e.ref=t.ref,e.return=t,t.child=e}function p5(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(tv(a,n)&&e.ref===t.ref)if(Js=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Js=!0);else return t.lanes=e.lanes,Fl(e,t,s)}return mT(e,t,r,n,s)}function v5(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dr(yh,xa),xa|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Dr(yh,xa),xa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Dr(yh,xa),xa|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Dr(yh,xa),xa|=n;return ks(e,t,s,r),t.child}function g5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function mT(e,t,r,n,s){var a=na(r)?Md:ws.current;return a=rm(t,a),kh(t,s),r=HN(e,t,r,n,a,s),n=YN(),e!==null&&!Js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fl(e,t,s)):(Xr&&n&&DN(t),t.flags|=1,ks(e,t,r,s),t.child)}function pR(e,t,r,n,s){if(na(r)){var a=!0;yy(t)}else a=!1;if(kh(t,s),t.stateNode===null)L1(e,t),f5(t,r,n),fT(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=ii(u):(u=na(r)?Md:ws.current,u=rm(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&cR(t,i,n,u),Cc=!1;var h=t.memoizedState;i.state=h,Ey(t,n,i,s),c=t.memoizedState,l!==n||h!==c||ra.current||Cc?(typeof d=="function"&&(dT(t,r,d,n),c=t.memoizedState),(l=Cc||lR(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,H6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ci(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=ii(c):(c=na(r)?Md:ws.current,c=rm(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&cR(t,i,n,c),Cc=!1,h=t.memoizedState,i.state=h,Ey(t,n,i,s);var x=t.memoizedState;l!==f||h!==x||ra.current||Cc?(typeof p=="function"&&(dT(t,r,p,n),x=t.memoizedState),(u=Cc||lR(t,r,u,n,h,x,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),i.props=n,i.state=x,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return pT(e,t,r,n,a,s)}function pT(e,t,r,n,s,a){g5(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&eR(t,r,!1),Fl(e,t,a);n=t.stateNode,Uee.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=sm(t,e.child,null,a),t.child=sm(t,null,l,a)):ks(e,t,l,a),t.memoizedState=n.state,s&&eR(t,r,!0),t.child}function x5(e){var t=e.stateNode;t.pendingContext?JD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&JD(e,t.context,!1),BN(e,t.containerInfo)}function vR(e,t,r,n,s){return nm(),IN(s),t.flags|=256,ks(e,t,r,n),t.child}var vT={dehydrated:null,treeContext:null,retryLane:0};function gT(e){return{baseLanes:e,cachePool:null,transitions:null}}function y5(e,t,r){var n=t.pendingProps,s=Jr.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Dr(Jr,s&1),e===null)return cT(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=vw(i,n,0,null),e=kd(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=gT(r),t.memoizedState=vT,e):KN(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Bee(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=nu(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=nu(l,a):(a=kd(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?gT(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=vT,n}return a=e.child,e=a.sibling,n=nu(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function KN(e,t){return t=vw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yx(e,t,r,n){return n!==null&&IN(n),sm(t,e.child,null,r),e=KN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bee(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=uE(Error(Oe(422))),Yx(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=vw({mode:"visible",children:n.children},s,0,null),a=kd(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&sm(t,e.child,null,i),t.child.memoizedState=gT(i),t.memoizedState=vT,a);if(!(t.mode&1))return Yx(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Oe(419)),n=uE(a,n,void 0),Yx(e,t,i,n)}if(l=(i&e.childLanes)!==0,Js||l){if(n=Gn,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ml(e,s),Bi(n,e,s,-1))}return tk(),n=uE(Error(Oe(421))),Yx(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ete.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Ca=Jc(s.nextSibling),ka=t,Xr=!0,Pi=null,e!==null&&(Xa[Qa++]=pl,Xa[Qa++]=vl,Xa[Qa++]=Fd,pl=e.id,vl=e.overflow,Fd=t),t=KN(t,n.children),t.flags|=4096,t)}function gR(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),uT(e.return,t,r)}function dE(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function _5(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ks(e,t,n.children,r),n=Jr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gR(e,r,t);else if(e.tag===19)gR(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Dr(Jr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ty(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),dE(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ty(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}dE(t,!0,r,null,a);break;case"together":dE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function L1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$d|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,r=nu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=nu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Wee(e,t,r){switch(t.tag){case 3:x5(t),nm();break;case 5:Y6(t);break;case 1:na(t.type)&&yy(t);break;case 4:BN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Dr(by,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Dr(Jr,Jr.current&1),t.flags|=128,null):r&t.child.childLanes?y5(e,t,r):(Dr(Jr,Jr.current&1),e=Fl(e,t,r),e!==null?e.sibling:null);Dr(Jr,Jr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return _5(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Dr(Jr,Jr.current),n)break;return null;case 22:case 23:return t.lanes=0,v5(e,t,r)}return Fl(e,t,r)}var w5,xT,b5,S5;w5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xT=function(){};b5=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vd(jo.current);var a=null;switch(r){case"input":s=U2(e,s),n=U2(e,n),a=[];break;case"select":s=rn({},s,{value:void 0}),n=rn({},n,{value:void 0}),a=[];break;case"textarea":s=V2(e,s),n=V2(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gy)}H2(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(q0.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(q0.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Lr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};S5=function(e,t,r,n){r!==n&&(t.flags|=4)};function Wp(e,t){if(!Xr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Vee(e,t,r){var n=t.pendingProps;switch(RN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hs(t),null;case 1:return na(t.type)&&xy(),hs(t),null;case 3:return n=t.stateNode,am(),Vr(ra),Vr(ws),VN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pi!==null&&(CT(Pi),Pi=null))),xT(e,t),hs(t),null;case 5:WN(t);var s=vd(iv.current);if(r=t.type,e!==null&&t.stateNode!=null)b5(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Oe(166));return hs(t),null}if(e=vd(jo.current),zx(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[go]=t,n[sv]=a,e=(t.mode&1)!==0,r){case"dialog":Lr("cancel",n),Lr("close",n);break;case"iframe":case"object":case"embed":Lr("load",n);break;case"video":case"audio":for(s=0;s<d0.length;s++)Lr(d0[s],n);break;case"source":Lr("error",n);break;case"img":case"image":case"link":Lr("error",n),Lr("load",n);break;case"details":Lr("toggle",n);break;case"input":CD(n,a),Lr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Lr("invalid",n);break;case"textarea":kD(n,a),Lr("invalid",n)}H2(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Vx(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Vx(n.textContent,l,e),s=["children",""+l]):q0.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Lr("scroll",n)}switch(r){case"input":Ix(n),ND(n,a,!0);break;case"textarea":Ix(n),jD(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=gy)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=QL(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[go]=t,e[sv]=n,w5(e,t,!1,!1),t.stateNode=e;e:{switch(i=Y2(r,n),r){case"dialog":Lr("cancel",e),Lr("close",e),s=n;break;case"iframe":case"object":case"embed":Lr("load",e),s=n;break;case"video":case"audio":for(s=0;s<d0.length;s++)Lr(d0[s],e);s=n;break;case"source":Lr("error",e),s=n;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),s=n;break;case"details":Lr("toggle",e),s=n;break;case"input":CD(e,n),s=U2(e,n),Lr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=rn({},n,{value:void 0}),Lr("invalid",e);break;case"textarea":kD(e,n),s=V2(e,n),Lr("invalid",e);break;default:s=n}H2(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?e6(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ZL(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&K0(e,c):typeof c=="number"&&K0(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(q0.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Lr("scroll",e):c!=null&&yN(e,a,c,i))}switch(r){case"input":Ix(e),ND(e,n,!1);break;case"textarea":Ix(e),jD(e);break;case"option":n.value!=null&&e.setAttribute("value",""+fu(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Eh(e,!!n.multiple,a,!1):n.defaultValue!=null&&Eh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hs(t),null;case 6:if(e&&t.stateNode!=null)S5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Oe(166));if(r=vd(iv.current),vd(jo.current),zx(t)){if(n=t.stateNode,r=t.memoizedProps,n[go]=t,(a=n.nodeValue!==r)&&(e=ka,e!==null))switch(e.tag){case 3:Vx(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vx(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[go]=t,t.stateNode=n}return hs(t),null;case 13:if(Vr(Jr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xr&&Ca!==null&&t.mode&1&&!(t.flags&128))B6(),nm(),t.flags|=98560,a=!1;else if(a=zx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Oe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Oe(317));a[go]=t}else nm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hs(t),a=!1}else Pi!==null&&(CT(Pi),Pi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Jr.current&1?Mn===0&&(Mn=3):tk())),t.updateQueue!==null&&(t.flags|=4),hs(t),null);case 4:return am(),xT(e,t),e===null&&rv(t.stateNode.containerInfo),hs(t),null;case 10:return LN(t.type._context),hs(t),null;case 17:return na(t.type)&&xy(),hs(t),null;case 19:if(Vr(Jr),a=t.memoizedState,a===null)return hs(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Wp(a,!1);else{if(Mn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ty(e),i!==null){for(t.flags|=128,Wp(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Dr(Jr,Jr.current&1|2),t.child}e=e.sibling}a.tail!==null&&xn()>om&&(t.flags|=128,n=!0,Wp(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ty(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Wp(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Xr)return hs(t),null}else 2*xn()-a.renderingStartTime>om&&r!==1073741824&&(t.flags|=128,n=!0,Wp(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=xn(),t.sibling=null,r=Jr.current,Dr(Jr,n?r&1|2:r&1),t):(hs(t),null);case 22:case 23:return ek(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?xa&1073741824&&(hs(t),t.subtreeFlags&6&&(t.flags|=8192)):hs(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function zee(e,t){switch(RN(t),t.tag){case 1:return na(t.type)&&xy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return am(),Vr(ra),Vr(ws),VN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return WN(t),null;case 13:if(Vr(Jr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));nm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vr(Jr),null;case 4:return am(),null;case 10:return LN(t.type._context),null;case 22:case 23:return ek(),null;case 24:return null;default:return null}}var Gx=!1,vs=!1,Hee=typeof WeakSet=="function"?WeakSet:Set,at=null;function xh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){an(e,t,n)}else r.current=null}function yT(e,t,r){try{r()}catch(n){an(e,t,n)}}var xR=!1;function Yee(e,t){if(rT=my,e=k6(),ON(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===a&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(nT={focusedElem:e,selectionRange:r},my=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){t=at;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,g=x.memoizedState,_=t.stateNode,y=_.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ci(t.type,m),g);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(E){an(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}return x=xR,xR=!1,x}function T0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&yT(t,r,a)}s=s.next}while(s!==n)}}function mw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _T(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function E5(e){var t=e.alternate;t!==null&&(e.alternate=null,E5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[go],delete t[sv],delete t[iT],delete t[kee],delete t[jee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function T5(e){return e.tag===5||e.tag===3||e.tag===4}function yR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||T5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gy));else if(n!==4&&(e=e.child,e!==null))for(wT(e,t,r),e=e.sibling;e!==null;)wT(e,t,r),e=e.sibling}function bT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(bT(e,t,r),e=e.sibling;e!==null;)bT(e,t,r),e=e.sibling}var Qn=null,Ai=!1;function vc(e,t,r){for(r=r.child;r!==null;)C5(e,t,r),r=r.sibling}function C5(e,t,r){if(ko&&typeof ko.onCommitFiberUnmount=="function")try{ko.onCommitFiberUnmount(iw,r)}catch{}switch(r.tag){case 5:vs||xh(r,t);case 6:var n=Qn,s=Ai;Qn=null,vc(e,t,r),Qn=n,Ai=s,Qn!==null&&(Ai?(e=Qn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qn.removeChild(r.stateNode));break;case 18:Qn!==null&&(Ai?(e=Qn,r=r.stateNode,e.nodeType===8?sE(e.parentNode,r):e.nodeType===1&&sE(e,r),J0(e)):sE(Qn,r.stateNode));break;case 4:n=Qn,s=Ai,Qn=r.stateNode.containerInfo,Ai=!0,vc(e,t,r),Qn=n,Ai=s;break;case 0:case 11:case 14:case 15:if(!vs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&yT(r,t,i),s=s.next}while(s!==n)}vc(e,t,r);break;case 1:if(!vs&&(xh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){an(r,t,l)}vc(e,t,r);break;case 21:vc(e,t,r);break;case 22:r.mode&1?(vs=(n=vs)||r.memoizedState!==null,vc(e,t,r),vs=n):vc(e,t,r);break;default:vc(e,t,r)}}function _R(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Hee),t.forEach(function(n){var s=tte.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function wi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Qn=l.stateNode,Ai=!1;break e;case 3:Qn=l.stateNode.containerInfo,Ai=!0;break e;case 4:Qn=l.stateNode.containerInfo,Ai=!0;break e}l=l.return}if(Qn===null)throw Error(Oe(160));C5(a,i,s),Qn=null,Ai=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){an(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)N5(t,e),t=t.sibling}function N5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wi(t,e),lo(e),n&4){try{T0(3,e,e.return),mw(3,e)}catch(m){an(e,e.return,m)}try{T0(5,e,e.return)}catch(m){an(e,e.return,m)}}break;case 1:wi(t,e),lo(e),n&512&&r!==null&&xh(r,r.return);break;case 5:if(wi(t,e),lo(e),n&512&&r!==null&&xh(r,r.return),e.flags&32){var s=e.stateNode;try{K0(s,"")}catch(m){an(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&KL(s,a),Y2(l,i);var u=Y2(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?e6(s,f):d==="dangerouslySetInnerHTML"?ZL(s,f):d==="children"?K0(s,f):yN(s,d,f,u)}switch(l){case"input":B2(s,a);break;case"textarea":XL(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Eh(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Eh(s,!!a.multiple,a.defaultValue,!0):Eh(s,!!a.multiple,a.multiple?[]:"",!1))}s[sv]=a}catch(m){an(e,e.return,m)}}break;case 6:if(wi(t,e),lo(e),n&4){if(e.stateNode===null)throw Error(Oe(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){an(e,e.return,m)}}break;case 3:if(wi(t,e),lo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{J0(t.containerInfo)}catch(m){an(e,e.return,m)}break;case 4:wi(t,e),lo(e);break;case 13:wi(t,e),lo(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ZN=xn())),n&4&&_R(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(vs=(u=vs)||d,wi(t,e),vs=u):wi(t,e),lo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(at=e,d=e.child;d!==null;){for(f=at=d;at!==null;){switch(h=at,p=h.child,h.tag){case 0:case 11:case 14:case 15:T0(4,h,h.return);break;case 1:xh(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){an(n,r,m)}}break;case 5:xh(h,h.return);break;case 22:if(h.memoizedState!==null){bR(f);continue}}p!==null?(p.return=h,at=p):bR(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=JL("display",i))}catch(m){an(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){an(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wi(t,e),lo(e),n&4&&_R(e);break;case 21:break;default:wi(t,e),lo(e)}}function lo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(T5(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(K0(s,""),n.flags&=-33);var a=yR(e);bT(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=yR(e);wT(e,l,i);break;default:throw Error(Oe(161))}}catch(c){an(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gee(e,t,r){at=e,k5(e)}function k5(e,t,r){for(var n=(e.mode&1)!==0;at!==null;){var s=at,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Gx;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||vs;l=Gx;var u=vs;if(Gx=i,(vs=c)&&!u)for(at=s;at!==null;)i=at,c=i.child,i.tag===22&&i.memoizedState!==null?SR(s):c!==null?(c.return=i,at=c):SR(s);for(;a!==null;)at=a,k5(a),a=a.sibling;at=s,Gx=l,vs=u}wR(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,at=a):wR(e)}}function wR(e){for(;at!==null;){var t=at;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vs||mw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vs)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ci(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&aR(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}aR(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&J0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}vs||t.flags&512&&_T(t)}catch(h){an(t,t.return,h)}}if(t===e){at=null;break}if(r=t.sibling,r!==null){r.return=t.return,at=r;break}at=t.return}}function bR(e){for(;at!==null;){var t=at;if(t===e){at=null;break}var r=t.sibling;if(r!==null){r.return=t.return,at=r;break}at=t.return}}function SR(e){for(;at!==null;){var t=at;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mw(4,t)}catch(c){an(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){an(t,s,c)}}var a=t.return;try{_T(t)}catch(c){an(t,a,c)}break;case 5:var i=t.return;try{_T(t)}catch(c){an(t,i,c)}}}catch(c){an(t,t.return,c)}if(t===e){at=null;break}var l=t.sibling;if(l!==null){l.return=t.return,at=l;break}at=t.return}}var qee=Math.ceil,ky=Zl.ReactCurrentDispatcher,XN=Zl.ReactCurrentOwner,ni=Zl.ReactCurrentBatchConfig,Jt=0,Gn=null,Cn=null,ns=0,xa=0,yh=Au(0),Mn=0,uv=null,$d=0,pw=0,QN=0,C0=null,Ks=null,ZN=0,om=1/0,ul=null,jy=!1,ST=null,tu=null,qx=!1,Wc=null,Ay=0,N0=0,ET=null,$1=-1,U1=0;function Ms(){return Jt&6?xn():$1!==-1?$1:$1=xn()}function ru(e){return e.mode&1?Jt&2&&ns!==0?ns&-ns:Pee.transition!==null?(U1===0&&(U1=f6()),U1):(e=wr,e!==0||(e=window.event,e=e===void 0?16:y6(e.type)),e):1}function Bi(e,t,r,n){if(50<N0)throw N0=0,ET=null,Error(Oe(185));mg(e,r,n),(!(Jt&2)||e!==Gn)&&(e===Gn&&(!(Jt&2)&&(pw|=r),Mn===4&&jc(e,ns)),sa(e,n),r===1&&Jt===0&&!(t.mode&1)&&(om=xn()+500,dw&&Pu()))}function sa(e,t){var r=e.callbackNode;PJ(e,t);var n=hy(e,e===Gn?ns:0);if(n===0)r!==null&&OD(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&OD(r),t===1)e.tag===0?Aee(ER.bind(null,e)):L6(ER.bind(null,e)),Cee(function(){!(Jt&6)&&Pu()}),r=null;else{switch(h6(n)){case 1:r=EN;break;case 4:r=u6;break;case 16:r=fy;break;case 536870912:r=d6;break;default:r=fy}r=M5(r,j5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function j5(e,t){if($1=-1,U1=0,Jt&6)throw Error(Oe(327));var r=e.callbackNode;if(jh()&&e.callbackNode!==r)return null;var n=hy(e,e===Gn?ns:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Py(e,n);else{t=n;var s=Jt;Jt|=2;var a=P5();(Gn!==e||ns!==t)&&(ul=null,om=xn()+500,Nd(e,t));do try{Qee();break}catch(l){A5(e,l)}while(!0);FN(),ky.current=a,Jt=s,Cn!==null?t=0:(Gn=null,ns=0,t=Mn)}if(t!==0){if(t===2&&(s=Q2(e),s!==0&&(n=s,t=TT(e,s))),t===1)throw r=uv,Nd(e,0),jc(e,n),sa(e,xn()),r;if(t===6)jc(e,n);else{if(s=e.current.alternate,!(n&30)&&!Kee(s)&&(t=Py(e,n),t===2&&(a=Q2(e),a!==0&&(n=a,t=TT(e,a))),t===1))throw r=uv,Nd(e,0),jc(e,n),sa(e,xn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Oe(345));case 2:ad(e,Ks,ul);break;case 3:if(jc(e,n),(n&130023424)===n&&(t=ZN+500-xn(),10<t)){if(hy(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ms(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=aT(ad.bind(null,e,Ks,ul),t);break}ad(e,Ks,ul);break;case 4:if(jc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Ui(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=xn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qee(n/1960))-n,10<n){e.timeoutHandle=aT(ad.bind(null,e,Ks,ul),n);break}ad(e,Ks,ul);break;case 5:ad(e,Ks,ul);break;default:throw Error(Oe(329))}}}return sa(e,xn()),e.callbackNode===r?j5.bind(null,e):null}function TT(e,t){var r=C0;return e.current.memoizedState.isDehydrated&&(Nd(e,t).flags|=256),e=Py(e,t),e!==2&&(t=Ks,Ks=r,t!==null&&CT(t)),e}function CT(e){Ks===null?Ks=e:Ks.push.apply(Ks,e)}function Kee(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Yi(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jc(e,t){for(t&=~QN,t&=~pw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ui(t),n=1<<r;e[r]=-1,t&=~n}}function ER(e){if(Jt&6)throw Error(Oe(327));jh();var t=hy(e,0);if(!(t&1))return sa(e,xn()),null;var r=Py(e,t);if(e.tag!==0&&r===2){var n=Q2(e);n!==0&&(t=n,r=TT(e,n))}if(r===1)throw r=uv,Nd(e,0),jc(e,t),sa(e,xn()),r;if(r===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ad(e,Ks,ul),sa(e,xn()),null}function JN(e,t){var r=Jt;Jt|=1;try{return e(t)}finally{Jt=r,Jt===0&&(om=xn()+500,dw&&Pu())}}function Ud(e){Wc!==null&&Wc.tag===0&&!(Jt&6)&&jh();var t=Jt;Jt|=1;var r=ni.transition,n=wr;try{if(ni.transition=null,wr=1,e)return e()}finally{wr=n,ni.transition=r,Jt=t,!(Jt&6)&&Pu()}}function ek(){xa=yh.current,Vr(yh)}function Nd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Tee(r)),Cn!==null)for(r=Cn.return;r!==null;){var n=r;switch(RN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xy();break;case 3:am(),Vr(ra),Vr(ws),VN();break;case 5:WN(n);break;case 4:am();break;case 13:Vr(Jr);break;case 19:Vr(Jr);break;case 10:LN(n.type._context);break;case 22:case 23:ek()}r=r.return}if(Gn=e,Cn=e=nu(e.current,null),ns=xa=t,Mn=0,uv=null,QN=pw=$d=0,Ks=C0=null,pd!==null){for(t=0;t<pd.length;t++)if(r=pd[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}pd=null}return e}function A5(e,t){do{var r=Cn;try{if(FN(),M1.current=Ny,Cy){for(var n=tn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Cy=!1}if(Ld=0,Wn=Rn=tn=null,E0=!1,ov=0,XN.current=null,r===null||r.return===null){Mn=1,uv=t,Cn=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=ns,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=dR(i);if(p!==null){p.flags&=-257,fR(p,i,l,a,t),p.mode&1&&uR(a,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){uR(a,u,t),tk();break e}c=Error(Oe(426))}}else if(Xr&&l.mode&1){var g=dR(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),fR(g,i,l,a,t),IN(im(c,l));break e}}a=c=im(c,l),Mn!==4&&(Mn=2),C0===null?C0=[a]:C0.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var _=h5(a,c,t);sR(a,_);break e;case 1:l=c;var y=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(tu===null||!tu.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var E=m5(a,l,t);sR(a,E);break e}}a=a.return}while(a!==null)}D5(r)}catch(C){t=C,Cn===r&&r!==null&&(Cn=r=r.return);continue}break}while(!0)}function P5(){var e=ky.current;return ky.current=Ny,e===null?Ny:e}function tk(){(Mn===0||Mn===3||Mn===2)&&(Mn=4),Gn===null||!($d&268435455)&&!(pw&268435455)||jc(Gn,ns)}function Py(e,t){var r=Jt;Jt|=2;var n=P5();(Gn!==e||ns!==t)&&(ul=null,Nd(e,t));do try{Xee();break}catch(s){A5(e,s)}while(!0);if(FN(),Jt=r,ky.current=n,Cn!==null)throw Error(Oe(261));return Gn=null,ns=0,Mn}function Xee(){for(;Cn!==null;)O5(Cn)}function Qee(){for(;Cn!==null&&!bJ();)O5(Cn)}function O5(e){var t=I5(e.alternate,e,xa);e.memoizedProps=e.pendingProps,t===null?D5(e):Cn=t,XN.current=null}function D5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zee(r,t),r!==null){r.flags&=32767,Cn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mn=6,Cn=null;return}}else if(r=Vee(r,t,xa),r!==null){Cn=r;return}if(t=t.sibling,t!==null){Cn=t;return}Cn=t=e}while(t!==null);Mn===0&&(Mn=5)}function ad(e,t,r){var n=wr,s=ni.transition;try{ni.transition=null,wr=1,Zee(e,t,r,n)}finally{ni.transition=s,wr=n}return null}function Zee(e,t,r,n){do jh();while(Wc!==null);if(Jt&6)throw Error(Oe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(OJ(e,a),e===Gn&&(Cn=Gn=null,ns=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qx||(qx=!0,M5(fy,function(){return jh(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ni.transition,ni.transition=null;var i=wr;wr=1;var l=Jt;Jt|=4,XN.current=null,Yee(e,r),N5(r,e),xee(nT),my=!!rT,nT=rT=null,e.current=r,Gee(r),SJ(),Jt=l,wr=i,ni.transition=a}else e.current=r;if(qx&&(qx=!1,Wc=e,Ay=s),a=e.pendingLanes,a===0&&(tu=null),CJ(r.stateNode),sa(e,xn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(jy)throw jy=!1,e=ST,ST=null,e;return Ay&1&&e.tag!==0&&jh(),a=e.pendingLanes,a&1?e===ET?N0++:(N0=0,ET=e):N0=0,Pu(),null}function jh(){if(Wc!==null){var e=h6(Ay),t=ni.transition,r=wr;try{if(ni.transition=null,wr=16>e?16:e,Wc===null)var n=!1;else{if(e=Wc,Wc=null,Ay=0,Jt&6)throw Error(Oe(331));var s=Jt;for(Jt|=4,at=e.current;at!==null;){var a=at,i=a.child;if(at.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(at=u;at!==null;){var d=at;switch(d.tag){case 0:case 11:case 15:T0(8,d,a)}var f=d.child;if(f!==null)f.return=d,at=f;else for(;at!==null;){d=at;var h=d.sibling,p=d.return;if(E5(d),d===u){at=null;break}if(h!==null){h.return=p,at=h;break}at=p}}}var x=a.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}at=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,at=i;else e:for(;at!==null;){if(a=at,a.flags&2048)switch(a.tag){case 0:case 11:case 15:T0(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,at=_;break e}at=a.return}}var y=e.current;for(at=y;at!==null;){i=at;var S=i.child;if(i.subtreeFlags&2064&&S!==null)S.return=i,at=S;else e:for(i=y;at!==null;){if(l=at,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mw(9,l)}}catch(C){an(l,l.return,C)}if(l===i){at=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,at=E;break e}at=l.return}}if(Jt=s,Pu(),ko&&typeof ko.onPostCommitFiberRoot=="function")try{ko.onPostCommitFiberRoot(iw,e)}catch{}n=!0}return n}finally{wr=r,ni.transition=t}}return!1}function TR(e,t,r){t=im(r,t),t=h5(e,t,1),e=eu(e,t,1),t=Ms(),e!==null&&(mg(e,1,t),sa(e,t))}function an(e,t,r){if(e.tag===3)TR(e,e,r);else for(;t!==null;){if(t.tag===3){TR(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tu===null||!tu.has(n))){e=im(r,e),e=m5(t,e,1),t=eu(t,e,1),e=Ms(),t!==null&&(mg(t,1,e),sa(t,e));break}}t=t.return}}function Jee(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ms(),e.pingedLanes|=e.suspendedLanes&r,Gn===e&&(ns&r)===r&&(Mn===4||Mn===3&&(ns&130023424)===ns&&500>xn()-ZN?Nd(e,0):QN|=r),sa(e,t)}function R5(e,t){t===0&&(e.mode&1?(t=Lx,Lx<<=1,!(Lx&130023424)&&(Lx=4194304)):t=1);var r=Ms();e=Ml(e,t),e!==null&&(mg(e,t,r),sa(e,r))}function ete(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),R5(e,r)}function tte(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(t),R5(e,r)}var I5;I5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ra.current)Js=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Js=!1,Wee(e,t,r);Js=!!(e.flags&131072)}else Js=!1,Xr&&t.flags&1048576&&$6(t,wy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;L1(e,t),e=t.pendingProps;var s=rm(t,ws.current);kh(t,r),s=HN(null,t,n,e,s,r);var a=YN();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,na(n)?(a=!0,yy(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,UN(t),s.updater=hw,t.stateNode=s,s._reactInternals=t,fT(t,n,e,r),t=pT(null,t,n,!0,a,r)):(t.tag=0,Xr&&a&&DN(t),ks(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(L1(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=nte(n),e=Ci(n,e),s){case 0:t=mT(null,t,n,e,r);break e;case 1:t=pR(null,t,n,e,r);break e;case 11:t=hR(null,t,n,e,r);break e;case 14:t=mR(null,t,n,Ci(n.type,e),r);break e}throw Error(Oe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ci(n,s),mT(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ci(n,s),pR(e,t,n,s,r);case 3:e:{if(x5(t),e===null)throw Error(Oe(387));n=t.pendingProps,a=t.memoizedState,s=a.element,H6(e,t),Ey(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=im(Error(Oe(423)),t),t=vR(e,t,n,r,s);break e}else if(n!==s){s=im(Error(Oe(424)),t),t=vR(e,t,n,r,s);break e}else for(Ca=Jc(t.stateNode.containerInfo.firstChild),ka=t,Xr=!0,Pi=null,r=V6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nm(),n===s){t=Fl(e,t,r);break e}ks(e,t,n,r)}t=t.child}return t;case 5:return Y6(t),e===null&&cT(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,sT(n,s)?i=null:a!==null&&sT(n,a)&&(t.flags|=32),g5(e,t),ks(e,t,i,r),t.child;case 6:return e===null&&cT(t),null;case 13:return y5(e,t,r);case 4:return BN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=sm(t,null,n,r):ks(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ci(n,s),hR(e,t,n,s,r);case 7:return ks(e,t,t.pendingProps,r),t.child;case 8:return ks(e,t,t.pendingProps.children,r),t.child;case 12:return ks(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Dr(by,n._currentValue),n._currentValue=i,a!==null)if(Yi(a.value,i)){if(a.children===s.children&&!ra.current){t=Fl(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=bl(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),uT(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Oe(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),uT(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ks(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,kh(t,r),s=ii(s),n=n(s),t.flags|=1,ks(e,t,n,r),t.child;case 14:return n=t.type,s=Ci(n,t.pendingProps),s=Ci(n.type,s),mR(e,t,n,s,r);case 15:return p5(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ci(n,s),L1(e,t),t.tag=1,na(n)?(e=!0,yy(t)):e=!1,kh(t,r),f5(t,n,s),fT(t,n,s,r),pT(null,t,n,!0,e,r);case 19:return _5(e,t,r);case 22:return v5(e,t,r)}throw Error(Oe(156,t.tag))};function M5(e,t){return c6(e,t)}function rte(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(e,t,r,n){return new rte(e,t,r,n)}function rk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nte(e){if(typeof e=="function")return rk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wN)return 11;if(e===bN)return 14}return 2}function nu(e,t){var r=e.alternate;return r===null?(r=ti(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function B1(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")rk(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ch:return kd(r.children,s,a,t);case _N:i=8,s|=8;break;case M2:return e=ti(12,r,t,s|2),e.elementType=M2,e.lanes=a,e;case F2:return e=ti(13,r,t,s),e.elementType=F2,e.lanes=a,e;case L2:return e=ti(19,r,t,s),e.elementType=L2,e.lanes=a,e;case YL:return vw(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zL:i=10;break e;case HL:i=9;break e;case wN:i=11;break e;case bN:i=14;break e;case Tc:i=16,n=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=ti(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function kd(e,t,r,n){return e=ti(7,e,n,t),e.lanes=r,e}function vw(e,t,r,n){return e=ti(22,e,n,t),e.elementType=YL,e.lanes=r,e.stateNode={isHidden:!1},e}function fE(e,t,r){return e=ti(6,e,null,t),e.lanes=r,e}function hE(e,t,r){return t=ti(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ste(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=GS(0),this.expirationTimes=GS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=GS(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nk(e,t,r,n,s,a,i,l,c){return e=new ste(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ti(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},UN(a),e}function ate(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function F5(e){if(!e)return hu;e=e._reactInternals;e:{if(xf(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(na(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var r=e.type;if(na(r))return F6(e,r,t)}return t}function L5(e,t,r,n,s,a,i,l,c){return e=nk(r,n,!0,e,s,a,i,l,c),e.context=F5(null),r=e.current,n=Ms(),s=ru(r),a=bl(n,s),a.callback=t??null,eu(r,a,s),e.current.lanes=s,mg(e,s,n),sa(e,n),e}function gw(e,t,r,n){var s=t.current,a=Ms(),i=ru(s);return r=F5(r),t.context===null?t.context=r:t.pendingContext=r,t=bl(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=eu(s,t,i),e!==null&&(Bi(e,s,i,a),I1(e,s,i)),i}function Oy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function CR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sk(e,t){CR(e,t),(e=e.alternate)&&CR(e,t)}function ite(){return null}var $5=typeof reportError=="function"?reportError:function(e){console.error(e)};function ak(e){this._internalRoot=e}xw.prototype.render=ak.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));gw(e,t,null,null)};xw.prototype.unmount=ak.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ud(function(){gw(null,e,null,null)}),t[Il]=null}};function xw(e){this._internalRoot=e}xw.prototype.unstable_scheduleHydration=function(e){if(e){var t=v6();e={blockedOn:null,target:e,priority:t};for(var r=0;r<kc.length&&t!==0&&t<kc[r].priority;r++);kc.splice(r,0,e),r===0&&x6(e)}};function ik(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function NR(){}function ote(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Oy(i);a.call(u)}}var i=L5(t,n,e,0,null,!1,!1,"",NR);return e._reactRootContainer=i,e[Il]=i.current,rv(e.nodeType===8?e.parentNode:e),Ud(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Oy(c);l.call(u)}}var c=nk(e,0,!1,null,null,!1,!1,"",NR);return e._reactRootContainer=c,e[Il]=c.current,rv(e.nodeType===8?e.parentNode:e),Ud(function(){gw(t,c,r,n)}),c}function _w(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Oy(i);l.call(c)}}gw(t,i,e,s)}else i=ote(r,t,e,s,n);return Oy(i)}m6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=u0(t.pendingLanes);r!==0&&(TN(t,r|1),sa(t,xn()),!(Jt&6)&&(om=xn()+500,Pu()))}break;case 13:Ud(function(){var n=Ml(e,1);if(n!==null){var s=Ms();Bi(n,e,1,s)}}),sk(e,1)}};CN=function(e){if(e.tag===13){var t=Ml(e,134217728);if(t!==null){var r=Ms();Bi(t,e,134217728,r)}sk(e,134217728)}};p6=function(e){if(e.tag===13){var t=ru(e),r=Ml(e,t);if(r!==null){var n=Ms();Bi(r,e,t,n)}sk(e,t)}};v6=function(){return wr};g6=function(e,t){var r=wr;try{return wr=e,t()}finally{wr=r}};q2=function(e,t,r){switch(t){case"input":if(B2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=uw(n);if(!s)throw Error(Oe(90));qL(n),B2(n,s)}}}break;case"textarea":XL(e,r);break;case"select":t=r.value,t!=null&&Eh(e,!!r.multiple,t,!1)}};n6=JN;s6=Ud;var lte={usingClientEntryPoint:!1,Events:[vg,hh,uw,t6,r6,JN]},Vp={findFiberByHostInstance:md,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cte={bundleType:Vp.bundleType,version:Vp.version,rendererPackageName:Vp.rendererPackageName,rendererConfig:Vp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=o6(e),e===null?null:e.stateNode},findFiberByHostInstance:Vp.findFiberByHostInstance||ite,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kx.isDisabled&&Kx.supportsFiber)try{iw=Kx.inject(cte),ko=Kx}catch{}}Ma.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lte;Ma.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ik(t))throw Error(Oe(200));return ate(e,t,null,r)};Ma.createRoot=function(e,t){if(!ik(e))throw Error(Oe(299));var r=!1,n="",s=$5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=nk(e,1,!1,null,null,r,!1,n,s),e[Il]=t.current,rv(e.nodeType===8?e.parentNode:e),new ak(t)};Ma.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=o6(t),e=e===null?null:e.stateNode,e};Ma.flushSync=function(e){return Ud(e)};Ma.hydrate=function(e,t,r){if(!yw(t))throw Error(Oe(200));return _w(null,e,t,!0,r)};Ma.hydrateRoot=function(e,t,r){if(!ik(e))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=$5;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=L5(t,null,e,1,r??null,s,!1,a,i),e[Il]=t.current,rv(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new xw(t)};Ma.render=function(e,t,r){if(!yw(t))throw Error(Oe(200));return _w(null,e,t,!1,r)};Ma.unmountComponentAtNode=function(e){if(!yw(e))throw Error(Oe(40));return e._reactRootContainer?(Ud(function(){_w(null,null,e,!1,function(){e._reactRootContainer=null,e[Il]=null})}),!0):!1};Ma.unstable_batchedUpdates=JN;Ma.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!yw(r))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return _w(e,t,r,!1,n)};Ma.version="18.3.1-next-f1338f8080-20240426";function U5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U5)}catch(e){console.error(e)}}U5(),UL.exports=Ma;var yf=UL.exports;const ww=Us(yf);var B5,kR=yf;B5=kR.createRoot,kR.hydrateRoot;const ute=1,dte=1e6;let mE=0;function fte(){return mE=(mE+1)%Number.MAX_SAFE_INTEGER,mE.toString()}const pE=new Map,jR=e=>{if(pE.has(e))return;const t=setTimeout(()=>{pE.delete(e),k0({type:"REMOVE_TOAST",toastId:e})},dte);pE.set(e,t)},hte=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ute)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?jR(r):e.toasts.forEach(n=>{jR(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},W1=[];let V1={toasts:[]};function k0(e){V1=hte(V1,e),W1.forEach(t=>{t(V1)})}function gt({...e}){const t=fte(),r=s=>k0({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>k0({type:"DISMISS_TOAST",toastId:t});return k0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function La(){const[e,t]=w.useState(V1);return w.useEffect(()=>(W1.push(t),()=>{const r=W1.indexOf(t);r>-1&&W1.splice(r,1)}),[e]),{...e,toast:gt,dismiss:r=>k0({type:"DISMISS_TOAST",toastId:r})}}function it(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function AR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function W5(...e){return t=>{let r=!1;const n=e.map(s=>{const a=AR(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():AR(e[s],null)}}}}function Ht(...e){return w.useCallback(W5(...e),e)}function mte(e,t){const r=w.createContext(t),n=a=>{const{children:i,...l}=a,c=w.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=w.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function ha(e,t=[]){let r=[];function n(a,i){const l=w.createContext(i),c=r.length;r=[...r,i];const u=f=>{var _;const{scope:h,children:p,...x}=f,m=((_=h==null?void 0:h[e])==null?void 0:_[c])||l,g=w.useMemo(()=>x,Object.values(x));return o.jsx(m.Provider,{value:g,children:p})};u.displayName=a+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,x=w.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>w.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,pte(s,...t)]}function pte(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Bd(e){const t=vte(e),r=w.forwardRef((n,s)=>{const{children:a,...i}=n,l=w.Children.toArray(a),c=l.find(gte);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var V5=Bd("Slot");function vte(e){const t=w.forwardRef((r,n)=>{const{children:s,...a}=r;if(w.isValidElement(s)){const i=yte(s),l=xte(a,s.props);return s.type!==w.Fragment&&(l.ref=n?W5(n,i):i),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var z5=Symbol("radix.slottable");function H5(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=z5,t}function gte(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===z5}function xte(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function yte(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ok(e){const t=e+"CollectionProvider",[r,n]=ha(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:g,children:_}=m,y=H.useRef(null),S=H.useRef(new Map).current;return o.jsx(s,{scope:g,itemMap:S,collectionRef:y,children:_})};i.displayName=t;const l=e+"CollectionSlot",c=Bd(l),u=H.forwardRef((m,g)=>{const{scope:_,children:y}=m,S=a(l,_),E=Ht(g,S.collectionRef);return o.jsx(c,{ref:E,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Bd(d),p=H.forwardRef((m,g)=>{const{scope:_,children:y,...S}=m,E=H.useRef(null),C=Ht(g,E),P=a(d,_);return H.useEffect(()=>(P.itemMap.set(E,{ref:E,...S}),()=>void P.itemMap.delete(E))),o.jsx(h,{[f]:"",ref:C,children:y})});p.displayName=d;function x(m){const g=a(e+"CollectionConsumer",m);return H.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const S=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((P,N)=>S.indexOf(P.ref.current)-S.indexOf(N.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},x,n]}var _te=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dt=_te.reduce((e,t)=>{const r=Bd(`Primitive.${t}`),n=w.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Y5(e,t){e&&yf.flushSync(()=>e.dispatchEvent(t))}function Nn(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function wte(e,t=globalThis==null?void 0:globalThis.document){const r=Nn(e);w.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var bte="DismissableLayer",NT="dismissableLayer.update",Ste="dismissableLayer.pointerDownOutside",Ete="dismissableLayer.focusOutside",PR,G5=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wm=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=w.useContext(G5),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),x=Ht(t,N=>f(N)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=m.indexOf(g),y=d?m.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,E=y>=_,C=Cte(N=>{const A=N.target,j=[...u.branches].some(O=>O.contains(A));!E||j||(s==null||s(N),i==null||i(N),N.defaultPrevented||l==null||l())},h),P=Nte(N=>{const A=N.target;[...u.branches].some(O=>O.contains(A))||(a==null||a(N),i==null||i(N),N.defaultPrevented||l==null||l())},h);return wte(N=>{y===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(PR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),OR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=PR)}},[d,h,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),OR())},[d,u]),w.useEffect(()=>{const N=()=>p({});return document.addEventListener(NT,N),()=>document.removeEventListener(NT,N)},[]),o.jsx(dt.div,{...c,ref:x,style:{pointerEvents:S?E?"auto":"none":void 0,...e.style},onFocusCapture:it(e.onFocusCapture,P.onFocusCapture),onBlurCapture:it(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:it(e.onPointerDownCapture,C.onPointerDownCapture)})});Wm.displayName=bte;var Tte="DismissableLayerBranch",q5=w.forwardRef((e,t)=>{const r=w.useContext(G5),n=w.useRef(null),s=Ht(t,n);return w.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(dt.div,{...e,ref:s})});q5.displayName=Tte;function Cte(e,t=globalThis==null?void 0:globalThis.document){const r=Nn(e),n=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){K5(Ste,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Nte(e,t=globalThis==null?void 0:globalThis.document){const r=Nn(e),n=w.useRef(!1);return w.useEffect(()=>{const s=a=>{a.target&&!n.current&&K5(Ete,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function OR(){const e=new CustomEvent(NT);document.dispatchEvent(e)}function K5(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Y5(s,a):s.dispatchEvent(a)}var kte=Wm,jte=q5,wn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},Ate="Portal",xg=w.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=w.useState(!1);wn(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?ww.createPortal(o.jsx(dt.div,{...n,ref:t}),i):null});xg.displayName=Ate;function Pte(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var $a=e=>{const{present:t,children:r}=e,n=Ote(t),s=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),a=Ht(n.ref,Dte(s));return typeof r=="function"||n.isPresent?w.cloneElement(s,{ref:a}):null};$a.displayName="Presence";function Ote(e){const[t,r]=w.useState(),n=w.useRef(null),s=w.useRef(e),a=w.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Pte(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Xx(n.current);a.current=l==="mounted"?u:"none"},[l]),wn(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,p=Xx(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),wn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Xx(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(a.current=Xx(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Xx(e){return(e==null?void 0:e.animationName)||"none"}function Dte(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Rte=vN[" useInsertionEffect ".trim().toString()]||wn;function mu({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=Ite({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=w.useCallback(d=>{var f;if(l){const h=Mte(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function Ite({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),s=w.useRef(r),a=w.useRef(t);return Rte(()=>{a.current=t},[t]),w.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function Mte(e){return typeof e=="function"}var X5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Fte="VisuallyHidden",bw=w.forwardRef((e,t)=>o.jsx(dt.span,{...e,ref:t,style:{...X5,...e.style}}));bw.displayName=Fte;var Lte=bw,lk="ToastProvider",[ck,$te,Ute]=ok("Toast"),[Q5,_Ze]=ha("Toast",[Ute]),[Bte,Sw]=Q5(lk),Z5=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${lk}\`. Expected non-empty \`string\`.`),o.jsx(ck.Provider,{scope:t,children:o.jsx(Bte,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(p=>p+1),[]),onToastRemove:w.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};Z5.displayName=lk;var J5="ToastViewport",Wte=["F8"],kT="toast.viewportPause",jT="toast.viewportResume",e$=w.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Wte,label:s="Notifications ({hotkey})",...a}=e,i=Sw(J5,r),l=$te(r),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=Ht(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;w.useEffect(()=>{const g=_=>{var S;n.length!==0&&n.every(E=>_[E]||_.code===E)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),w.useEffect(()=>{const g=c.current,_=f.current;if(x&&g&&_){const y=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(kT);_.dispatchEvent(P),i.isClosePausedRef.current=!0}},S=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(jT);_.dispatchEvent(P),i.isClosePausedRef.current=!1}},E=P=>{!g.contains(P.relatedTarget)&&S()},C=()=>{g.contains(document.activeElement)||S()};return g.addEventListener("focusin",y),g.addEventListener("focusout",E),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",S),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",E),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",S)}}},[x,i.isClosePausedRef]);const m=w.useCallback(({tabbingDirection:g})=>{const y=l().map(S=>{const E=S.ref.current,C=[E,...tre(E)];return g==="forwards"?C:C.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return w.useEffect(()=>{const g=f.current;if(g){const _=y=>{var C,P,N;const S=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!S){const A=document.activeElement,j=y.shiftKey;if(y.target===g&&j){(C=u.current)==null||C.focus();return}const z=m({tabbingDirection:j?"backwards":"forwards"}),Y=z.findIndex(J=>J===A);vE(z.slice(Y+1))?y.preventDefault():j?(P=u.current)==null||P.focus():(N=d.current)==null||N.focus()}};return g.addEventListener("keydown",_),()=>g.removeEventListener("keydown",_)}},[l,m]),o.jsxs(jte,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&o.jsx(AT,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});vE(g)}}),o.jsx(ck.Slot,{scope:r,children:o.jsx(dt.ol,{tabIndex:-1,...a,ref:h})}),x&&o.jsx(AT,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});vE(g)}})]})});e$.displayName=J5;var t$="ToastFocusProxy",AT=w.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=Sw(t$,r);return o.jsx(bw,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});AT.displayName=t$;var yg="Toast",Vte="toast.swipeStart",zte="toast.swipeMove",Hte="toast.swipeCancel",Yte="toast.swipeEnd",r$=w.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...i}=e,[l,c]=mu({prop:n,defaultProp:s??!0,onChange:a,caller:yg});return o.jsx($a,{present:r||l,children:o.jsx(Kte,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Nn(e.onPause),onResume:Nn(e.onResume),onSwipeStart:it(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:it(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:it(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:it(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});r$.displayName=yg;var[Gte,qte]=Q5(yg,{onClose(){}}),Kte=w.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...x}=e,m=Sw(yg,r),[g,_]=w.useState(null),y=Ht(t,J=>_(J)),S=w.useRef(null),E=w.useRef(null),C=s||m.duration,P=w.useRef(0),N=w.useRef(C),A=w.useRef(0),{onToastAdd:j,onToastRemove:O}=m,W=Nn(()=>{var ie;(g==null?void 0:g.contains(document.activeElement))&&((ie=m.viewport)==null||ie.focus()),i()}),z=w.useCallback(J=>{!J||J===1/0||(window.clearTimeout(A.current),P.current=new Date().getTime(),A.current=window.setTimeout(W,J))},[W]);w.useEffect(()=>{const J=m.viewport;if(J){const ie=()=>{z(N.current),u==null||u()},oe=()=>{const re=new Date().getTime()-P.current;N.current=N.current-re,window.clearTimeout(A.current),c==null||c()};return J.addEventListener(kT,oe),J.addEventListener(jT,ie),()=>{J.removeEventListener(kT,oe),J.removeEventListener(jT,ie)}}},[m.viewport,C,c,u,z]),w.useEffect(()=>{a&&!m.isClosePausedRef.current&&z(C)},[a,C,m.isClosePausedRef,z]),w.useEffect(()=>(j(),()=>O()),[j,O]);const Y=w.useMemo(()=>g?c$(g):null,[g]);return m.viewport?o.jsxs(o.Fragment,{children:[Y&&o.jsx(Xte,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:Y}),o.jsx(Gte,{scope:r,onClose:W,children:yf.createPortal(o.jsx(ck.ItemSlot,{scope:r,children:o.jsx(kte,{asChild:!0,onEscapeKeyDown:it(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||W(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(dt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:it(e.onKeyDown,J=>{J.key==="Escape"&&(l==null||l(J.nativeEvent),J.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:it(e.onPointerDown,J=>{J.button===0&&(S.current={x:J.clientX,y:J.clientY})}),onPointerMove:it(e.onPointerMove,J=>{if(!S.current)return;const ie=J.clientX-S.current.x,oe=J.clientY-S.current.y,re=!!E.current,Z=["left","right"].includes(m.swipeDirection),ae=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ge=Z?ae(0,ie):0,se=Z?0:ae(0,oe),R=J.pointerType==="touch"?10:2,F={x:ge,y:se},L={originalEvent:J,delta:F};re?(E.current=F,Qx(zte,f,L,{discrete:!1})):DR(F,m.swipeDirection,R)?(E.current=F,Qx(Vte,d,L,{discrete:!1}),J.target.setPointerCapture(J.pointerId)):(Math.abs(ie)>R||Math.abs(oe)>R)&&(S.current=null)}),onPointerUp:it(e.onPointerUp,J=>{const ie=E.current,oe=J.target;if(oe.hasPointerCapture(J.pointerId)&&oe.releasePointerCapture(J.pointerId),E.current=null,S.current=null,ie){const re=J.currentTarget,Z={originalEvent:J,delta:ie};DR(ie,m.swipeDirection,m.swipeThreshold)?Qx(Yte,p,Z,{discrete:!0}):Qx(Hte,h,Z,{discrete:!0}),re.addEventListener("click",ae=>ae.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Xte=e=>{const{__scopeToast:t,children:r,...n}=e,s=Sw(yg,t),[a,i]=w.useState(!1),[l,c]=w.useState(!1);return Jte(()=>i(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(xg,{asChild:!0,children:o.jsx(bw,{...n,children:a&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},Qte="ToastTitle",n$=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(dt.div,{...n,ref:t})});n$.displayName=Qte;var Zte="ToastDescription",s$=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(dt.div,{...n,ref:t})});s$.displayName=Zte;var a$="ToastAction",i$=w.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(l$,{altText:r,asChild:!0,children:o.jsx(uk,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${a$}\`. Expected non-empty \`string\`.`),null)});i$.displayName=a$;var o$="ToastClose",uk=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=qte(o$,r);return o.jsx(l$,{asChild:!0,children:o.jsx(dt.button,{type:"button",...n,ref:t,onClick:it(e.onClick,s.onClose)})})});uk.displayName=o$;var l$=w.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return o.jsx(dt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function c$(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),ere(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...c$(n))}}),t}function Qx(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Y5(s,a):s.dispatchEvent(a)}var DR=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function Jte(e=()=>{}){const t=Nn(e);wn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function ere(e){return e.nodeType===e.ELEMENT_NODE}function tre(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function vE(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var rre=Z5,u$=e$,d$=r$,f$=n$,h$=s$,m$=i$,p$=uk;function v$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=v$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function g$(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=v$(e))&&(n&&(n+=" "),n+=t);return n}const RR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,IR=g$,Vm=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return IR(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=RR(d)||RR(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(x=>{let[m,g]=x;return Array.isArray(g)?g.includes({...a,...l}[m]):{...a,...l}[m]===g})?[...u,f,h]:u},[]);return IR(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x$=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>w.createElement("svg",{ref:c,...sre,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:x$("lucide",s),...l},[...i.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(e,t)=>{const r=w.forwardRef(({className:n,...s},a)=>w.createElement(are,{ref:a,iconNode:t,className:x$(`lucide-${nre(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=tt("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=tt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=tt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=tt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=tt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=tt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=tt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=tt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=tt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=tt("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=tt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=tt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=tt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=tt("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=tt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=tt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=tt("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=tt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=tt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=tt("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=tt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=tt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=tt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=tt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=tt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=tt("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=tt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=tt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=tt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=tt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=tt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=tt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=tt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=tt("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=tt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=tt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=tt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=tt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=tt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=tt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=tt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=tt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=tt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=tt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=tt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=tt("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=tt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pk="-",Ore=e=>{const t=Rre(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(pk);return l[0]===""&&l.length!==1&&l.shift(),N$(l,t)||Dre(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},N$=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?N$(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(pk);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},BR=/^\[(.+)\]$/,Dre=e=>{if(BR.test(e)){const t=BR.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Rre=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Mre(Object.entries(e.classGroups),r).forEach(([a,i])=>{OT(i,n,a,t)}),n},OT=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:WR(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(Ire(s)){OT(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{OT(i,WR(t,a),r,n)})})},WR=(e,t)=>{let r=e;return t.split(pk).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ire=e=>e.isThemeGetter,Mre=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,Fre=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},k$="!",Lre=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let g=0;g<l.length;g++){let _=l[g];if(u===0){if(_===s&&(n||l.slice(g,g+a)===t)){c.push(l.slice(d,g)),d=g+a;continue}if(_==="/"){f=g;continue}}_==="["?u++:_==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(k$),x=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:i}):i},$re=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Ure=e=>({cache:Fre(e.cacheSize),parseClassName:Lre(e),...Ore(e)}),Bre=/\s+/,Wre=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(Bre);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let x=!!p,m=n(x?h.substring(0,p):h);if(!m){if(!x){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}x=!1}const g=$re(d).join(":"),_=f?g+k$:g,y=_+m;if(a.includes(y))continue;a.push(y);const S=s(m,x);for(let E=0;E<S.length;++E){const C=S[E];a.push(_+C)}l=u+(l.length>0?" "+l:l)}return l};function Vre(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=j$(t))&&(n&&(n+=" "),n+=r);return n}const j$=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=j$(e[n]))&&(r&&(r+=" "),r+=t);return r};function zre(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=Ure(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Wre(c,r);return s(c,d),d}return function(){return a(Vre.apply(null,arguments))}}const Fr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},A$=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hre=/^\d+\/\d+$/,Yre=new Set(["px","full","screen"]),Gre=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qre=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kre=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Xre=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qre=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sl=e=>Ph(e)||Yre.has(e)||Hre.test(e),gc=e=>zm(e,"length",ane),Ph=e=>!!e&&!Number.isNaN(Number(e)),gE=e=>zm(e,"number",Ph),zp=e=>!!e&&Number.isInteger(Number(e)),Zre=e=>e.endsWith("%")&&Ph(e.slice(0,-1)),Pt=e=>A$.test(e),xc=e=>Gre.test(e),Jre=new Set(["length","size","percentage"]),ene=e=>zm(e,Jre,P$),tne=e=>zm(e,"position",P$),rne=new Set(["image","url"]),nne=e=>zm(e,rne,one),sne=e=>zm(e,"",ine),Hp=()=>!0,zm=(e,t,r)=>{const n=A$.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ane=e=>qre.test(e)&&!Kre.test(e),P$=()=>!1,ine=e=>Xre.test(e),one=e=>Qre.test(e),lne=()=>{const e=Fr("colors"),t=Fr("spacing"),r=Fr("blur"),n=Fr("brightness"),s=Fr("borderColor"),a=Fr("borderRadius"),i=Fr("borderSpacing"),l=Fr("borderWidth"),c=Fr("contrast"),u=Fr("grayscale"),d=Fr("hueRotate"),f=Fr("invert"),h=Fr("gap"),p=Fr("gradientColorStops"),x=Fr("gradientColorStopPositions"),m=Fr("inset"),g=Fr("margin"),_=Fr("opacity"),y=Fr("padding"),S=Fr("saturate"),E=Fr("scale"),C=Fr("sepia"),P=Fr("skew"),N=Fr("space"),A=Fr("translate"),j=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",Pt,t],z=()=>[Pt,t],Y=()=>["",sl,gc],J=()=>["auto",Ph,Pt],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],oe=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Pt],ge=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Ph,Pt];return{cacheSize:500,separator:":",theme:{colors:[Hp],spacing:[sl,gc],blur:["none","",xc,Pt],brightness:se(),borderColor:[e],borderRadius:["none","","full",xc,Pt],borderSpacing:z(),borderWidth:Y(),contrast:se(),grayscale:ae(),hueRotate:se(),invert:ae(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[Zre,gc],inset:W(),margin:W(),opacity:se(),padding:z(),saturate:se(),scale:se(),sepia:ae(),skew:se(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Pt]}],container:["container"],columns:[{columns:[xc]}],"break-after":[{"break-after":ge()}],"break-before":[{"break-before":ge()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),Pt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zp,Pt]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pt]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",zp,Pt]}],"grid-cols":[{"grid-cols":[Hp]}],"col-start-end":[{col:["auto",{span:["full",zp,Pt]},Pt]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[Hp]}],"row-start-end":[{row:["auto",{span:[zp,Pt]},Pt]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pt,t]}],"min-w":[{"min-w":[Pt,t,"min","max","fit"]}],"max-w":[{"max-w":[Pt,t,"none","full","min","max","fit","prose",{screen:[xc]},xc]}],h:[{h:[Pt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xc,gc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gE]}],"font-family":[{font:[Hp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pt]}],"line-clamp":[{"line-clamp":["none",Ph,gE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sl,Pt]}],"list-image":[{"list-image":["none",Pt]}],"list-style-type":[{list:["none","disc","decimal",Pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sl,gc]}],"underline-offset":[{"underline-offset":["auto",sl,Pt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),tne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ene]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...oe(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:oe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...oe()]}],"outline-offset":[{"outline-offset":[sl,Pt]}],"outline-w":[{outline:[sl,gc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[sl,gc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xc,sne]}],"shadow-color":[{shadow:[Hp]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",xc,Pt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pt]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",Pt]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[zp,Pt]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[sl,gc,gE]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cne=zre(lne);function Ye(...e){return cne(g$(e))}const une=rre,O$=w.forwardRef(({className:e,...t},r)=>o.jsx(u$,{ref:r,className:Ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));O$.displayName=u$.displayName;const dne=Vm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),D$=w.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(d$,{ref:n,className:Ye(dne({variant:t}),e),...r}));D$.displayName=d$.displayName;const fne=w.forwardRef(({className:e,...t},r)=>o.jsx(m$,{ref:r,className:Ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));fne.displayName=m$.displayName;const R$=w.forwardRef(({className:e,...t},r)=>o.jsx(p$,{ref:r,className:Ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Ah,{className:"h-4 w-4"})}));R$.displayName=p$.displayName;const I$=w.forwardRef(({className:e,...t},r)=>o.jsx(f$,{ref:r,className:Ye("text-sm font-semibold",e),...t}));I$.displayName=f$.displayName;const M$=w.forwardRef(({className:e,...t},r)=>o.jsx(h$,{ref:r,className:Ye("text-sm opacity-90",e),...t}));M$.displayName=h$.displayName;function hne(){const{toasts:e}=La();return o.jsxs(une,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return o.jsxs(D$,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(I$,{children:r}),n&&o.jsx(M$,{children:n})]}),s,o.jsx(R$,{})]},t)}),o.jsx(O$,{})]})}var VR=["light","dark"],mne="(prefers-color-scheme: dark)",pne=w.createContext(void 0),vne={setTheme:e=>{},themes:[]},gne=()=>{var e;return(e=w.useContext(pne))!=null?e:vne};w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?VR.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,m=!1,g=!0)=>{let _=i?i[x]:x,y=m?x+"|| ''":`'${_}'`,S="";return s&&g&&!m&&VR.includes(x)&&(S+=`d.style.colorScheme = '${x}';`),r==="class"?m||_?S+=`c.add(${y})`:S+="null":_&&(S+=`d[s](n,${y})`),S},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${mne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var xne=e=>{switch(e){case"success":return wne;case"info":return Sne;case"warning":return bne;case"error":return Ene;default:return null}},yne=Array(12).fill(0),_ne=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},yne.map((r,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),wne=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bne=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Sne=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ene=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Tne=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Cne=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},DT=1,Nne=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:DT++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,i=n.then(async c=>{if(a=["resolve",c],H.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(jne(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||DT++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},qs=new Nne,kne=(e,t)=>{let r=(t==null?void 0:t.id)||DT++;return qs.addToast({title:e,...t,id:r}),r},jne=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Ane=kne,Pne=()=>qs.toasts,One=()=>qs.getActiveToasts(),RT=Object.assign(Ane,{success:qs.success,info:qs.info,warning:qs.warning,error:qs.error,custom:qs.custom,message:qs.message,promise:qs.promise,dismiss:qs.dismiss,loading:qs.loading},{getHistory:Pne,getToasts:One});function Dne(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Dne(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zx(e){return e.label!==void 0}var Rne=3,Ine="32px",Mne="16px",zR=4e3,Fne=356,Lne=14,$ne=20,Une=200;function bi(...e){return e.filter(Boolean).join(" ")}function Bne(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Wne=e=>{var t,r,n,s,a,i,l,c,u,d,f;let{invert:h,toast:p,unstyled:x,interacting:m,setHeights:g,visibleToasts:_,heights:y,index:S,toasts:E,expanded:C,removeToast:P,defaultRichColors:N,closeButton:A,style:j,cancelButtonStyle:O,actionButtonStyle:W,className:z="",descriptionClassName:Y="",duration:J,position:ie,gap:oe,loadingIcon:re,expandByDefault:Z,classNames:ae,icons:ge,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:R}=e,[F,L]=H.useState(null),[I,U]=H.useState(null),[X,de]=H.useState(!1),[ye,me]=H.useState(!1),[Ue,We]=H.useState(!1),[mt,lt]=H.useState(!1),[Kt,ut]=H.useState(!1),[Ie,ht]=H.useState(0),[wt,Q]=H.useState(0),ne=H.useRef(p.duration||J||zR),te=H.useRef(null),he=H.useRef(null),pe=S===0,je=S+1<=_,Me=p.type,bt=p.dismissible!==!1,jt=p.className||"",pn=p.descriptionClassName||"",$t=H.useMemo(()=>y.findIndex(Ee=>Ee.toastId===p.id)||0,[y,p.id]),cs=H.useMemo(()=>{var Ee;return(Ee=p.closeButton)!=null?Ee:A},[p.closeButton,A]),ao=H.useMemo(()=>p.duration||J||zR,[p.duration,J]),Es=H.useRef(0),qn=H.useRef(0),za=H.useRef(0),Un=H.useRef(null),[io,Ko]=ie.split("-"),oo=H.useMemo(()=>y.reduce((Ee,rr,Er)=>Er>=$t?Ee:Ee+rr.height,0),[y,$t]),Qu=Cne(),Xo=p.invert||h,Ha=Me==="loading";qn.current=H.useMemo(()=>$t*oe+oo,[$t,oo]),H.useEffect(()=>{ne.current=ao},[ao]),H.useEffect(()=>{de(!0)},[]),H.useEffect(()=>{let Ee=he.current;if(Ee){let rr=Ee.getBoundingClientRect().height;return Q(rr),g(Er=>[{toastId:p.id,height:rr,position:p.position},...Er]),()=>g(Er=>Er.filter(Zr=>Zr.toastId!==p.id))}},[g,p.id]),H.useLayoutEffect(()=>{if(!X)return;let Ee=he.current,rr=Ee.style.height;Ee.style.height="auto";let Er=Ee.getBoundingClientRect().height;Ee.style.height=rr,Q(Er),g(Zr=>Zr.find(jr=>jr.toastId===p.id)?Zr.map(jr=>jr.toastId===p.id?{...jr,height:Er}:jr):[{toastId:p.id,height:Er,position:p.position},...Zr])},[X,p.title,p.description,g,p.id]);let Kn=H.useCallback(()=>{me(!0),ht(qn.current),g(Ee=>Ee.filter(rr=>rr.toastId!==p.id)),setTimeout(()=>{P(p)},Une)},[p,P,g,qn]);H.useEffect(()=>{if(p.promise&&Me==="loading"||p.duration===1/0||p.type==="loading")return;let Ee;return C||m||R&&Qu?(()=>{if(za.current<Es.current){let rr=new Date().getTime()-Es.current;ne.current=ne.current-rr}za.current=new Date().getTime()})():ne.current!==1/0&&(Es.current=new Date().getTime(),Ee=setTimeout(()=>{var rr;(rr=p.onAutoClose)==null||rr.call(p,p),Kn()},ne.current)),()=>clearTimeout(Ee)},[C,m,p,Me,R,Qu,Kn]),H.useEffect(()=>{p.delete&&Kn()},[Kn,p.delete]);function uc(){var Ee,rr,Er;return ge!=null&&ge.loading?H.createElement("div",{className:bi(ae==null?void 0:ae.loader,(Ee=p==null?void 0:p.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Me==="loading"},ge.loading):re?H.createElement("div",{className:bi(ae==null?void 0:ae.loader,(rr=p==null?void 0:p.classNames)==null?void 0:rr.loader,"sonner-loader"),"data-visible":Me==="loading"},re):H.createElement(_ne,{className:bi(ae==null?void 0:ae.loader,(Er=p==null?void 0:p.classNames)==null?void 0:Er.loader),visible:Me==="loading"})}return H.createElement("li",{tabIndex:0,ref:he,className:bi(z,jt,ae==null?void 0:ae.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,ae==null?void 0:ae.default,ae==null?void 0:ae[Me],(r=p==null?void 0:p.classNames)==null?void 0:r[Me]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:N,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":X,"data-promise":!!p.promise,"data-swiped":Kt,"data-removed":ye,"data-visible":je,"data-y-position":io,"data-x-position":Ko,"data-index":S,"data-front":pe,"data-swiping":Ue,"data-dismissible":bt,"data-type":Me,"data-invert":Xo,"data-swipe-out":mt,"data-swipe-direction":I,"data-expanded":!!(C||Z&&X),style:{"--index":S,"--toasts-before":S,"--z-index":E.length-S,"--offset":`${ye?Ie:qn.current}px`,"--initial-height":Z?"auto":`${wt}px`,...j,...p.style},onDragEnd:()=>{We(!1),L(null),Un.current=null},onPointerDown:Ee=>{Ha||!bt||(te.current=new Date,ht(qn.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(We(!0),Un.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,rr,Er,Zr;if(mt||!bt)return;Un.current=null;let jr=Number(((Ee=he.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_t=Number(((rr=he.current)==null?void 0:rr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ma=new Date().getTime()-((Er=te.current)==null?void 0:Er.getTime()),Ct=F==="x"?jr:_t,us=Math.abs(Ct)/ma;if(Math.abs(Ct)>=$ne||us>.11){ht(qn.current),(Zr=p.onDismiss)==null||Zr.call(p,p),U(F==="x"?jr>0?"right":"left":_t>0?"down":"up"),Kn(),lt(!0),ut(!1);return}We(!1),L(null)},onPointerMove:Ee=>{var rr,Er,Zr,jr;if(!Un.current||!bt||((rr=window.getSelection())==null?void 0:rr.toString().length)>0)return;let _t=Ee.clientY-Un.current.y,ma=Ee.clientX-Un.current.x,Ct=(Er=e.swipeDirections)!=null?Er:Bne(ie);!F&&(Math.abs(ma)>1||Math.abs(_t)>1)&&L(Math.abs(ma)>Math.abs(_t)?"x":"y");let us={x:0,y:0};F==="y"?(Ct.includes("top")||Ct.includes("bottom"))&&(Ct.includes("top")&&_t<0||Ct.includes("bottom")&&_t>0)&&(us.y=_t):F==="x"&&(Ct.includes("left")||Ct.includes("right"))&&(Ct.includes("left")&&ma<0||Ct.includes("right")&&ma>0)&&(us.x=ma),(Math.abs(us.x)>0||Math.abs(us.y)>0)&&ut(!0),(Zr=he.current)==null||Zr.style.setProperty("--swipe-amount-x",`${us.x}px`),(jr=he.current)==null||jr.style.setProperty("--swipe-amount-y",`${us.y}px`)}},cs&&!p.jsx?H.createElement("button",{"aria-label":se,"data-disabled":Ha,"data-close-button":!0,onClick:Ha||!bt?()=>{}:()=>{var Ee;Kn(),(Ee=p.onDismiss)==null||Ee.call(p,p)},className:bi(ae==null?void 0:ae.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=ge==null?void 0:ge.close)!=null?a:Tne):null,p.jsx||w.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,Me||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:bi(ae==null?void 0:ae.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||uc():null,p.type!=="loading"?p.icon||(ge==null?void 0:ge[Me])||xne(Me):null):null,H.createElement("div",{"data-content":"",className:bi(ae==null?void 0:ae.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},H.createElement("div",{"data-title":"",className:bi(ae==null?void 0:ae.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:bi(Y,pn,ae==null?void 0:ae.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),w.isValidElement(p.cancel)?p.cancel:p.cancel&&Zx(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:Ee=>{var rr,Er;Zx(p.cancel)&&bt&&((Er=(rr=p.cancel).onClick)==null||Er.call(rr,Ee),Kn())},className:bi(ae==null?void 0:ae.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,w.isValidElement(p.action)?p.action:p.action&&Zx(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||W,onClick:Ee=>{var rr,Er;Zx(p.action)&&((Er=(rr=p.action).onClick)==null||Er.call(rr,Ee),!Ee.defaultPrevented&&Kn())},className:bi(ae==null?void 0:ae.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function HR(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Vne(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?Mne:Ine;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var zne=w.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:x=Rne,toastOptions:m,dir:g=HR(),gap:_=Lne,loadingIcon:y,icons:S,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:C}=e,[P,N]=H.useState([]),A=H.useMemo(()=>Array.from(new Set([n].concat(P.filter(R=>R.position).map(R=>R.position)))),[P,n]),[j,O]=H.useState([]),[W,z]=H.useState(!1),[Y,J]=H.useState(!1),[ie,oe]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=H.useRef(null),Z=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),ae=H.useRef(null),ge=H.useRef(!1),se=H.useCallback(R=>{N(F=>{var L;return(L=F.find(I=>I.id===R.id))!=null&&L.delete||qs.dismiss(R.id),F.filter(({id:I})=>I!==R.id)})},[]);return H.useEffect(()=>qs.subscribe(R=>{if(R.dismiss){N(F=>F.map(L=>L.id===R.id?{...L,delete:!0}:L));return}setTimeout(()=>{ww.flushSync(()=>{N(F=>{let L=F.findIndex(I=>I.id===R.id);return L!==-1?[...F.slice(0,L),{...F[L],...R},...F.slice(L+1)]:[R,...F]})})})}),[]),H.useEffect(()=>{if(d!=="system"){oe(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window>"u")return;let R=window.matchMedia("(prefers-color-scheme: dark)");try{R.addEventListener("change",({matches:F})=>{oe(F?"dark":"light")})}catch{R.addListener(({matches:L})=>{try{oe(L?"dark":"light")}catch(I){console.error(I)}})}},[d]),H.useEffect(()=>{P.length<=1&&z(!1)},[P]),H.useEffect(()=>{let R=F=>{var L,I;s.every(U=>F[U]||F.code===U)&&(z(!0),(L=re.current)==null||L.focus()),F.code==="Escape"&&(document.activeElement===re.current||(I=re.current)!=null&&I.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[s]),H.useEffect(()=>{if(re.current)return()=>{ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null,ge.current=!1)}},[re.current]),H.createElement("section",{ref:t,"aria-label":`${E} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((R,F)=>{var L;let[I,U]=R.split("-");return P.length?H.createElement("ol",{key:R,dir:g==="auto"?HR():g,tabIndex:-1,ref:re,className:l,"data-sonner-toaster":!0,"data-theme":ie,"data-y-position":I,"data-lifted":W&&P.length>1&&!a,"data-x-position":U,style:{"--front-toast-height":`${((L=j[0])==null?void 0:L.height)||0}px`,"--width":`${Fne}px`,"--gap":`${_}px`,...p,...Vne(c,u)},onBlur:X=>{ge.current&&!X.currentTarget.contains(X.relatedTarget)&&(ge.current=!1,ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||ge.current||(ge.current=!0,ae.current=X.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{Y||z(!1)},onDragEnd:()=>z(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},P.filter(X=>!X.position&&F===0||X.position===R).map((X,de)=>{var ye,me;return H.createElement(Wne,{key:X.id,icons:S,index:de,toast:X,defaultRichColors:f,duration:(ye=m==null?void 0:m.duration)!=null?ye:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:x,closeButton:(me=m==null?void 0:m.closeButton)!=null?me:i,interacting:Y,position:R,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:se,toasts:P.filter(Ue=>Ue.position==X.position),heights:j.filter(Ue=>Ue.position==X.position),setHeights:O,expandByDefault:a,gap:_,loadingIcon:y,expanded:W,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const Hne=({...e})=>{const{theme:t="system"}=gne();return o.jsx(zne,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Yne=vN[" useId ".trim().toString()]||(()=>{}),Gne=0;function Sl(e){const[t,r]=w.useState(Yne());return wn(()=>{r(n=>n??String(Gne++))},[e]),t?`radix-${t}`:""}const qne=["top","right","bottom","left"],pu=Math.min,wa=Math.max,Ry=Math.round,Jx=Math.floor,Ao=e=>({x:e,y:e}),Kne={left:"right",right:"left",bottom:"top",top:"bottom"},Xne={start:"end",end:"start"};function IT(e,t,r){return wa(e,pu(t,r))}function Bl(e,t){return typeof e=="function"?e(t):e}function Wl(e){return e.split("-")[0]}function Hm(e){return e.split("-")[1]}function vk(e){return e==="x"?"y":"x"}function gk(e){return e==="y"?"height":"width"}const Qne=new Set(["top","bottom"]);function So(e){return Qne.has(Wl(e))?"y":"x"}function xk(e){return vk(So(e))}function Zne(e,t,r){r===void 0&&(r=!1);const n=Hm(e),s=xk(e),a=gk(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Iy(i)),[i,Iy(i)]}function Jne(e){const t=Iy(e);return[MT(e),t,MT(t)]}function MT(e){return e.replace(/start|end/g,t=>Xne[t])}const YR=["left","right"],GR=["right","left"],ese=["top","bottom"],tse=["bottom","top"];function rse(e,t,r){switch(e){case"top":case"bottom":return r?t?GR:YR:t?YR:GR;case"left":case"right":return t?ese:tse;default:return[]}}function nse(e,t,r,n){const s=Hm(e);let a=rse(Wl(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(MT)))),a}function Iy(e){return e.replace(/left|right|bottom|top/g,t=>Kne[t])}function sse(e){return{top:0,right:0,bottom:0,left:0,...e}}function F$(e){return typeof e!="number"?sse(e):{top:e,right:e,bottom:e,left:e}}function My(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function qR(e,t,r){let{reference:n,floating:s}=e;const a=So(t),i=xk(t),l=gk(i),c=Wl(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Hm(t)){case"start":p[i]-=h*(r&&u?-1:1);break;case"end":p[i]+=h*(r&&u?-1:1);break}return p}const ase=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=qR(u,n,c),h=n,p={},x=0;for(let m=0;m<l.length;m++){const{name:g,fn:_}=l[m],{x:y,y:S,data:E,reset:C}=await _({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=S??f,p={...p,[g]:{...p[g],...E}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:f}=qR(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function gv(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Bl(t,e),x=F$(p),g=l[h?f==="floating"?"reference":"floating":f],_=My(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),E=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},C=My(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:S,strategy:c}):y);return{top:(_.top-C.top+x.top)/E.y,bottom:(C.bottom-_.bottom+x.bottom)/E.y,left:(_.left-C.left+x.left)/E.x,right:(C.right-_.right+x.right)/E.x}}const ise=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Bl(e,t)||{};if(u==null)return{};const f=F$(d),h={x:r,y:n},p=xk(s),x=gk(p),m=await i.getDimensions(u),g=p==="y",_=g?"top":"left",y=g?"bottom":"right",S=g?"clientHeight":"clientWidth",E=a.reference[x]+a.reference[p]-h[p]-a.floating[x],C=h[p]-a.reference[p],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=P?P[S]:0;(!N||!await(i.isElement==null?void 0:i.isElement(P)))&&(N=l.floating[S]||a.floating[x]);const A=E/2-C/2,j=N/2-m[x]/2-1,O=pu(f[_],j),W=pu(f[y],j),z=O,Y=N-m[x]-W,J=N/2-m[x]/2+A,ie=IT(z,J,Y),oe=!c.arrow&&Hm(s)!=null&&J!==ie&&a.reference[x]/2-(J<z?O:W)-m[x]/2<0,re=oe?J<z?J-z:J-Y:0;return{[p]:h[p]+re,data:{[p]:ie,centerOffset:J-ie-re,...oe&&{alignmentOffset:re}},reset:oe}}}),ose=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...g}=Bl(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const _=Wl(s),y=So(l),S=Wl(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=h||(S||!m?[Iy(l)]:Jne(l)),P=x!=="none";!h&&P&&C.push(...nse(l,m,x,E));const N=[l,...C],A=await gv(t,g),j=[];let O=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&j.push(A[_]),f){const J=Zne(s,i,E);j.push(A[J[0]],A[J[1]])}if(O=[...O,{placement:s,overflows:j}],!j.every(J=>J<=0)){var W,z;const J=(((W=a.flip)==null?void 0:W.index)||0)+1,ie=N[J];if(ie&&(!(f==="alignment"?y!==So(ie):!1)||O.every(Z=>Z.overflows[0]>0&&So(Z.placement)===y)))return{data:{index:J,overflows:O},reset:{placement:ie}};let oe=(z=O.filter(re=>re.overflows[0]<=0).sort((re,Z)=>re.overflows[1]-Z.overflows[1])[0])==null?void 0:z.placement;if(!oe)switch(p){case"bestFit":{var Y;const re=(Y=O.filter(Z=>{if(P){const ae=So(Z.placement);return ae===y||ae==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ae=>ae>0).reduce((ae,ge)=>ae+ge,0)]).sort((Z,ae)=>Z[1]-ae[1])[0])==null?void 0:Y[0];re&&(oe=re);break}case"initialPlacement":oe=l;break}if(s!==oe)return{reset:{placement:oe}}}return{}}}};function KR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function XR(e){return qne.some(t=>e[t]>=0)}const lse=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Bl(e,t);switch(n){case"referenceHidden":{const a=await gv(t,{...s,elementContext:"reference"}),i=KR(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:XR(i)}}}case"escaped":{const a=await gv(t,{...s,altBoundary:!0}),i=KR(a,r.floating);return{data:{escapedOffsets:i,escaped:XR(i)}}}default:return{}}}}},L$=new Set(["left","top"]);async function cse(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Wl(r),l=Hm(r),c=So(r)==="y",u=L$.has(i)?-1:1,d=a&&c?-1:1,f=Bl(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const use=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await cse(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},dse=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:g=>{let{x:_,y}=g;return{x:_,y}}},...c}=Bl(e,t),u={x:r,y:n},d=await gv(t,c),f=So(Wl(s)),h=vk(f);let p=u[h],x=u[f];if(a){const g=h==="y"?"top":"left",_=h==="y"?"bottom":"right",y=p+d[g],S=p-d[_];p=IT(y,p,S)}if(i){const g=f==="y"?"top":"left",_=f==="y"?"bottom":"right",y=x+d[g],S=x-d[_];x=IT(y,x,S)}const m=l.fn({...t,[h]:p,[f]:x});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:a,[f]:i}}}}}},fse=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Bl(e,t),d={x:r,y:n},f=So(s),h=vk(f);let p=d[h],x=d[f];const m=Bl(l,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const S=h==="y"?"height":"width",E=a.reference[h]-a.floating[S]+g.mainAxis,C=a.reference[h]+a.reference[S]-g.mainAxis;p<E?p=E:p>C&&(p=C)}if(u){var _,y;const S=h==="y"?"width":"height",E=L$.has(Wl(s)),C=a.reference[f]-a.floating[S]+(E&&((_=i.offset)==null?void 0:_[f])||0)+(E?0:g.crossAxis),P=a.reference[f]+a.reference[S]+(E?0:((y=i.offset)==null?void 0:y[f])||0)-(E?g.crossAxis:0);x<C?x=C:x>P&&(x=P)}return{[h]:p,[f]:x}}}},hse=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Bl(e,t),d=await gv(t,u),f=Wl(s),h=Hm(s),p=So(s)==="y",{width:x,height:m}=a.floating;let g,_;f==="top"||f==="bottom"?(g=f,_=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,g=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,S=x-d.left-d.right,E=pu(m-d[g],y),C=pu(x-d[_],S),P=!t.middlewareData.shift;let N=E,A=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=y),P&&!h){const O=wa(d.left,0),W=wa(d.right,0),z=wa(d.top,0),Y=wa(d.bottom,0);p?A=x-2*(O!==0||W!==0?O+W:wa(d.left,d.right)):N=m-2*(z!==0||Y!==0?z+Y:wa(d.top,d.bottom))}await c({...t,availableWidth:A,availableHeight:N});const j=await i.getDimensions(l.floating);return x!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}};function Ew(){return typeof window<"u"}function Ym(e){return $$(e)?(e.nodeName||"").toLowerCase():"#document"}function ja(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wo(e){var t;return(t=($$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $$(e){return Ew()?e instanceof Node||e instanceof ja(e).Node:!1}function Gi(e){return Ew()?e instanceof Element||e instanceof ja(e).Element:!1}function Fo(e){return Ew()?e instanceof HTMLElement||e instanceof ja(e).HTMLElement:!1}function QR(e){return!Ew()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ja(e).ShadowRoot}const mse=new Set(["inline","contents"]);function bg(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=qi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!mse.has(s)}const pse=new Set(["table","td","th"]);function vse(e){return pse.has(Ym(e))}const gse=[":popover-open",":modal"];function Tw(e){return gse.some(t=>{try{return e.matches(t)}catch{return!1}})}const xse=["transform","translate","scale","rotate","perspective"],yse=["transform","translate","scale","rotate","perspective","filter"],_se=["paint","layout","strict","content"];function yk(e){const t=_k(),r=Gi(e)?qi(e):e;return xse.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||yse.some(n=>(r.willChange||"").includes(n))||_se.some(n=>(r.contain||"").includes(n))}function wse(e){let t=vu(e);for(;Fo(t)&&!fm(t);){if(yk(t))return t;if(Tw(t))return null;t=vu(t)}return null}function _k(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bse=new Set(["html","body","#document"]);function fm(e){return bse.has(Ym(e))}function qi(e){return ja(e).getComputedStyle(e)}function Cw(e){return Gi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vu(e){if(Ym(e)==="html")return e;const t=e.assignedSlot||e.parentNode||QR(e)&&e.host||Wo(e);return QR(t)?t.host:t}function U$(e){const t=vu(e);return fm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fo(t)&&bg(t)?t:U$(t)}function xv(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=U$(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=ja(s);if(a){const l=FT(i);return t.concat(i,i.visualViewport||[],bg(s)?s:[],l&&r?xv(l):[])}return t.concat(s,xv(s,[],r))}function FT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function B$(e){const t=qi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Fo(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=Ry(r)!==a||Ry(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function wk(e){return Gi(e)?e:e.contextElement}function Oh(e){const t=wk(e);if(!Fo(t))return Ao(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=B$(t);let i=(a?Ry(r.width):r.width)/n,l=(a?Ry(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Sse=Ao(0);function W$(e){const t=ja(e);return!_k()||!t.visualViewport?Sse:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ese(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ja(e)?!1:t}function zd(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=wk(e);let i=Ao(1);t&&(n?Gi(n)&&(i=Oh(n)):i=Oh(e));const l=Ese(a,r,n)?W$(a):Ao(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const h=ja(a),p=n&&Gi(n)?ja(n):n;let x=h,m=FT(x);for(;m&&n&&p!==x;){const g=Oh(m),_=m.getBoundingClientRect(),y=qi(m),S=_.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,E=_.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=S,u+=E,x=ja(m),m=FT(x)}}return My({width:d,height:f,x:c,y:u})}function bk(e,t){const r=Cw(e).scrollLeft;return t?t.left+r:zd(Wo(e)).left+r}function V$(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:bk(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function Tse(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=Wo(n),l=t?Tw(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Ao(1);const d=Ao(0),f=Fo(n);if((f||!f&&!a)&&((Ym(n)!=="body"||bg(i))&&(c=Cw(n)),Fo(n))){const p=zd(n);u=Oh(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=i&&!f&&!a?V$(i,c,!0):Ao(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Cse(e){return Array.from(e.getClientRects())}function Nse(e){const t=Wo(e),r=Cw(e),n=e.ownerDocument.body,s=wa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=wa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+bk(e);const l=-r.scrollTop;return qi(n).direction==="rtl"&&(i+=wa(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}function kse(e,t){const r=ja(e),n=Wo(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=_k();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}const jse=new Set(["absolute","fixed"]);function Ase(e,t){const r=zd(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Fo(e)?Oh(e):Ao(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function ZR(e,t,r){let n;if(t==="viewport")n=kse(e,r);else if(t==="document")n=Nse(Wo(e));else if(Gi(t))n=Ase(t,r);else{const s=W$(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return My(n)}function z$(e,t){const r=vu(e);return r===t||!Gi(r)||fm(r)?!1:qi(r).position==="fixed"||z$(r,t)}function Pse(e,t){const r=t.get(e);if(r)return r;let n=xv(e,[],!1).filter(l=>Gi(l)&&Ym(l)!=="body"),s=null;const a=qi(e).position==="fixed";let i=a?vu(e):e;for(;Gi(i)&&!fm(i);){const l=qi(i),c=yk(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&jse.has(s.position)||bg(i)&&!c&&z$(e,i))?n=n.filter(d=>d!==i):s=l,i=vu(i)}return t.set(e,n),n}function Ose(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Tw(t)?[]:Pse(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=ZR(t,d,s);return u.top=wa(f.top,u.top),u.right=pu(f.right,u.right),u.bottom=pu(f.bottom,u.bottom),u.left=wa(f.left,u.left),u},ZR(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Dse(e){const{width:t,height:r}=B$(e);return{width:t,height:r}}function Rse(e,t,r){const n=Fo(t),s=Wo(t),a=r==="fixed",i=zd(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Ao(0);function u(){c.x=bk(s)}if(n||!n&&!a)if((Ym(t)!=="body"||bg(s))&&(l=Cw(t)),n){const p=zd(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?V$(s,l):Ao(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function xE(e){return qi(e).position==="static"}function JR(e,t){if(!Fo(e)||qi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Wo(e)===r&&(r=r.ownerDocument.body),r}function H$(e,t){const r=ja(e);if(Tw(e))return r;if(!Fo(e)){let s=vu(e);for(;s&&!fm(s);){if(Gi(s)&&!xE(s))return s;s=vu(s)}return r}let n=JR(e,t);for(;n&&vse(n)&&xE(n);)n=JR(n,t);return n&&fm(n)&&xE(n)&&!yk(n)?r:n||wse(e)||r}const Ise=async function(e){const t=this.getOffsetParent||H$,r=this.getDimensions,n=await r(e.floating);return{reference:Rse(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Mse(e){return qi(e).direction==="rtl"}const Fse={convertOffsetParentRelativeRectToViewportRelativeRect:Tse,getDocumentElement:Wo,getClippingRect:Ose,getOffsetParent:H$,getElementRects:Ise,getClientRects:Cse,getDimensions:Dse,getScale:Oh,isElement:Gi,isRTL:Mse};function Y$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Lse(e,t){let r=null,n;const s=Wo(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const x=Jx(f),m=Jx(s.clientWidth-(d+h)),g=Jx(s.clientHeight-(f+p)),_=Jx(d),S={rootMargin:-x+"px "+-m+"px "+-g+"px "+-_+"px",threshold:wa(0,pu(1,c))||1};let E=!0;function C(P){const N=P[0].intersectionRatio;if(N!==c){if(!E)return i();N?i(!1,N):n=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!Y$(u,e.getBoundingClientRect())&&i(),E=!1}try{r=new IntersectionObserver(C,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,S)}r.observe(e)}return i(!0),a}function $se(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=wk(e),d=s||a?[...u?xv(u):[],...xv(t)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",r,{passive:!0}),a&&_.addEventListener("resize",r)});const f=u&&l?Lse(u,r):null;let h=-1,p=null;i&&(p=new ResizeObserver(_=>{let[y]=_;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let x,m=c?zd(e):null;c&&g();function g(){const _=zd(e);m&&!Y$(m,_)&&r(),m=_,x=requestAnimationFrame(g)}return r(),()=>{var _;d.forEach(y=>{s&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),f==null||f(),(_=p)==null||_.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const Use=use,Bse=dse,Wse=ose,Vse=hse,zse=lse,eI=ise,Hse=fse,Yse=(e,t,r)=>{const n=new Map,s={platform:Fse,...r},a={...s.platform,_c:n};return ase(e,t,{...s,platform:a})};var Gse=typeof document<"u",qse=function(){},z1=Gse?w.useLayoutEffect:qse;function Fy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Fy(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Fy(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function G$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tI(e,t){const r=G$(e);return Math.round(t*r)/r}function yE(e){const t=w.useRef(e);return z1(()=>{t.current=e}),t}function Kse(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=w.useState(n);Fy(h,n)||p(n);const[x,m]=w.useState(null),[g,_]=w.useState(null),y=w.useCallback(Z=>{Z!==P.current&&(P.current=Z,m(Z))},[]),S=w.useCallback(Z=>{Z!==N.current&&(N.current=Z,_(Z))},[]),E=a||x,C=i||g,P=w.useRef(null),N=w.useRef(null),A=w.useRef(d),j=c!=null,O=yE(c),W=yE(s),z=yE(u),Y=w.useCallback(()=>{if(!P.current||!N.current)return;const Z={placement:t,strategy:r,middleware:h};W.current&&(Z.platform=W.current),Yse(P.current,N.current,Z).then(ae=>{const ge={...ae,isPositioned:z.current!==!1};J.current&&!Fy(A.current,ge)&&(A.current=ge,yf.flushSync(()=>{f(ge)}))})},[h,t,r,W,z]);z1(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(Z=>({...Z,isPositioned:!1})))},[u]);const J=w.useRef(!1);z1(()=>(J.current=!0,()=>{J.current=!1}),[]),z1(()=>{if(E&&(P.current=E),C&&(N.current=C),E&&C){if(O.current)return O.current(E,C,Y);Y()}},[E,C,Y,O,j]);const ie=w.useMemo(()=>({reference:P,floating:N,setReference:y,setFloating:S}),[y,S]),oe=w.useMemo(()=>({reference:E,floating:C}),[E,C]),re=w.useMemo(()=>{const Z={position:r,left:0,top:0};if(!oe.floating)return Z;const ae=tI(oe.floating,d.x),ge=tI(oe.floating,d.y);return l?{...Z,transform:"translate("+ae+"px, "+ge+"px)",...G$(oe.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ae,top:ge}},[r,l,oe.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:Y,refs:ie,elements:oe,floatingStyles:re}),[d,Y,ie,oe,re])}const Xse=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?eI({element:n.current,padding:s}).fn(r):{}:n?eI({element:n,padding:s}).fn(r):{}}}},Qse=(e,t)=>({...Use(e),options:[e,t]}),Zse=(e,t)=>({...Bse(e),options:[e,t]}),Jse=(e,t)=>({...Hse(e),options:[e,t]}),eae=(e,t)=>({...Wse(e),options:[e,t]}),tae=(e,t)=>({...Vse(e),options:[e,t]}),rae=(e,t)=>({...zse(e),options:[e,t]}),nae=(e,t)=>({...Xse(e),options:[e,t]});var sae="Arrow",q$=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(dt.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});q$.displayName=sae;var aae=q$;function K$(e){const[t,r]=w.useState(void 0);return wn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Sk="Popper",[X$,Gm]=ha(Sk),[iae,Q$]=X$(Sk),Z$=e=>{const{__scopePopper:t,children:r}=e,[n,s]=w.useState(null);return o.jsx(iae,{scope:t,anchor:n,onAnchorChange:s,children:r})};Z$.displayName=Sk;var J$="PopperAnchor",e8=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=Q$(J$,r),i=w.useRef(null),l=Ht(t,i);return w.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(dt.div,{...s,ref:l})});e8.displayName=J$;var Ek="PopperContent",[oae,lae]=X$(Ek),t8=w.forwardRef((e,t)=>{var X,de,ye,me,Ue,We;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:x,...m}=e,g=Q$(Ek,r),[_,y]=w.useState(null),S=Ht(t,mt=>y(mt)),[E,C]=w.useState(null),P=K$(E),N=(P==null?void 0:P.width)??0,A=(P==null?void 0:P.height)??0,j=n+(a!=="center"?"-"+a:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},W=Array.isArray(u)?u:[u],z=W.length>0,Y={padding:O,boundary:W.filter(uae),altBoundary:z},{refs:J,floatingStyles:ie,placement:oe,isPositioned:re,middlewareData:Z}=Kse({strategy:"fixed",placement:j,whileElementsMounted:(...mt)=>$se(...mt,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[Qse({mainAxis:s+A,alignmentAxis:i}),c&&Zse({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Jse():void 0,...Y}),c&&eae({...Y}),tae({...Y,apply:({elements:mt,rects:lt,availableWidth:Kt,availableHeight:ut})=>{const{width:Ie,height:ht}=lt.reference,wt=mt.floating.style;wt.setProperty("--radix-popper-available-width",`${Kt}px`),wt.setProperty("--radix-popper-available-height",`${ut}px`),wt.setProperty("--radix-popper-anchor-width",`${Ie}px`),wt.setProperty("--radix-popper-anchor-height",`${ht}px`)}}),E&&nae({element:E,padding:l}),dae({arrowWidth:N,arrowHeight:A}),h&&rae({strategy:"referenceHidden",...Y})]}),[ae,ge]=s8(oe),se=Nn(x);wn(()=>{re&&(se==null||se())},[re,se]);const R=(X=Z.arrow)==null?void 0:X.x,F=(de=Z.arrow)==null?void 0:de.y,L=((ye=Z.arrow)==null?void 0:ye.centerOffset)!==0,[I,U]=w.useState();return wn(()=>{_&&U(window.getComputedStyle(_).zIndex)},[_]),o.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:re?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:I,"--radix-popper-transform-origin":[(me=Z.transformOrigin)==null?void 0:me.x,(Ue=Z.transformOrigin)==null?void 0:Ue.y].join(" "),...((We=Z.hide)==null?void 0:We.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(oae,{scope:r,placedSide:ae,onArrowChange:C,arrowX:R,arrowY:F,shouldHideArrow:L,children:o.jsx(dt.div,{"data-side":ae,"data-align":ge,...m,ref:S,style:{...m.style,animation:re?void 0:"none"}})})})});t8.displayName=Ek;var r8="PopperArrow",cae={top:"bottom",right:"left",bottom:"top",left:"right"},n8=w.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=lae(r8,n),i=cae[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(aae,{...s,ref:r,style:{...s.style,display:"block"}})})});n8.displayName=r8;function uae(e){return e!==null}var dae=e=>({name:"transformOrigin",options:e,fn(t){var g,_,y;const{placement:r,rects:n,middlewareData:s}=t,i=((g=s.arrow)==null?void 0:g.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=s8(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let x="",m="";return u==="bottom"?(x=i?f:`${h}px`,m=`${-c}px`):u==="top"?(x=i?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,m=i?f:`${p}px`):u==="left"&&(x=`${n.floating.width+c}px`,m=i?f:`${p}px`),{data:{x,y:m}}}});function s8(e){const[t,r="center"]=e.split("-");return[t,r]}var a8=Z$,Nw=e8,Tk=t8,Ck=n8,[kw,wZe]=ha("Tooltip",[Gm]),Nk=Gm(),i8="TooltipProvider",fae=700,rI="tooltip.open",[hae,o8]=kw(i8),l8=e=>{const{__scopeTooltip:t,delayDuration:r=fae,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,i=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(hae,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};l8.displayName=i8;var c8="Tooltip",[bZe,jw]=kw(c8),LT="TooltipTrigger",mae=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=jw(LT,r),a=o8(LT,r),i=Nk(r),l=w.useRef(null),c=Ht(t,l,s.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(Nw,{asChild:!0,...i,children:o.jsx(dt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:it(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:it(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:it(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:it(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:it(e.onBlur,s.onClose),onClick:it(e.onClick,s.onClose)})})});mae.displayName=LT;var pae="TooltipPortal",[SZe,vae]=kw(pae,{forceMount:void 0}),hm="TooltipContent",u8=w.forwardRef((e,t)=>{const r=vae(hm,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=jw(hm,e.__scopeTooltip);return o.jsx($a,{present:n||i.open,children:i.disableHoverableContent?o.jsx(d8,{side:s,...a,ref:t}):o.jsx(gae,{side:s,...a,ref:t})})}),gae=w.forwardRef((e,t)=>{const r=jw(hm,e.__scopeTooltip),n=o8(hm,e.__scopeTooltip),s=w.useRef(null),a=Ht(t,s),[i,l]=w.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=w.useCallback(()=>{l(null),f(!1)},[f]),p=w.useCallback((x,m)=>{const g=x.currentTarget,_={x:x.clientX,y:x.clientY},y=bae(_,g.getBoundingClientRect()),S=Sae(_,y),E=Eae(m.getBoundingClientRect()),C=Cae([...S,...E]);l(C),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(c&&d){const x=g=>p(g,d),m=g=>p(g,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),w.useEffect(()=>{if(i){const x=m=>{const g=m.target,_={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(g))||(d==null?void 0:d.contains(g)),S=!Tae(_,i);y?h():S&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,i,u,h]),o.jsx(d8,{...e,ref:a})}),[xae,yae]=kw(c8,{isInside:!1}),_ae=H5("TooltipContent"),d8=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=jw(hm,r),u=Nk(r),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(rI,d),()=>document.removeEventListener(rI,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Wm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(Tk,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(_ae,{children:n}),o.jsx(xae,{scope:r,isInside:!0,children:o.jsx(Lte,{id:c.contentId,role:"tooltip",children:s||n})})]})})});u8.displayName=hm;var f8="TooltipArrow",wae=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Nk(r);return yae(f8,r).isInside?null:o.jsx(Ck,{...s,...n,ref:t})});wae.displayName=f8;function bae(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Sae(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Eae(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Tae(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function Cae(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Nae(t)}function Nae(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var kae=l8,h8=u8;const jae=kae,Aae=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(h8,{ref:n,sideOffset:t,className:Ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Aae.displayName=h8.displayName;var Aw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pw=typeof window>"u"||"Deno"in globalThis;function Ni(){}function Pae(e,t){return typeof e=="function"?e(t):e}function Oae(e){return typeof e=="number"&&e>=0&&e!==1/0}function Dae(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $T(e,t){return typeof e=="function"?e(t):e}function Rae(e,t){return typeof e=="function"?e(t):e}function nI(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==kk(i,t.options))return!1}else if(!_v(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function sI(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(yv(t.options.mutationKey)!==yv(a))return!1}else if(!_v(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function kk(e,t){return((t==null?void 0:t.queryKeyHashFn)||yv)(e)}function yv(e){return JSON.stringify(e,(t,r)=>UT(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function _v(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>_v(e[r],t[r])):!1}function m8(e,t){if(e===t)return e;const r=aI(e)&&aI(t);if(r||UT(e)&&UT(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:a[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=m8(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:l}return t}function aI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function UT(e){if(!iI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!iI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iI(e){return Object.prototype.toString.call(e)==="[object Object]"}function Iae(e){return new Promise(t=>{setTimeout(t,e)})}function Mae(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?m8(e,t):t}function Fae(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Lae(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var jk=Symbol();function p8(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===jk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var wd,Mc,Gh,wL,$ae=(wL=class extends Aw{constructor(){super();sr(this,wd);sr(this,Mc);sr(this,Gh);At(this,Gh,t=>{if(!Pw&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Se(this,Mc)||this.setEventListener(Se(this,Gh))}onUnsubscribe(){var t;this.hasListeners()||((t=Se(this,Mc))==null||t.call(this),At(this,Mc,void 0))}setEventListener(t){var r;At(this,Gh,t),(r=Se(this,Mc))==null||r.call(this),At(this,Mc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Se(this,wd)!==t&&(At(this,wd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Se(this,wd)=="boolean"?Se(this,wd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wd=new WeakMap,Mc=new WeakMap,Gh=new WeakMap,wL),v8=new $ae,qh,Fc,Kh,bL,Uae=(bL=class extends Aw{constructor(){super();sr(this,qh,!0);sr(this,Fc);sr(this,Kh);At(this,Kh,t=>{if(!Pw&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Se(this,Fc)||this.setEventListener(Se(this,Kh))}onUnsubscribe(){var t;this.hasListeners()||((t=Se(this,Fc))==null||t.call(this),At(this,Fc,void 0))}setEventListener(t){var r;At(this,Kh,t),(r=Se(this,Fc))==null||r.call(this),At(this,Fc,t(this.setOnline.bind(this)))}setOnline(t){Se(this,qh)!==t&&(At(this,qh,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Se(this,qh)}},qh=new WeakMap,Fc=new WeakMap,Kh=new WeakMap,bL),Ly=new Uae;function Bae(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function Wae(e){return Math.min(1e3*2**e,3e4)}function g8(e){return(e??"online")==="online"?Ly.isOnline():!0}var x8=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function _E(e){return e instanceof x8}function y8(e){let t=!1,r=0,n=!1,s;const a=Bae(),i=m=>{var g;n||(h(new x8(m)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>v8.isFocused()&&(e.networkMode==="always"||Ly.isOnline())&&e.canRun(),d=()=>g8(e.networkMode)&&e.canRun(),f=m=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,m),s==null||s(),a.resolve(m))},h=m=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,m),s==null||s(),a.reject(m))},p=()=>new Promise(m=>{var g;s=_=>{(n||u())&&m(_)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(n)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(_){m=Promise.reject(_)}Promise.resolve(m).then(f).catch(_=>{var P;if(n)return;const y=e.retry??(Pw?0:3),S=e.retryDelay??Wae,E=typeof S=="function"?S(r,_):S,C=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,_);if(t||!C){h(_);return}r++,(P=e.onFail)==null||P.call(e,r,_),Iae(E).then(()=>u()?void 0:p()).then(()=>{t?h(_):x()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),a)}}var Vae=e=>setTimeout(e,0);function zae(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=Vae;const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ds=zae(),bd,SL,_8=(SL=class{constructor(){sr(this,bd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Oae(this.gcTime)&&At(this,bd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pw?1/0:5*60*1e3))}clearGcTimeout(){Se(this,bd)&&(clearTimeout(Se(this,bd)),At(this,bd,void 0))}},bd=new WeakMap,SL),Xh,Sd,Ga,Ed,ps,dg,Td,ki,cl,EL,Hae=(EL=class extends _8{constructor(t){super();sr(this,ki);sr(this,Xh);sr(this,Sd);sr(this,Ga);sr(this,Ed);sr(this,ps);sr(this,dg);sr(this,Td);At(this,Td,!1),At(this,dg,t.defaultOptions),this.setOptions(t.options),this.observers=[],At(this,Ed,t.client),At(this,Ga,Se(this,Ed).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,At(this,Xh,Gae(this.options)),this.state=t.state??Se(this,Xh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Se(this,ps))==null?void 0:t.promise}setOptions(t){this.options={...Se(this,dg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Se(this,Ga).remove(this)}setData(t,r){const n=Mae(this.state.data,t,this.options);return ds(this,ki,cl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ds(this,ki,cl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Se(this,ps))==null?void 0:n.promise;return(s=Se(this,ps))==null||s.cancel(t),r?r.then(Ni).catch(Ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Se(this,Xh))}isActive(){return this.observers.some(t=>Rae(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$T(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Dae(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Se(this,ps))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Se(this,ps))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Se(this,Ga).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Se(this,ps)&&(Se(this,Td)?Se(this,ps).cancel({revert:!0}):Se(this,ps).cancelRetry()),this.scheduleGc()),Se(this,Ga).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ds(this,ki,cl).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Se(this,ps))return Se(this,ps).continueRetry(),Se(this,ps).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(At(this,Td,!0),n.signal)})},a=()=>{const h=p8(this.options,r),x=(()=>{const m={client:Se(this,Ed),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return At(this,Td,!1),this.options.persister?this.options.persister(h,x,this):h(x)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Se(this,Ed),state:this.state,fetchFn:a};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),At(this,Sd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ds(this,ki,cl).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,x,m,g;_E(h)&&h.silent||ds(this,ki,cl).call(this,{type:"error",error:h}),_E(h)||((x=(p=Se(this,Ga).config).onError)==null||x.call(p,h,this),(g=(m=Se(this,Ga).config).onSettled)==null||g.call(m,this.state.data,h,this)),this.scheduleGc()};return At(this,ps,y8({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,x,m,g;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(_){c(_);return}(x=(p=Se(this,Ga).config).onSuccess)==null||x.call(p,h,this),(g=(m=Se(this,Ga).config).onSettled)==null||g.call(m,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{ds(this,ki,cl).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{ds(this,ki,cl).call(this,{type:"pause"})},onContinue:()=>{ds(this,ki,cl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Se(this,ps).start()}},Xh=new WeakMap,Sd=new WeakMap,Ga=new WeakMap,Ed=new WeakMap,ps=new WeakMap,dg=new WeakMap,Td=new WeakMap,ki=new WeakSet,cl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Yae(n.data,this.options),fetchMeta:t.meta??null};case"success":return At(this,Sd,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return _E(s)&&s.revert&&Se(this,Sd)?{...Se(this,Sd),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ds.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Se(this,Ga).notify({query:this,type:"updated",action:t})})},EL);function Yae(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:g8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Gae(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var mo,TL,qae=(TL=class extends Aw{constructor(t={}){super();sr(this,mo);this.config=t,At(this,mo,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??kk(s,r);let i=this.get(a);return i||(i=new Hae({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){Se(this,mo).has(t.queryHash)||(Se(this,mo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Se(this,mo).get(t.queryHash);r&&(t.destroy(),r===t&&Se(this,mo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ds.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Se(this,mo).get(t)}getAll(){return[...Se(this,mo).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>nI(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>nI(t,n)):r}notify(t){Ds.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ds.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ds.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},mo=new WeakMap,TL),po,Ns,Cd,vo,Sc,CL,Kae=(CL=class extends _8{constructor(t){super();sr(this,vo);sr(this,po);sr(this,Ns);sr(this,Cd);this.mutationId=t.mutationId,At(this,Ns,t.mutationCache),At(this,po,[]),this.state=t.state||Xae(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Se(this,po).includes(t)||(Se(this,po).push(t),this.clearGcTimeout(),Se(this,Ns).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){At(this,po,Se(this,po).filter(r=>r!==t)),this.scheduleGc(),Se(this,Ns).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Se(this,po).length||(this.state.status==="pending"?this.scheduleGc():Se(this,Ns).remove(this))}continue(){var t;return((t=Se(this,Cd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,l,c,u,d,f,h,p,x,m,g,_,y,S,E,C,P,N,A;const r=()=>{ds(this,vo,Sc).call(this,{type:"continue"})};At(this,Cd,y8({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,O)=>{ds(this,vo,Sc).call(this,{type:"failed",failureCount:j,error:O})},onPause:()=>{ds(this,vo,Sc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Se(this,Ns).canRun(this)}));const n=this.state.status==="pending",s=!Se(this,Cd).canStart();try{if(n)r();else{ds(this,vo,Sc).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=Se(this,Ns).config).onMutate)==null?void 0:i.call(a,t,this));const O=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));O!==this.state.context&&ds(this,vo,Sc).call(this,{type:"pending",context:O,variables:t,isPaused:s})}const j=await Se(this,Cd).start();return await((d=(u=Se(this,Ns).config).onSuccess)==null?void 0:d.call(u,j,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,j,t,this.state.context)),await((x=(p=Se(this,Ns).config).onSettled)==null?void 0:x.call(p,j,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,j,null,t,this.state.context)),ds(this,vo,Sc).call(this,{type:"success",data:j}),j}catch(j){try{throw await((y=(_=Se(this,Ns).config).onError)==null?void 0:y.call(_,j,t,this.state.context,this)),await((E=(S=this.options).onError)==null?void 0:E.call(S,j,t,this.state.context)),await((P=(C=Se(this,Ns).config).onSettled)==null?void 0:P.call(C,void 0,j,this.state.variables,this.state.context,this)),await((A=(N=this.options).onSettled)==null?void 0:A.call(N,void 0,j,t,this.state.context)),j}finally{ds(this,vo,Sc).call(this,{type:"error",error:j})}}finally{Se(this,Ns).runNext(this)}}},po=new WeakMap,Ns=new WeakMap,Cd=new WeakMap,vo=new WeakSet,Sc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ds.batch(()=>{Se(this,po).forEach(n=>{n.onMutationUpdate(t)}),Se(this,Ns).notify({mutation:this,type:"updated",action:t})})},CL);function Xae(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hl,ji,fg,NL,Qae=(NL=class extends Aw{constructor(t={}){super();sr(this,hl);sr(this,ji);sr(this,fg);this.config=t,At(this,hl,new Set),At(this,ji,new Map),At(this,fg,0)}build(t,r,n){const s=new Kae({mutationCache:this,mutationId:++Ox(this,fg)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){Se(this,hl).add(t);const r=e1(t);if(typeof r=="string"){const n=Se(this,ji).get(r);n?n.push(t):Se(this,ji).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Se(this,hl).delete(t)){const r=e1(t);if(typeof r=="string"){const n=Se(this,ji).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&Se(this,ji).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=e1(t);if(typeof r=="string"){const n=Se(this,ji).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=e1(t);if(typeof r=="string"){const s=(n=Se(this,ji).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ds.batch(()=>{Se(this,hl).forEach(t=>{this.notify({type:"removed",mutation:t})}),Se(this,hl).clear(),Se(this,ji).clear()})}getAll(){return Array.from(Se(this,hl))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>sI(r,n))}findAll(t={}){return this.getAll().filter(r=>sI(t,r))}notify(t){Ds.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ds.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ni))))}},hl=new WeakMap,ji=new WeakMap,fg=new WeakMap,NL);function e1(e){var t;return(t=e.options.scope)==null?void 0:t.id}function oI(e){return{onFetch:(t,r)=>{var d,f,h,p,x;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const g=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},_=p8(t.options,t.fetchOptions),y=async(S,E,C)=>{if(m)return Promise.reject();if(E==null&&S.pages.length)return Promise.resolve(S);const N=(()=>{const W={client:t.client,queryKey:t.queryKey,pageParam:E,direction:C?"backward":"forward",meta:t.options.meta};return g(W),W})(),A=await _(N),{maxPages:j}=t.options,O=C?Lae:Fae;return{pages:O(S.pages,A,j),pageParams:O(S.pageParams,E,j)}};if(s&&a.length){const S=s==="backward",E=S?Zae:lI,C={pages:a,pageParams:i},P=E(n,C);l=await y(C,P,S)}else{const S=e??a.length;do{const E=c===0?i[0]??n.initialPageParam:lI(n,l);if(c>0&&E==null)break;l=await y(l,E),c++}while(c<S)}return l};t.options.persister?t.fetchFn=()=>{var m,g;return(g=(m=t.options).persister)==null?void 0:g.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function lI(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Zae(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var nn,Lc,$c,Qh,Zh,Uc,Jh,em,kL,Jae=(kL=class{constructor(e={}){sr(this,nn);sr(this,Lc);sr(this,$c);sr(this,Qh);sr(this,Zh);sr(this,Uc);sr(this,Jh);sr(this,em);At(this,nn,e.queryCache||new qae),At(this,Lc,e.mutationCache||new Qae),At(this,$c,e.defaultOptions||{}),At(this,Qh,new Map),At(this,Zh,new Map),At(this,Uc,0)}mount(){Ox(this,Uc)._++,Se(this,Uc)===1&&(At(this,Jh,v8.subscribe(async e=>{e&&(await this.resumePausedMutations(),Se(this,nn).onFocus())})),At(this,em,Ly.subscribe(async e=>{e&&(await this.resumePausedMutations(),Se(this,nn).onOnline())})))}unmount(){var e,t;Ox(this,Uc)._--,Se(this,Uc)===0&&((e=Se(this,Jh))==null||e.call(this),At(this,Jh,void 0),(t=Se(this,em))==null||t.call(this),At(this,em,void 0))}isFetching(e){return Se(this,nn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Se(this,Lc).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Se(this,nn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Se(this,nn).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime($T(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Se(this,nn).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Se(this,nn).get(n.queryHash),a=s==null?void 0:s.state.data,i=Pae(t,a);if(i!==void 0)return Se(this,nn).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ds.batch(()=>Se(this,nn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Se(this,nn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Se(this,nn);Ds.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Se(this,nn);return Ds.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ds.batch(()=>Se(this,nn).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ni).catch(Ni)}invalidateQueries(e,t={}){return Ds.batch(()=>(Se(this,nn).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ds.batch(()=>Se(this,nn).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ni)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ni)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Se(this,nn).build(this,t);return r.isStaleByTime($T(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ni).catch(Ni)}fetchInfiniteQuery(e){return e.behavior=oI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ni).catch(Ni)}ensureInfiniteQueryData(e){return e.behavior=oI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ly.isOnline()?Se(this,Lc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Se(this,nn)}getMutationCache(){return Se(this,Lc)}getDefaultOptions(){return Se(this,$c)}setDefaultOptions(e){At(this,$c,e)}setQueryDefaults(e,t){Se(this,Qh).set(yv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Se(this,Qh).values()],r={};return t.forEach(n=>{_v(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Se(this,Zh).set(yv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Se(this,Zh).values()],r={};return t.forEach(n=>{_v(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Se(this,$c).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=kk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===jk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Se(this,$c).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Se(this,nn).clear(),Se(this,Lc).clear()}},nn=new WeakMap,Lc=new WeakMap,$c=new WeakMap,Qh=new WeakMap,Zh=new WeakMap,Uc=new WeakMap,Jh=new WeakMap,em=new WeakMap,kL),eie=w.createContext(void 0),tie=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(eie.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(this,arguments)}var Vc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vc||(Vc={}));const cI="popstate";function rie(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:i,hash:l}=n.location;return BT("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:$y(s)}return sie(t,r,null,e)}function yn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function w8(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nie(){return Math.random().toString(36).substr(2,8)}function uI(e,t){return{usr:e.state,key:e.key,idx:t}}function BT(e,t,r,n){return r===void 0&&(r=null),wv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qm(t):t,{state:r,key:t&&t.key||n||nie()})}function $y(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function sie(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l=Vc.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(wv({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Vc.Pop;let g=d(),_=g==null?null:g-u;u=g,c&&c({action:l,location:m.location,delta:_})}function h(g,_){l=Vc.Push;let y=BT(m.location,g,_);u=d()+1;let S=uI(y,u),E=m.createHref(y);try{i.pushState(S,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(E)}a&&c&&c({action:l,location:m.location,delta:1})}function p(g,_){l=Vc.Replace;let y=BT(m.location,g,_);u=d();let S=uI(y,u),E=m.createHref(y);i.replaceState(S,"",E),a&&c&&c({action:l,location:m.location,delta:0})}function x(g){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof g=="string"?g:$y(g);return y=y.replace(/ $/,"%20"),yn(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let m={get action(){return l},get location(){return e(s,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cI,f),c=g,()=>{s.removeEventListener(cI,f),c=null}},createHref(g){return t(s,g)},createURL:x,encodeLocation(g){let _=x(g);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(g){return i.go(g)}};return m}var dI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dI||(dI={}));function aie(e,t,r){return r===void 0&&(r="/"),iie(e,t,r,!1)}function iie(e,t,r,n){let s=typeof t=="string"?qm(t):t,a=Ak(s.pathname||"/",r);if(a==null)return null;let i=b8(e);oie(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=xie(a);l=vie(i[c],u,n)}return l}function b8(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(yn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=su([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(yn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),b8(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:mie(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of S8(a.path))s(a,i,c)}),t}function S8(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=S8(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function oie(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:pie(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lie=/^:[\w-]+$/,cie=3,uie=2,die=1,fie=10,hie=-2,fI=e=>e==="*";function mie(e,t){let r=e.split("/"),n=r.length;return r.some(fI)&&(n+=hie),t&&(n+=uie),r.filter(s=>!fI(s)).reduce((s,a)=>s+(lie.test(a)?cie:a===""?die:fie),n)}function pie(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function vie(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=hI({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=hI({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:su([a,f.pathname]),pathnameBase:bie(su([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=su([a,f.pathnameBase]))}return i}function hI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=gie(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";i=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const x=l[f];return p&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function gie(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),w8(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function xie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return w8(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ak(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function yie(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?qm(e):e;return{pathname:r?r.startsWith("/")?r:_ie(r,t):t,search:Sie(n),hash:Eie(s)}}function _ie(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function wE(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wie(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Pk(e,t){let r=wie(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ok(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=qm(e):(s=wv({},e),yn(!s.pathname||!s.pathname.includes("?"),wE("?","pathname","search",s)),yn(!s.pathname||!s.pathname.includes("#"),wE("#","pathname","hash",s)),yn(!s.search||!s.search.includes("#"),wE("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=yie(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const su=e=>e.join("/").replace(/\/\/+/g,"/"),bie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Eie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tie(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const E8=["post","put","patch","delete"];new Set(E8);const Cie=["get",...E8];new Set(Cie);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(this,arguments)}const Dk=w.createContext(null),Nie=w.createContext(null),Ru=w.createContext(null),Ow=w.createContext(null),Jl=w.createContext({outlet:null,matches:[],isDataRoute:!1}),T8=w.createContext(null);function kie(e,t){let{relative:r}=t===void 0?{}:t;Km()||yn(!1);let{basename:n,navigator:s}=w.useContext(Ru),{hash:a,pathname:i,search:l}=k8(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:su([n,i])),s.createHref({pathname:c,search:l,hash:a})}function Km(){return w.useContext(Ow)!=null}function ec(){return Km()||yn(!1),w.useContext(Ow).location}function C8(e){w.useContext(Ru).static||w.useLayoutEffect(e)}function Vo(){let{isDataRoute:e}=w.useContext(Jl);return e?Bie():jie()}function jie(){Km()||yn(!1);let e=w.useContext(Dk),{basename:t,future:r,navigator:n}=w.useContext(Ru),{matches:s}=w.useContext(Jl),{pathname:a}=ec(),i=JSON.stringify(Pk(s,r.v7_relativeSplatPath)),l=w.useRef(!1);return C8(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Ok(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:su([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,a,e])}function N8(){let{matches:e}=w.useContext(Jl),t=e[e.length-1];return t?t.params:{}}function k8(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(Ru),{matches:s}=w.useContext(Jl),{pathname:a}=ec(),i=JSON.stringify(Pk(s,n.v7_relativeSplatPath));return w.useMemo(()=>Ok(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function Aie(e,t){return Pie(e,t)}function Pie(e,t,r,n){Km()||yn(!1);let{navigator:s}=w.useContext(Ru),{matches:a}=w.useContext(Jl),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ec(),d;if(t){var f;let g=typeof t=="string"?qm(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||yn(!1),d=g}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=aie(e,{pathname:p}),m=Mie(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:su([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:su([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r,n);return t&&m?w.createElement(Ow.Provider,{value:{location:bv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vc.Pop}},m):m}function Oie(){let e=Uie(),t=Tie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,null)}const Die=w.createElement(Oie,null);class Rie extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Jl.Provider,{value:this.props.routeContext},w.createElement(T8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Iie(e){let{routeContext:t,match:r,children:n}=e,s=w.useContext(Dk);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Jl.Provider,{value:t},n)}function Mie(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||yn(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,x=!1,m=null,g=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||Die,c&&(u<0&&h===0?(x=!0,g=null):u===h&&(x=!0,g=f.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,h+1)),y=()=>{let S;return p?S=m:x?S=g:f.route.Component?S=w.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,w.createElement(Iie,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(Rie,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var j8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(j8||{}),Uy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Uy||{});function Fie(e){let t=w.useContext(Dk);return t||yn(!1),t}function Lie(e){let t=w.useContext(Nie);return t||yn(!1),t}function $ie(e){let t=w.useContext(Jl);return t||yn(!1),t}function A8(e){let t=$ie(),r=t.matches[t.matches.length-1];return r.route.id||yn(!1),r.route.id}function Uie(){var e;let t=w.useContext(T8),r=Lie(Uy.UseRouteError),n=A8(Uy.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Bie(){let{router:e}=Fie(j8.UseNavigateStable),t=A8(Uy.UseNavigateStable),r=w.useRef(!1);return C8(()=>{r.current=!0}),w.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,bv({fromRouteId:t},a)))},[e,t])}function Wie(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function WT(e){let{to:t,replace:r,state:n,relative:s}=e;Km()||yn(!1);let{future:a,static:i}=w.useContext(Ru),{matches:l}=w.useContext(Jl),{pathname:c}=ec(),u=Vo(),d=Ok(t,Pk(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function An(e){yn(!1)}function Vie(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Vc.Pop,navigator:a,static:i=!1,future:l}=e;Km()&&yn(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:i,future:bv({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=qm(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:x="default"}=n,m=w.useMemo(()=>{let g=Ak(d,c);return g==null?null:{location:{pathname:g,search:f,hash:h,state:p,key:x},navigationType:s}},[c,d,f,h,p,x,s]);return m==null?null:w.createElement(Ru.Provider,{value:u},w.createElement(Ow.Provider,{children:r,value:m}))}function zie(e){let{children:t,location:r}=e;return Aie(VT(t),r)}new Promise(()=>{});function VT(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let a=[...t,s];if(n.type===w.Fragment){r.push.apply(r,VT(n.props.children,a));return}n.type!==An&&yn(!1),!n.props.index||!n.props.children||yn(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=VT(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zT(){return zT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zT.apply(this,arguments)}function Hie(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Yie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Gie(e,t){return e.button===0&&(!t||t==="_self")&&!Yie(e)}const qie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Kie="6";try{window.__reactRouterVersion=Kie}catch{}const Xie="startTransition",mI=vN[Xie];function Qie(e){let{basename:t,children:r,future:n,window:s}=e,a=w.useRef();a.current==null&&(a.current=rie({window:s,v5Compat:!0}));let i=a.current,[l,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&mI?mI(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.useEffect(()=>Wie(n),[n]),w.createElement(Vie,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const Zie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,El=w.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Hie(t,qie),{basename:p}=w.useContext(Ru),x,m=!1;if(typeof u=="string"&&Jie.test(u)&&(x=u,Zie))try{let S=new URL(window.location.href),E=u.startsWith("//")?new URL(S.protocol+u):new URL(u),C=Ak(E.pathname,p);E.origin===S.origin&&C!=null?u=C+E.search+E.hash:m=!0}catch{}let g=kie(u,{relative:s}),_=eoe(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(S){n&&n(S),S.defaultPrevented||_(S)}return w.createElement("a",zT({},h,{href:x||g,onClick:m||a?n:y,ref:r,target:c}))});var pI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pI||(pI={}));var vI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vI||(vI={}));function eoe(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=Vo(),u=ec(),d=k8(e,{relative:i});return w.useCallback(f=>{if(Gie(f,r)){f.preventDefault();let h=n!==void 0?n:$y(u)===$y(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,a,i,l])}const toe=()=>{};var gI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le=function(e,t){if(!e)throw Xm(t)},Xm=function(e){return new Error("Firebase Database ("+P8.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},roe=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[r++];t[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[r++],i=e[r++],l=e[r++],c=((s&7)<<18|(a&63)<<12|(i&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const a=e[r++],i=e[r++];t[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63)}}return t.join("")},Rk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<e.length;s+=3){const a=e[s],i=s+1<e.length,l=i?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,d=a>>2,f=(a&3)<<4|l>>4;let h=(l&15)<<2|u>>6,p=u&63;c||(p=64,i||(h=64)),n.push(r[d],r[f],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(O8(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):roe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<e.length;){const a=r[e.charAt(s++)],l=s<e.length?r[e.charAt(s)]:0;++s;const u=s<e.length?r[e.charAt(s)]:64;++s;const f=s<e.length?r[e.charAt(s)]:64;if(++s,a==null||l==null||u==null||f==null)throw new noe;const h=a<<2|l>>4;if(n.push(h),u!==64){const p=l<<4&240|u>>2;if(n.push(p),f!==64){const x=u<<6&192|f;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class noe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D8=function(e){const t=O8(e);return Rk.encodeByteArray(t,!0)},By=function(e){return D8(e).replace(/\./g,"")},Wy=function(e){try{return Rk.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(e){return R8(void 0,e)}function R8(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!aoe(r)||(e[r]=R8(e[r],t[r]));return e}function aoe(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ioe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ooe=()=>ioe().__FIREBASE_DEFAULTS__,loe=()=>{if(typeof process>"u"||typeof gI>"u")return;const e=gI.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},coe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Wy(e[1]);return t&&JSON.parse(t)},Ik=()=>{try{return toe()||ooe()||loe()||coe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},I8=e=>{var t,r;return(r=(t=Ik())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},M8=e=>{const t=I8(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},F8=()=>{var e;return(e=Ik())==null?void 0:e.config},L8=e=>{var t;return(t=Ik())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mk(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",s=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[By(JSON.stringify(r)),By(JSON.stringify(i)),""].join(".")}const j0={};function uoe(){const e={prod:[],emulator:[]};for(const t of Object.keys(j0))j0[t]?e.emulator.push(t):e.prod.push(t);return e}function doe(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let xI=!1;function Fk(e,t){if(typeof window>"u"||typeof document>"u"||!Iu(window.location.host)||j0[e]===t||j0[e]||xI)return;j0[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=uoe().prod.length>0;function i(){const h=document.getElementById(n);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{xI=!0,i()},h}function d(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=doe(n),p=r("text"),x=document.getElementById(p)||document.createElement("span"),m=r("learnmore"),g=document.getElementById(m)||document.createElement("a"),_=r("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;l(S),d(g,m);const E=u();c(y,_),S.append(y,x,g,E),document.body.appendChild(S)}a?(x.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($s())}function foe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hoe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function U8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function moe(){const e=$s();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function B8(){return P8.NODE_ADMIN===!0}function poe(){try{return typeof indexedDB=="object"}catch{return!1}}function voe(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var a;t(((a=s.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const goe="FirebaseError";class tc extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=goe,Object.setPrototypeOf(this,tc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sg.prototype.create)}}class Sg{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},s=`${this.service}/${t}`,a=this.errors[t],i=a?xoe(a,n):"Error",l=`${this.serviceName}: ${i} (${s}).`;return new tc(s,l,n)}}function xoe(e,t){return e.replace(yoe,(r,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const yoe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(e){return JSON.parse(e)}function In(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=function(e){let t={},r={},n={},s="";try{const a=e.split(".");t=Sv(Wy(a[0])||""),r=Sv(Wy(a[1])||""),s=a[2],n=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:n,signature:s}},_oe=function(e){const t=W8(e),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},woe=function(e){const t=W8(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hd(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function HT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Vy(e,t,r){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=t.call(r,e[s],s,e));return n}function Yd(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const s of r){if(!n.includes(s))return!1;const a=e[s],i=t[s];if(yI(a)&&yI(i)){if(!Yd(a,i))return!1}else if(a!==i)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function yI(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function f0(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,a]=n.split("=");t[decodeURIComponent(s)]=decodeURIComponent(a)}}),t}function h0(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const n=this.W_;if(typeof t=="string")for(let f=0;f<16;f++)n[f]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let f=0;f<16;f++)n[f]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let f=16;f<80;f++){const h=n[f-3]^n[f-8]^n[f-14]^n[f-16];n[f]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],i=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,d;for(let f=0;f<80;f++){f<40?f<20?(u=l^a&(i^l),d=1518500249):(u=a^i^l,d=1859775393):f<60?(u=a&i|l&(a|i),d=2400959708):(u=a^i^l,d=3395469782);const h=(s<<5|s>>>27)+u+c+d+n[f]&4294967295;c=l,l=i,i=(a<<30|a>>>2)&4294967295,a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+i&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const n=r-this.blockSize;let s=0;const a=this.buf_;let i=this.inbuf_;for(;s<r;){if(i===0)for(;s<=n;)this.compress_(t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<r;)if(a[i]=t.charCodeAt(s),++i,++s,i===this.blockSize){this.compress_(a),i=0;break}}else for(;s<r;)if(a[i]=t[s],++i,++s,i===this.blockSize){this.compress_(a),i=0;break}}this.inbuf_=i,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)t[n]=this.chain_[s]>>a&255,++n;return t}}function Soe(e,t){const r=new Eoe(e,t);return r.subscribe.bind(r)}class Eoe{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let s;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Toe(t,["next","error","complete"])?s=t:s={next:t,error:r,complete:n},s.next===void 0&&(s.next=bE),s.error===void 0&&(s.error=bE),s.complete===void 0&&(s.complete=bE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Toe(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function bE(){}function Dw(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Coe=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);if(s>=55296&&s<=56319){const a=s-55296;n++,Le(n<e.length,"Surrogate pair missing trail surrogate.");const i=e.charCodeAt(n)-56320;s=65536+(a<<10)+i}s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):s<65536?(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},Rw=function(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(e){return e&&e._delegate?e._delegate:e}class gu{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new Qm;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(joe(t))try{this.getOrInitializeService({instanceIdentifier:id})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(t=id){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=id){return this.instances.has(t)}getOptions(t=id){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&i.resolve(s)}return s}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),s=this.onInitCallbacks.get(n)??new Set;s.add(t),this.onInitCallbacks.set(n,s);const a=this.instances.get(n);return a&&t(a,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:koe(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=id){return this.component?this.component.multipleInstances?t:id:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function koe(e){return e===id?void 0:e}function joe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Noe(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Tr||(Tr={}));const Poe={debug:Tr.DEBUG,verbose:Tr.VERBOSE,info:Tr.INFO,warn:Tr.WARN,error:Tr.ERROR,silent:Tr.SILENT},Ooe=Tr.INFO,Doe={[Tr.DEBUG]:"log",[Tr.VERBOSE]:"log",[Tr.INFO]:"info",[Tr.WARN]:"warn",[Tr.ERROR]:"error"},Roe=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),s=Doe[t];if(s)console[s](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $k{constructor(t){this.name=t,this._logLevel=Ooe,this._logHandler=Roe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Tr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Poe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Tr.DEBUG,...t),this._logHandler(this,Tr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Tr.VERBOSE,...t),this._logHandler(this,Tr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Tr.INFO,...t),this._logHandler(this,Tr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Tr.WARN,...t),this._logHandler(this,Tr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Tr.ERROR,...t),this._logHandler(this,Tr.ERROR,...t)}}const Ioe=(e,t)=>t.some(r=>e instanceof r);let _I,wI;function Moe(){return _I||(_I=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Foe(){return wI||(wI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V8=new WeakMap,YT=new WeakMap,z8=new WeakMap,SE=new WeakMap,Uk=new WeakMap;function Loe(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{r(au(e.result)),s()},i=()=>{n(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",i)});return t.then(r=>{r instanceof IDBCursor&&V8.set(r,e)}).catch(()=>{}),Uk.set(t,e),t}function $oe(e){if(YT.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{r(),s()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});YT.set(e,t)}let GT={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return YT.get(e);if(t==="objectStoreNames")return e.objectStoreNames||z8.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return au(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Uoe(e){GT=e(GT)}function Boe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(EE(this),t,...r);return z8.set(n,t.sort?t.sort():[t]),au(n)}:Foe().includes(e)?function(...t){return e.apply(EE(this),t),au(V8.get(this))}:function(...t){return au(e.apply(EE(this),t))}}function Woe(e){return typeof e=="function"?Boe(e):(e instanceof IDBTransaction&&$oe(e),Ioe(e,Moe())?new Proxy(e,GT):e)}function au(e){if(e instanceof IDBRequest)return Loe(e);if(SE.has(e))return SE.get(e);const t=Woe(e);return t!==e&&(SE.set(e,t),Uk.set(t,e)),t}const EE=e=>Uk.get(e);function Voe(e,t,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const i=indexedDB.open(e,t),l=au(i);return n&&i.addEventListener("upgradeneeded",c=>{n(au(i.result),c.oldVersion,c.newVersion,au(i.transaction),c)}),r&&i.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const zoe=["get","getKey","getAll","getAllKeys","count"],Hoe=["put","add","delete","clear"],TE=new Map;function bI(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(TE.get(t))return TE.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=Hoe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||zoe.includes(r)))return;const a=async function(i,...l){const c=this.transaction(i,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),s&&c.done]))[0]};return TE.set(t,a),a}Uoe(e=>({...e,get:(t,r,n)=>bI(t,r)||e.get(t,r,n),has:(t,r)=>!!bI(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Goe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Goe(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qT="@firebase/app",SI="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new $k("@firebase/app"),qoe="@firebase/app-compat",Koe="@firebase/analytics-compat",Xoe="@firebase/analytics",Qoe="@firebase/app-check-compat",Zoe="@firebase/app-check",Joe="@firebase/auth",ele="@firebase/auth-compat",tle="@firebase/database",rle="@firebase/data-connect",nle="@firebase/database-compat",sle="@firebase/functions",ale="@firebase/functions-compat",ile="@firebase/installations",ole="@firebase/installations-compat",lle="@firebase/messaging",cle="@firebase/messaging-compat",ule="@firebase/performance",dle="@firebase/performance-compat",fle="@firebase/remote-config",hle="@firebase/remote-config-compat",mle="@firebase/storage",ple="@firebase/storage-compat",vle="@firebase/firestore",gle="@firebase/ai",xle="@firebase/firestore-compat",yle="firebase",_le="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="[DEFAULT]",wle={[qT]:"fire-core",[qoe]:"fire-core-compat",[Xoe]:"fire-analytics",[Koe]:"fire-analytics-compat",[Zoe]:"fire-app-check",[Qoe]:"fire-app-check-compat",[Joe]:"fire-auth",[ele]:"fire-auth-compat",[tle]:"fire-rtdb",[rle]:"fire-data-connect",[nle]:"fire-rtdb-compat",[sle]:"fire-fn",[ale]:"fire-fn-compat",[ile]:"fire-iid",[ole]:"fire-iid-compat",[lle]:"fire-fcm",[cle]:"fire-fcm-compat",[ule]:"fire-perf",[dle]:"fire-perf-compat",[fle]:"fire-rc",[hle]:"fire-rc-compat",[mle]:"fire-gcs",[ple]:"fire-gcs-compat",[vle]:"fire-fst",[xle]:"fire-fst-compat",[gle]:"fire-vertex","fire-js":"fire-js",[yle]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map,ble=new Map,XT=new Map;function EI(e,t){try{e.container.addComponent(t)}catch(r){Vl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Gd(e){const t=e.name;if(XT.has(t))return Vl.debug(`There were multiple attempts to register component ${t}.`),!1;XT.set(t,e);for(const r of Ev.values())EI(r,e);for(const r of ble.values())EI(r,e);return!0}function Iw(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Ea(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},iu=new Sg("app","Firebase",Sle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ele{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new gu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw iu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=_le;function Bk(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:KT,automaticDataCollectionEnabled:!0,...t},s=n.name;if(typeof s!="string"||!s)throw iu.create("bad-app-name",{appName:String(s)});if(r||(r=F8()),!r)throw iu.create("no-options");const a=Ev.get(s);if(a){if(Yd(r,a.options)&&Yd(n,a.config))return a;throw iu.create("duplicate-app",{appName:s})}const i=new Aoe(s);for(const c of XT.values())i.addComponent(c);const l=new Ele(r,n,i);return Ev.set(s,l),l}function Mw(e=KT){const t=Ev.get(e);if(!t&&e===KT&&F8())return Bk();if(!t)throw iu.create("no-app",{appName:e});return t}function H8(){return Array.from(Ev.values())}function Po(e,t,r){let n=wle[e]??e;r&&(n+=`-${r}`);const s=n.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const i=[`Unable to register library "${n}" with version "${t}":`];s&&i.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&a&&i.push("and"),a&&i.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vl.warn(i.join(" "));return}Gd(new gu(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tle="firebase-heartbeat-database",Cle=1,Tv="firebase-heartbeat-store";let CE=null;function Y8(){return CE||(CE=Voe(Tle,Cle,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Tv)}catch(r){console.warn(r)}}}}).catch(e=>{throw iu.create("idb-open",{originalErrorMessage:e.message})})),CE}async function Nle(e){try{const r=(await Y8()).transaction(Tv),n=await r.objectStore(Tv).get(G8(e));return await r.done,n}catch(t){if(t instanceof tc)Vl.warn(t.message);else{const r=iu.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vl.warn(r.message)}}}async function TI(e,t){try{const n=(await Y8()).transaction(Tv,"readwrite");await n.objectStore(Tv).put(t,G8(e)),await n.done}catch(r){if(r instanceof tc)Vl.warn(r.message);else{const n=iu.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Vl.warn(n.message)}}}function G8(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kle=1024,jle=30;class Ale{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ole(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=CI();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(i=>i.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>jle){const i=Dle(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Vl.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=CI(),{heartbeatsToSend:n,unsentEntries:s}=Ple(this._heartbeatsCache.heartbeats),a=By(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Vl.warn(r),""}}}function CI(){return new Date().toISOString().substring(0,10)}function Ple(e,t=kle){const r=[];let n=e.slice();for(const s of e){const a=r.find(i=>i.agent===s.agent);if(a){if(a.dates.push(s.date),NI(r)>t){a.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),NI(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Ole{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return poe()?voe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Nle(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return TI(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return TI(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function NI(e){return By(JSON.stringify({version:2,heartbeats:e})).length}function Dle(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rle(e){Gd(new gu("platform-logger",t=>new Yoe(t),"PRIVATE")),Gd(new gu("heartbeat",t=>new Ale(t),"PRIVATE")),Po(qT,SI,e),Po(qT,SI,"esm2020"),Po("fire-js","")}Rle("");function q8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ile=q8,K8=new Sg("auth","Firebase",q8());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new $k("@firebase/auth");function Mle(e,...t){zy.logLevel<=Tr.WARN&&zy.warn(`Auth (${wf}): ${e}`,...t)}function H1(e,...t){zy.logLevel<=Tr.ERROR&&zy.error(`Auth (${wf}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(e,...t){throw Wk(e,...t)}function Oo(e,...t){return Wk(e,...t)}function X8(e,t,r){const n={...Ile(),[t]:r};return new Sg("auth","Firebase",n).create(t,{appName:e.name})}function Tl(e){return X8(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wk(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return K8.create(e,...t)}function xt(e,t,...r){if(!e)throw Wk(t,...r)}function gl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw H1(t),new Error(t)}function zl(e,t){e||gl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function Fle(){return kI()==="http:"||kI()==="https:"}function kI(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lle(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fle()||hoe()||"connection"in navigator)?navigator.onLine:!0}function $le(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t,r){this.shortDelay=t,this.longDelay=r,zl(r>t,"Short delay should be less than long delay!"),this.isMobile=Lk()||U8()}get(){return Lle()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(e,t){zl(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ule={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Wle=new Eg(3e4,6e4);function rc(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function nc(e,t,r,n,s={}){return Z8(e,s,async()=>{let a={},i={};n&&(t==="GET"?i=n:a={body:JSON.stringify(n)});const l=Zm({key:e.config.apiKey,...i}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:c,...a};return foe()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&Iu(e.emulatorConfig.host)&&(u.credentials="include"),Q8.fetch()(await J8(e,e.config.apiHost,r,l),u)})}async function Z8(e,t,r){e._canInitEmulator=!1;const n={...Ule,...t};try{const s=new zle(e),a=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const i=await a.json();if("needConfirmation"in i)throw t1(e,"account-exists-with-different-credential",i);if(a.ok&&!("errorMessage"in i))return i;{const l=a.ok?i.errorMessage:i.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw t1(e,"credential-already-in-use",i);if(c==="EMAIL_EXISTS")throw t1(e,"email-already-in-use",i);if(c==="USER_DISABLED")throw t1(e,"user-disabled",i);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw X8(e,d,u);Ki(e,d)}}catch(s){if(s instanceof tc)throw s;Ki(e,"network-request-failed",{message:String(s)})}}async function Tg(e,t,r,n,s={}){const a=await nc(e,t,r,n,s);return"mfaPendingCredential"in a&&Ki(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function J8(e,t,r,n){const s=`${t}${r}?${n}`,a=e,i=a.config.emulator?Vk(e.config,s):`${e.config.apiScheme}://${s}`;return Ble.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(i).toString():i}function Vle(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zle{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Oo(this.auth,"network-request-failed")),Wle.get())})}}function t1(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Oo(e,t,n);return s.customData._tokenResponse=r,s}function jI(e){return e!==void 0&&e.enterprise!==void 0}class Hle{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return Vle(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Yle(e,t){return nc(e,"GET","/v2/recaptchaConfig",rc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gle(e,t){return nc(e,"POST","/v1/accounts:delete",t)}async function Hy(e,t){return nc(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qle(e,t=!1){const r=hn(e),n=await r.getIdToken(t),s=zk(n);xt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,i=a==null?void 0:a.sign_in_provider;return{claims:s,token:n,authTime:A0(NE(s.auth_time)),issuedAtTime:A0(NE(s.iat)),expirationTime:A0(NE(s.exp)),signInProvider:i||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function NE(e){return Number(e)*1e3}function zk(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return H1("JWT malformed, contained fewer than 3 sections"),null;try{const s=Wy(r);return s?JSON.parse(s):(H1("Failed to decode base64 JWT payload"),null)}catch(s){return H1("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function AI(e){const t=zk(e);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cv(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof tc&&Kle(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function Kle({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xle{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=A0(this.lastLoginAt),this.creationTime=A0(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yy(e){var f;const t=e.auth,r=await e.getIdToken(),n=await Cv(e,Hy(t,{idToken:r}));xt(n==null?void 0:n.users.length,t,"internal-error");const s=n.users[0];e._notifyReloadListener(s);const a=(f=s.providerUserInfo)!=null&&f.length?eU(s.providerUserInfo):[],i=Zle(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(i!=null&&i.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ZT(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}async function Qle(e){const t=hn(e);await Yy(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Zle(e,t){return[...e.filter(n=>!t.some(s=>s.providerId===n.providerId)),...t]}function eU(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jle(e,t){const r=await Z8(e,{},async()=>{const n=Zm({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=e.config,i=await J8(e,s,"/v1/token",`key=${a}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return e.emulatorConfig&&Iu(e.emulatorConfig.host)&&(c.credentials="include"),Q8.fetch()(i,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function ece(e,t){return nc(e,"POST","/v2/accounts:revokeToken",rc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):AI(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const r=AI(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:s,expiresIn:a}=await Jle(t,r);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:s,expirationTime:a}=r,i=new Dh;return n&&(xt(typeof n=="string","internal-error",{appName:t}),i.refreshToken=n),s&&(xt(typeof s=="string","internal-error",{appName:t}),i.accessToken=s),a&&(xt(typeof a=="number","internal-error",{appName:t}),i.expirationTime=a),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Dh,this.toJSON())}_performRefresh(){return gl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(e,t){xt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Mi{constructor({uid:t,auth:r,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new Xle(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ZT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const r=await Cv(this,this.stsTokenManager.getToken(this.auth,t));return xt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return qle(this,t)}reload(){return Qle(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Mi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await Yy(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ea(this.auth.app))return Promise.reject(Tl(this.auth));const t=await this.getIdToken();return await Cv(this,Gle(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,s=r.email??void 0,a=r.phoneNumber??void 0,i=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:x,stsTokenManager:m}=r;xt(f&&m,t,"internal-error");const g=Dh.fromJSON(this.name,m);xt(typeof f=="string",t,"internal-error"),yc(n,t.name),yc(s,t.name),xt(typeof h=="boolean",t,"internal-error"),xt(typeof p=="boolean",t,"internal-error"),yc(a,t.name),yc(i,t.name),yc(l,t.name),yc(c,t.name),yc(u,t.name),yc(d,t.name);const _=new Mi({uid:f,auth:t,email:s,emailVerified:h,displayName:n,isAnonymous:p,photoURL:i,phoneNumber:a,tenantId:l,stsTokenManager:g,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(_.providerData=x.map(y=>({...y}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,r,n=!1){const s=new Dh;s.updateFromServerResponse(r);const a=new Mi({uid:r.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await Yy(a),a}static async _fromGetAccountInfoResponse(t,r,n){const s=r.users[0];xt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?eU(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),l=new Dh;l.updateFromIdToken(n);const c=new Mi({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:i}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ZT(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new Map;function xl(e){zl(e instanceof Function,"Expected a class definition");let t=PI.get(e);return t?(zl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,PI.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}tU.type="NONE";const OI=tU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(e,t,r){return`firebase:${e}:${t}:${r}`}class Rh{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=Y1(this.userKey,s.apiKey,a),this.fullPersistenceKey=Y1("persistence",s.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await Hy(this.auth,{idToken:t}).catch(()=>{});return r?Mi._fromGetAccountInfoResponse(this.auth,r,t):null}return Mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Rh(xl(OI),t,n);const s=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=s[0]||xl(OI);const i=Y1(n,t.config.apiKey,t.name);let l=null;for(const u of r)try{const d=await u._get(i);if(d){let f;if(typeof d=="string"){const h=await Hy(t,{idToken:d}).catch(()=>{});if(!h)break;f=await Mi._fromGetAccountInfoResponse(t,h,d)}else f=Mi._fromJSON(t,d);u!==a&&(l=f),a=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Rh(a,t,n):(a=c[0],l&&await a._set(i,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(i)}catch{}})),new Rh(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aU(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rU(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oU(t))return"Blackberry";if(lU(t))return"Webos";if(nU(t))return"Safari";if((t.includes("chrome/")||sU(t))&&!t.includes("edge/"))return"Chrome";if(iU(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function rU(e=$s()){return/firefox\//i.test(e)}function nU(e=$s()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sU(e=$s()){return/crios\//i.test(e)}function aU(e=$s()){return/iemobile/i.test(e)}function iU(e=$s()){return/android/i.test(e)}function oU(e=$s()){return/blackberry/i.test(e)}function lU(e=$s()){return/webos/i.test(e)}function Hk(e=$s()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function tce(e=$s()){var t;return Hk(e)&&!!((t=window.navigator)!=null&&t.standalone)}function rce(){return moe()&&document.documentMode===10}function cU(e=$s()){return Hk(e)||iU(e)||lU(e)||oU(e)||/windows phone/i.test(e)||aU(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(e,t=[]){let r;switch(e){case"Browser":r=DI($s());break;case"Worker":r=`${DI($s())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${wf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nce{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((i,l)=>{try{const c=t(a);i(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sce(e,t={}){return nc(e,"GET","/v2/passwordPolicy",rc(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ace=6;class ice{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??ace,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),s&&(r.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<t.length;s++)n=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oce{constructor(t,r,n,s){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RI(this),this.idTokenSubscription=new RI(this),this.beforeStateQueue=new nce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=xl(r)),this._initializationPromise=this.queue(async()=>{var n,s,a;if(!this._deleted&&(this.persistenceManager=await Rh.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Hy(this,{idToken:t}),n=await Mi._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(Ea(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!i||i===l)&&(c!=null&&c.user)&&(n=c.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(i){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Yy(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$le()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ea(this.app))return Promise.reject(Tl(this));const r=t?hn(t):null;return r&&xt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ea(this.app)?Promise.reject(Tl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ea(this.app)?Promise.reject(Tl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sce(this),r=new ice(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Sg("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await ece(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&xl(t)||this._popupRedirectResolver;xt(r,this,"argument-error"),this.redirectPersistenceManager=await Rh.create(this,[xl(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,s){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let i=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(l,this,"internal-error"),l.then(()=>{i||a(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,n,s);return()=>{i=!0,c()}}else{const c=t.addObserver(r);return()=>{i=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=uU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(Ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&Mle(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mu(e){return hn(e)}class RI{constructor(t){this.auth=t,this.observer=null,this.addObserver=Soe(r=>this.observer=r)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lce(e){Fw=e}function dU(e){return Fw.loadJS(e)}function cce(){return Fw.recaptchaEnterpriseScript}function uce(){return Fw.gapiScript}function dce(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class fce{constructor(){this.enterprise=new hce}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class hce{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const mce="recaptcha-enterprise",fU="NO_RECAPTCHA";class pce{constructor(t){this.type=mce,this.auth=Mu(t)}async verify(t="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(i,l)=>{Yle(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Hle(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,i(u.siteKey)}}).catch(c=>{l(c)})})}function s(a,i,l){const c=window.grecaptcha;jI(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:t}).then(u=>{i(u)}).catch(()=>{i(fU)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fce().execute("siteKey",{action:"verify"}):new Promise((a,i)=>{n(this.auth).then(l=>{if(!r&&jI(window.grecaptcha))s(l,a,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let c=cce();c.length!==0&&(c+=l),dU(c).then(()=>{s(l,a,i)}).catch(u=>{i(u)})}}).catch(l=>{i(l)})})}}async function II(e,t,r,n=!1,s=!1){const a=new pce(e);let i;if(s)i=fU;else try{i=await a.verify(r)}catch{i=await a.verify(r,!0)}const l={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:i}):Object.assign(l,{captchaResponse:i}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Gy(e,t,r,n,s){var a;if((a=e._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await II(e,t,r,r==="getOobCode");return n(e,i)}else return n(e,t).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await II(e,t,r,r==="getOobCode");return n(e,l)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vce(e,t){const r=Iw(e,"auth");if(r.isInitialized()){const s=r.getImmediate(),a=r.getOptions();if(Yd(a,t??{}))return s;Ki(s,"already-initialized")}return r.initialize({options:t})}function gce(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(xl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function xce(e,t,r){const n=Mu(e);xt(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!!(r!=null&&r.disableWarnings),a=hU(t),{host:i,port:l}=yce(t),c=l===null?"":`:${l}`,u={url:`${a}//${i}${c}/`},d=Object.freeze({host:i,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){xt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),xt(Yd(u,n.config.emulator)&&Yd(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Iu(i)?(Mk(`${a}//${i}${c}`),Fk("Auth",!0)):_ce()}function hU(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yce(e){const t=hU(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:MI(n.substr(a.length+1))}}else{const[a,i]=n.split(":");return{host:a,port:MI(i)}}}function MI(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function _ce(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return gl("not implemented")}_getIdTokenResponse(t){return gl("not implemented")}_linkToIdToken(t,r){return gl("not implemented")}_getReauthenticationResolver(t){return gl("not implemented")}}async function wce(e,t){return nc(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bce(e,t){return Tg(e,"POST","/v1/accounts:signInWithPassword",rc(e,t))}async function Sce(e,t){return nc(e,"POST","/v1/accounts:sendOobCode",rc(e,t))}async function Ece(e,t){return Sce(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tce(e,t){return Tg(e,"POST","/v1/accounts:signInWithEmailLink",rc(e,t))}async function Cce(e,t){return Tg(e,"POST","/v1/accounts:signInWithEmailLink",rc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Yk{constructor(t,r,n,s=null){super("password",n),this._email=t,this._password=r,this._tenantId=s}static _fromEmailAndPassword(t,r){return new Nv(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new Nv(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gy(t,r,"signInWithPassword",bce);case"emailLink":return Tce(t,{email:this._email,oobCode:this._password});default:Ki(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gy(t,n,"signUpPassword",wce);case"emailLink":return Cce(t,{idToken:r,email:this._email,oobCode:this._password});default:Ki(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(e,t){return Tg(e,"POST","/v1/accounts:signInWithIdp",rc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nce="http://localhost";class qd extends Yk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new qd(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Ki("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s,...a}=r;if(!n||!s)return null;const i=new qd(n,s);return i.idToken=a.idToken||void 0,i.accessToken=a.accessToken||void 0,i.secret=a.secret,i.nonce=a.nonce,i.pendingToken=a.pendingToken||null,i}_getIdTokenResponse(t){const r=this.buildRequest();return Ih(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Ih(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Ih(t,r)}buildRequest(){const t={requestUri:Nce,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Zm(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kce(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jce(e){const t=f0(h0(e)).link,r=t?f0(h0(t)).deep_link_id:null,n=f0(h0(e)).deep_link_id;return(n?f0(h0(n)).link:null)||n||r||t||e}class Gk{constructor(t){const r=f0(h0(t)),n=r.apiKey??null,s=r.oobCode??null,a=kce(r.mode??null);xt(n&&s&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=s,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=jce(t);try{return new Gk(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.providerId=Jm.PROVIDER_ID}static credential(t,r){return Nv._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=Gk.parseLink(r);return xt(n,"argument-error"),Nv._fromEmailAndCode(t,n.code,n.tenantId)}}Jm.PROVIDER_ID="password";Jm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends mU{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends Cg{constructor(){super("facebook.com")}static credential(t){return qd._fromParams({providerId:Ac.PROVIDER_ID,signInMethod:Ac.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ac.credentialFromTaggedObject(t)}static credentialFromError(t){return Ac.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ac.credential(t.oauthAccessToken)}catch{return null}}}Ac.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ac.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Cg{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return qd._fromParams({providerId:Pc.PROVIDER_ID,signInMethod:Pc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Pc.credentialFromTaggedObject(t)}static credentialFromError(t){return Pc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return Pc.credential(r,n)}catch{return null}}}Pc.GOOGLE_SIGN_IN_METHOD="google.com";Pc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Cg{constructor(){super("github.com")}static credential(t){return qd._fromParams({providerId:Oc.PROVIDER_ID,signInMethod:Oc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Oc.credentialFromTaggedObject(t)}static credentialFromError(t){return Oc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Oc.credential(t.oauthAccessToken)}catch{return null}}}Oc.GITHUB_SIGN_IN_METHOD="github.com";Oc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Cg{constructor(){super("twitter.com")}static credential(t,r){return qd._fromParams({providerId:Dc.PROVIDER_ID,signInMethod:Dc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Dc.credentialFromTaggedObject(t)}static credentialFromError(t){return Dc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Dc.credential(r,n)}catch{return null}}}Dc.TWITTER_SIGN_IN_METHOD="twitter.com";Dc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ace(e,t){return Tg(e,"POST","/v1/accounts:signUp",rc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,s=!1){const a=await Mi._fromIdTokenResponse(t,n,s),i=FI(n);return new Kd({user:a,providerId:i,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const s=FI(n);return new Kd({user:t,providerId:s,_tokenResponse:n,operationType:r})}}function FI(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy extends tc{constructor(t,r,n,s){super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,qy.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,s){return new qy(t,r,n,s)}}function pU(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?qy._fromErrorAndOperation(e,a,t,n):a})}async function Pce(e,t,r=!1){const n=await Cv(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Kd._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oce(e,t,r=!1){const{auth:n}=e;if(Ea(n.app))return Promise.reject(Tl(n));const s="reauthenticate";try{const a=await Cv(e,pU(n,s,t,e),r);xt(a.idToken,n,"internal-error");const i=zk(a.idToken);xt(i,n,"internal-error");const{sub:l}=i;return xt(e.uid===l,n,"user-mismatch"),Kd._forOperation(e,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ki(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(e,t,r=!1){if(Ea(e.app))return Promise.reject(Tl(e));const n="signIn",s=await pU(e,n,t),a=await Kd._fromIdTokenResponse(e,n,s);return r||await e._updateCurrentUser(a.user),a}async function Dce(e,t){return vU(Mu(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(e){const t=Mu(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Rce(e,t,r){const n=Mu(e);await Gy(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Ece)}async function Ice(e,t,r){if(Ea(e.app))return Promise.reject(Tl(e));const n=Mu(e),i=await Gy(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ace).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&gU(e),c}),l=await Kd._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(l.user),l}function Mce(e,t,r){return Ea(e.app)?Promise.reject(Tl(e)):Dce(hn(e),Jm.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&gU(e),n})}function Fce(e,t,r,n){return hn(e).onIdTokenChanged(t,r,n)}function Lce(e,t,r){return hn(e).beforeAuthStateChanged(t,r)}function $ce(e,t,r,n){return hn(e).onAuthStateChanged(t,r,n)}function Lw(e){return hn(e).signOut()}const Ky="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ky,"1"),this.storage.removeItem(Ky),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uce=1e3,Bce=10;class yU extends xU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cU(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&t(r,s,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((i,l,c)=>{this.notifyListeners(i,c)});return}const n=t.key;r?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(n);!r&&this.localCache[n]===i||this.notifyListeners(n,i)},a=this.storage.getItem(n);rce()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Bce):s()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},Uce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}yU.type="LOCAL";const Wce=yU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U extends xU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}_U.type="SESSION";const wU=_U;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vce(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const n=new $w(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:s,data:a}=r.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const l=Array.from(i).map(async u=>u(r.origin,a)),c=await Vce(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$w.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zce{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,i;return new Promise((l,c)=>{const u=qk("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);i={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(h.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(){return window}function Hce(e){Do().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(){return typeof Do().WorkerGlobalScope<"u"&&typeof Do().importScripts=="function"}async function Yce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gce(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function qce(){return bU()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="firebaseLocalStorageDb",Kce=1,Xy="firebaseLocalStorage",EU="fbase_key";class Ng{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Uw(e,t){return e.transaction([Xy],t?"readwrite":"readonly").objectStore(Xy)}function Xce(){const e=indexedDB.deleteDatabase(SU);return new Ng(e).toPromise()}function JT(){const e=indexedDB.open(SU,Kce);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(Xy,{keyPath:EU})}catch(s){r(s)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Xy)?t(n):(n.close(),await Xce(),t(await JT()))})})}async function LI(e,t,r){const n=Uw(e,!0).put({[EU]:t,value:r});return new Ng(n).toPromise()}async function Qce(e,t){const r=Uw(e,!1).get(t),n=await new Ng(r).toPromise();return n===void 0?null:n.value}function $I(e,t){const r=Uw(e,!0).delete(t);return new Ng(r).toPromise()}const Zce=800,Jce=3;class TU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await JT(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>Jce)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$w._getInstance(qce()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await Yce(),!this.activeServiceWorker)return;this.sender=new zce(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Gce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await JT();return await LI(t,Ky,"1"),await $I(t,Ky),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>LI(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>Qce(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>$I(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=Uw(s,!1).getAll();return new Ng(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TU.type="LOCAL";const eue=TU;new Eg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tue(e,t){return t?xl(t):(xt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk extends Yk{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ih(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Ih(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Ih(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function rue(e){return vU(e.auth,new Kk(e),e.bypassAuthState)}function nue(e){const{auth:t,user:r}=e;return xt(r,t,"internal-error"),Oce(r,new Kk(e),e.bypassAuthState)}async function sue(e){const{auth:t,user:r}=e;return xt(r,t,"internal-error"),Pce(r,new Kk(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(t,r,n,s,a=!1){this.auth=t,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:s,tenantId:a,error:i,type:l}=t;if(i){this.reject(i);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rue;case"linkViaPopup":case"linkViaRedirect":return sue;case"reauthViaPopup":case"reauthViaRedirect":return nue;default:Ki(this.auth,"internal-error")}}resolve(t){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aue=new Eg(2e3,1e4);class _h extends CU{constructor(t,r,n,s,a){super(t,r,s,a),this.provider=n,this.authWindow=null,this.pollId=null,_h.currentPopupAction&&_h.currentPopupAction.cancel(),_h.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){zl(this.filter.length===1,"Popup operations only handle one event");const t=qk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Oo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Oo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_h.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aue.get())};t()}}_h.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iue="pendingRedirect",G1=new Map;class oue extends CU{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=G1.get(this.auth._key());if(!t){try{const n=await lue(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}G1.set(this.auth._key(),t)}return this.bypassAuthState||G1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lue(e,t){const r=due(t),n=uue(e);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function cue(e,t){G1.set(e._key(),t)}function uue(e){return xl(e._redirectPersistence)}function due(e){return Y1(iue,e.config.apiKey,e.name)}async function fue(e,t,r=!1){if(Ea(e.app))return Promise.reject(Tl(e));const n=Mu(e),s=tue(n,t),i=await new oue(n,s,r).execute();return i&&!r&&(delete i.user._redirectEventId,await n._persistUserIfCurrent(i.user),await n._setRedirectUser(null,t)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hue=10*60*1e3;class mue{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pue(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!NU(t)){const s=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Oo(this.auth,s))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hue&&this.cachedEventUids.clear(),this.cachedEventUids.has(UI(t))}saveEventToCache(t){this.cachedEventUids.add(UI(t)),this.lastProcessedEventTime=Date.now()}}function UI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function NU({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pue(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NU(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vue(e,t={}){return nc(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xue=/^https?/;async function yue(e){if(e.config.emulator)return;const{authorizedDomains:t}=await vue(e);for(const r of t)try{if(_ue(r))return}catch{}Ki(e,"unauthorized-domain")}function _ue(e){const t=QT(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return i.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&i.hostname===n}if(!xue.test(r))return!1;if(gue.test(e))return n===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wue=new Eg(3e4,6e4);function BI(){const e=Do().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function bue(e){return new Promise((t,r)=>{var s,a,i;function n(){BI(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{BI(),r(Oo(e,"network-request-failed"))},timeout:wue.get()})}if((a=(s=Do().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((i=Do().gapi)!=null&&i.load)n();else{const l=dce("iframefcb");return Do()[l]=()=>{gapi.load?n():r(Oo(e,"network-request-failed"))},dU(`${uce()}?onload=${l}`).catch(c=>r(c))}}).catch(t=>{throw q1=null,t})}let q1=null;function Sue(e){return q1=q1||bue(e),q1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eue=new Eg(5e3,15e3),Tue="__/auth/iframe",Cue="emulator/auth/iframe",Nue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jue(e){const t=e.config;xt(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?Vk(t,Cue):`https://${e.config.authDomain}/${Tue}`,n={apiKey:t.apiKey,appName:e.name,v:wf},s=kue.get(e.config.apiHost);s&&(n.eid=s);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Zm(n).slice(1)}`}async function Aue(e){const t=await Sue(e),r=Do().gapi;return xt(r,e,"internal-error"),t.open({where:document.body,url:jue(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nue,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const i=Oo(e,"network-request-failed"),l=Do().setTimeout(()=>{a(i)},Eue.get());function c(){Do().clearTimeout(l),s(n)}n.ping(c).then(c,()=>{a(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Oue=500,Due=600,Rue="_blank",Iue="http://localhost";class WI{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mue(e,t,r,n=Oue,s=Due){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...Pue,width:n.toString(),height:s.toString(),top:a,left:i},u=$s().toLowerCase();r&&(l=sU(u)?Rue:r),rU(u)&&(t=t||Iue,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[p,x])=>`${h}${p}=${x},`,"");if(tce(u)&&l!=="_self")return Fue(t||"",l),new WI(null);const f=window.open(t||"",l,d);xt(f,e,"popup-blocked");try{f.focus()}catch{}return new WI(f)}function Fue(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lue="__/auth/handler",$ue="emulator/auth/handler",Uue=encodeURIComponent("fac");async function VI(e,t,r,n,s,a){xt(e.config.authDomain,e,"auth-domain-config-required"),xt(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:wf,eventId:s};if(t instanceof mU){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",HT(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))i[d]=f}if(t instanceof Cg){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(i.scopes=d.join(","))}e.tenantId&&(i.tid=e.tenantId);const l=i;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),u=c?`#${Uue}=${encodeURIComponent(c)}`:"";return`${Bue(e)}?${Zm(l).slice(1)}${u}`}function Bue({config:e}){return e.emulator?Vk(e,$ue):`https://${e.authDomain}/${Lue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="webStorageSupport";class Wue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wU,this._completeRedirectFn=fue,this._overrideRedirectResult=cue}async _openPopup(t,r,n,s){var i;zl((i=this.eventManagers[t._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await VI(t,r,n,QT(),s);return Mue(t,a,qk())}async _openRedirect(t,r,n,s){await this._originValidation(t);const a=await VI(t,r,n,QT(),s);return Hce(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:s,promise:a}=this.eventManagers[r];return s?Promise.resolve(s):(zl(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await Aue(t),n=new mue(t);return r.register("authEvent",s=>(xt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(kE,{type:kE},s=>{var i;const a=(i=s==null?void 0:s[0])==null?void 0:i[kE];a!==void 0&&r(!!a),Ki(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=yue(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return cU()||nU()||Hk()}}const Vue=Wue;var zI="@firebase/auth",HI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zue{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hue(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yue(e){Gd(new gu("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:i,authDomain:l}=n.options;xt(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:i,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uU(e)},u=new oce(n,s,a,c);return gce(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Gd(new gu("auth-internal",t=>{const r=Mu(t.getProvider("auth").getImmediate());return(n=>new zue(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Po(zI,HI,Hue(e)),Po(zI,HI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gue=5*60,que=L8("authIdTokenMaxAge")||Gue;let YI=null;const Kue=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>que)return;const s=r==null?void 0:r.token;YI!==s&&(YI=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kU(e=Mw()){const t=Iw(e,"auth");if(t.isInitialized())return t.getImmediate();const r=vce(e,{popupRedirectResolver:Vue,persistence:[eue,Wce,wU]}),n=L8("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const i=Kue(a.toString());Lce(r,i,()=>i(r.currentUser)),Fce(r,l=>i(l))}}const s=I8("auth");return s&&xce(r,`http://${s}`),r}function Xue(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}lce({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=s=>{const a=Oo("internal-error");a.customData=s,r(a)},n.type="text/javascript",n.charset="UTF-8",Xue().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yue("Browser");var Que="firebase",Zue="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Po(Que,Zue,"app");var GI={};const qI="@firebase/database",KI="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jU="";function Jue(e){jU=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ede{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),In(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Sv(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tde{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return to(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ede(t)}}catch{}return new tde},gd=AU("localStorage"),rde=AU("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new $k("@firebase/database"),PU=function(){let e=1;return function(){return e++}}(),OU=function(e){const t=Coe(e),r=new boe;r.update(t);const n=r.digest();return Rk.encodeByteArray(n)},kg=function(...e){let t="";for(let r=0;r<e.length;r++){const n=e[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?t+=kg.apply(null,n):typeof n=="object"?t+=In(n):t+=n,t+=" "}return t};let P0=null,XI=!0;const nde=function(e,t){Le(!t,"Can't turn on custom loggers persistently."),Mh.logLevel=Tr.VERBOSE,P0=Mh.log.bind(Mh)},es=function(...e){if(XI===!0&&(XI=!1,P0===null&&rde.get("logging_enabled")===!0&&nde()),P0){const t=kg.apply(null,e);P0(t)}},jg=function(e){return function(...t){es(e,...t)}},eC=function(...e){const t="FIREBASE INTERNAL ERROR: "+kg(...e);Mh.error(t)},Hl=function(...e){const t=`FIREBASE FATAL ERROR: ${kg(...e)}`;throw Mh.error(t),new Error(t)},Fs=function(...e){const t="FIREBASE WARNING: "+kg(...e);Mh.warn(t)},sde=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xk=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ade=function(e){if(document.readyState==="complete")e();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Xd="[MIN_NAME]",xu="[MAX_NAME]",bf=function(e,t){if(e===t)return 0;if(e===Xd||t===xu)return-1;if(t===Xd||e===xu)return 1;{const r=QI(e),n=QI(t);return r!==null?n!==null?r-n===0?e.length-t.length:r-n:-1:n!==null?1:e<t?-1:1}},ide=function(e,t){return e===t?0:e<t?-1:1},Yp=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+In(t))},Qk=function(e){if(typeof e!="object"||e===null)return In(e);const t=[];for(const n in e)t.push(n);t.sort();let r="{";for(let n=0;n<t.length;n++)n!==0&&(r+=","),r+=In(t[n]),r+=":",r+=Qk(e[t[n]]);return r+="}",r},DU=function(e,t){const r=e.length;if(r<=t)return[e];const n=[];for(let s=0;s<r;s+=t)s+t>r?n.push(e.substring(s,r)):n.push(e.substring(s,s+t));return n};function is(e,t){for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])}const RU=function(e){Le(!Xk(e),"Invalid JSON number");const t=11,r=52,n=(1<<t-1)-1;let s,a,i,l,c;e===0?(a=0,i=0,s=1/e===-1/0?1:0):(s=e<0,e=Math.abs(e),e>=Math.pow(2,1-n)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),n),a=l+n,i=Math.round(e*Math.pow(2,r-l)-Math.pow(2,r))):(a=0,i=Math.round(e/Math.pow(2,1-n-r))));const u=[];for(c=r;c;c-=1)u.push(i%2?1:0),i=Math.floor(i/2);for(c=t;c;c-=1)u.push(a%2?1:0),a=Math.floor(a/2);u.push(s?1:0),u.reverse();const d=u.join("");let f="";for(c=0;c<64;c+=8){let h=parseInt(d.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},ode=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lde=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function cde(e,t){let r="Unknown Error";e==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?r="Client doesn't have permission to access the desired data.":e==="unavailable"&&(r="The service is unavailable");const n=new Error(e+" at "+t._path.toString()+": "+r);return n.code=e.toUpperCase(),n}const ude=new RegExp("^-?(0*)\\d{1,10}$"),dde=-2147483648,fde=2147483647,QI=function(e){if(ude.test(e)){const t=Number(e);if(t>=dde&&t<=fde)return t}return null},ep=function(e){try{e()}catch(t){setTimeout(()=>{const r=t.stack||"";throw Fs("Exception was thrown by user callback.",r),t},Math.floor(0))}},hde=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},O0=function(e,t){const r=setTimeout(e,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mde{constructor(t,r){this.appCheckProvider=r,this.appName=t.name,Ea(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)==null||r.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Fs(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pde{constructor(t,r,n){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(es("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fs(t)}}class K1{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}K1.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="5",IU="v",MU="s",FU="r",LU="f",$U=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,UU="ls",BU="p",tC="ac",WU="websocket",VU="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(t,r,n,s,a=!1,i="",l=!1,c=!1,u=null){this.secure=r,this.namespace=n,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=i,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gd.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&gd.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function vde(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function HU(e,t,r){Le(typeof t=="string","typeof type must == string"),Le(typeof r=="object","typeof params must == object");let n;if(t===WU)n=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===VU)n=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);vde(e)&&(r.ns=e.namespace);const s=[];return is(r,(a,i)=>{s.push(a+"="+i)}),n+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{constructor(){this.counters_={}}incrementCounter(t,r=1){to(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return soe(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE={},AE={};function Jk(e){const t=e.toString();return jE[t]||(jE[t]=new gde),jE[t]}function xde(e,t){const r=e.toString();return AE[r]||(AE[r]=t()),AE[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yde{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<n.length;++s)n[s]&&ep(()=>{this.onMessage_(n[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="start",_de="close",wde="pLPCommand",bde="pRTLPCB",YU="id",GU="pw",qU="ser",Sde="cb",Ede="seg",Tde="ts",Cde="d",Nde="dframe",KU=1870,XU=30,kde=KU-XU,jde=25e3,Ade=3e4;class wh{constructor(t,r,n,s,a,i,l){this.connId=t,this.repoInfo=r,this.applicationId=n,this.appCheckToken=s,this.authToken=a,this.transportSessionId=i,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jg(t),this.stats_=Jk(r),this.urlFn=c=>(this.appCheckToken&&(c[tC]=this.appCheckToken),HU(r,VU,c))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new yde(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ade)),ade(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ej((...a)=>{const[i,l,c,u,d]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,i===ZI)this.id=l,this.password=c;else if(i===_de)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+i)},(...a)=>{const[i,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(i,l)},()=>{this.onClosed_()},this.urlFn);const n={};n[ZI]="t",n[qU]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[Sde]=this.scriptTagHolder.uniqueCallbackIdentifier),n[IU]=Zk,this.transportSessionId&&(n[MU]=this.transportSessionId),this.lastSessionId&&(n[UU]=this.lastSessionId),this.applicationId&&(n[BU]=this.applicationId),this.appCheckToken&&(n[tC]=this.appCheckToken),typeof location<"u"&&location.hostname&&$U.test(location.hostname)&&(n[FU]=LU);const s=this.urlFn(n);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wh.forceAllow_=!0}static forceDisallow(){wh.forceDisallow_=!0}static isAvailable(){return wh.forceAllow_?!0:!wh.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ode()&&!lde()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=In(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=D8(r),s=DU(n,kde);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[Nde]="t",n[YU]=t,n[GU]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=In(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class ej{constructor(t,r,n,s){this.onDisconnect=n,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=PU(),window[wde+this.uniqueCallbackIdentifier]=t,window[bde+this.uniqueCallbackIdentifier]=r,this.myIFrame=ej.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const i="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(l){es("frame writing exception"),l.stack&&es(l.stack),es(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||es("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[YU]=this.myID,t[GU]=this.myPW,t[qU]=this.currentSerial;let r=this.urlFn(t),n="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+XU+n.length<=KU;){const i=this.pendingSegs.shift();n=n+"&"+Ede+s+"="+i.seg+"&"+Tde+s+"="+i.ts+"&"+Cde+s+"="+i.d,s++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,n){this.pendingSegs.push({seg:t,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},s=setTimeout(n,Math.floor(jde)),a=()=>{clearTimeout(s),n()};this.addTag(t,a)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const s=n.readyState;(!s||s==="loaded"||s==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{es("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pde=16384,Ode=45e3;let Qy=null;typeof MozWebSocket<"u"?Qy=MozWebSocket:typeof WebSocket<"u"&&(Qy=WebSocket);class Oi{constructor(t,r,n,s,a,i,l){this.connId=t,this.applicationId=n,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jg(this.connId),this.stats_=Jk(r),this.connURL=Oi.connectionURL_(r,i,l,s,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,n,s,a){const i={};return i[IU]=Zk,typeof location<"u"&&location.hostname&&$U.test(location.hostname)&&(i[FU]=LU),r&&(i[MU]=r),n&&(i[UU]=n),s&&(i[tC]=s),a&&(i[BU]=a),HU(t,WU,i)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gd.set("previous_websocket_failure",!0);try{let n;B8(),this.mySock=new Qy(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const s=n.message||n.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const s=n.message||n.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Oi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&Qy!==null&&!Oi.forceDisallow_}static previouslyFailed(){return gd.isInMemoryStorage||gd.get("previous_websocket_failure")===!0}markConnectionHealthy(){gd.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=Sv(r);this.onMessage(n)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Le(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(t){this.resetKeepAlive();const r=In(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=DU(r,Pde);n.length>1&&this.sendString_(String(n.length));for(let s=0;s<n.length;s++)this.sendString_(n[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ode))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Oi.responsesRequiredToBeHealthy=2;Oi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{static get ALL_TRANSPORTS(){return[wh,Oi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Oi&&Oi.isAvailable();let n=r&&!Oi.previouslyFailed();if(t.webSocketOnly&&(r||Fs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Oi];else{const s=this.transports_=[];for(const a of kv.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);kv.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}kv.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dde=6e4,Rde=5e3,Ide=10*1024,Mde=100*1024,PE="t",JI="d",Fde="s",eM="r",Lde="e",tM="o",rM="a",nM="n",sM="p",$de="h";class Ude{constructor(t,r,n,s,a,i,l,c,u,d){this.id=t,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=i,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jg("c:"+this.id+":"),this.transportManager_=new kv(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=O0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Mde?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ide?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(PE in t){const r=t[PE];r===rM?this.upgradeIfSecondaryHealthy_():r===eM?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===tM&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Yp("t",t),n=Yp("d",t);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sM,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:rM,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nM,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Yp("t",t),n=Yp("d",t);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Yp(PE,t);if(JI in t){const n=t[JI];if(r===$de){const s={...n};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(r===nM){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===Fde?this.onConnectionShutdown_(n):r===eM?this.onReset_(n):r===Lde?eC("Server Error: "+n):r===tM?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eC("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,n=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Zk!==n&&Fs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),O0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Dde))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):O0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Rde))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sM,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{put(t,r,n,s){}merge(t,r,n,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,n){}onDisconnectMerge(t,r,n){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(t){this.allowedEvents_=t,this.listeners_={},Le(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let s=0;s<n.length;s++)n[s].callback.apply(n[s].context,r)}}on(t,r,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:n});const s=this.getInitialEvent(t);s&&r.apply(n,s)}off(t,r,n){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let a=0;a<s.length;a++)if(s[a].callback===r&&(!n||n===s[a].context)){s.splice(a,1);return}}validateEventType_(t){Le(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends ZU{static getInstance(){return new Zy}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Lk()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return Le(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=32,iM=768;class Sr{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let n=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[n]=this.pieces_[s],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function or(){return new Sr("")}function Bt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function yu(e){return e.pieces_.length-e.pieceNum_}function Or(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Sr(e.pieces_,t)}function tj(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Bde(e){let t="";for(let r=e.pieceNum_;r<e.pieces_.length;r++)e.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[r])));return t||"/"}function jv(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function JU(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let r=e.pieceNum_;r<e.pieces_.length-1;r++)t.push(e.pieces_[r]);return new Sr(t,0)}function cn(e,t){const r=[];for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);if(t instanceof Sr)for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);else{const n=t.split("/");for(let s=0;s<n.length;s++)n[s].length>0&&r.push(n[s])}return new Sr(r,0)}function Wt(e){return e.pieceNum_>=e.pieces_.length}function Rs(e,t){const r=Bt(e),n=Bt(t);if(r===null)return t;if(r===n)return Rs(Or(e),Or(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Wde(e,t){const r=jv(e,0),n=jv(t,0);for(let s=0;s<r.length&&s<n.length;s++){const a=bf(r[s],n[s]);if(a!==0)return a}return r.length===n.length?0:r.length<n.length?-1:1}function rj(e,t){if(yu(e)!==yu(t))return!1;for(let r=e.pieceNum_,n=t.pieceNum_;r<=e.pieces_.length;r++,n++)if(e.pieces_[r]!==t.pieces_[n])return!1;return!0}function ri(e,t){let r=e.pieceNum_,n=t.pieceNum_;if(yu(e)>yu(t))return!1;for(;r<e.pieces_.length;){if(e.pieces_[r]!==t.pieces_[n])return!1;++r,++n}return!0}class Vde{constructor(t,r){this.errorPrefix_=r,this.parts_=jv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Rw(this.parts_[n]);eB(this)}}function zde(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Rw(t),eB(e)}function Hde(e){const t=e.parts_.pop();e.byteLength_-=Rw(t),e.parts_.length>0&&(e.byteLength_-=1)}function eB(e){if(e.byteLength_>iM)throw new Error(e.errorPrefix_+"has a key path longer than "+iM+" bytes ("+e.byteLength_+").");if(e.parts_.length>aM)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+aM+") or object contains a cycle "+od(e))}function od(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj extends ZU{static getInstance(){return new nj}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(t){return Le(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=1e3,Yde=60*5*1e3,oM=30*1e3,Gde=1.3,qde=3e4,Kde="server_kill",lM=3;class Cl extends QU{constructor(t,r,n,s,a,i,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=i,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Cl.nextPersistentConnectionId_++,this.log_=jg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gp,this.maxReconnectDelay_=Yde,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!B8())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nj.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Zy.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,n){const s=++this.requestNumber_,a={r:s,a:t,b:r};this.log_(In(a)),Le(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),n&&(this.requestCBHash_[s]=n)}get(t){this.initConnection_();const r=new Qm,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:i=>{const l=i.d;i.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),r.promise}listen(t,r,n,s){this.initConnection_();const a=t._queryIdentifier,i=t._path.toString();this.log_("Listen called for "+i+" "+a),this.listens.has(i)||this.listens.set(i,new Map),Le(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Le(!this.listens.get(i).has(a),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:n};this.listens.get(i).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(t){const r=t.query,n=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+n+" for "+s);const a={p:n},i="q";t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(i,a,l=>{const c=l.d,u=l.s;Cl.warnOnListenWarnings_(c,r),(this.listens.get(n)&&this.listens.get(n).get(s))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(n,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&to(t,"w")){const n=Hd(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Fs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||woe(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oM)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=_oe(t)?"auth":"gauth",n={cred:t};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,s=>{const a=s.s,i=s.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,n=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(t,r){const n=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+s),Le(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,s)&&this.connected_&&this.sendUnlisten_(n,s,t._queryObject,r)}sendUnlisten_(t,r,n,s){this.log_("Unlisten on "+t+" for "+r);const a={p:t},i="n";s&&(a.q=n,a.t=s),this.sendRequest(i,a)}onDisconnectPut(t,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:n})}onDisconnectMerge(t,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:n})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,n,s){const a={p:r,d:n};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,i=>{s&&setTimeout(()=>{s(i.s,i.d)},Math.floor(0))})}put(t,r,n,s){this.putInternal("p",t,r,n,s)}merge(t,r,n,s){this.putInternal("m",t,r,n,s)}putInternal(t,r,n,s,a){this.initConnection_();const i={p:r,d:n};a!==void 0&&(i.h=a),this.outstandingPuts_.push({action:t,request:i,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,n,a=>{this.log_(r+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const a=n.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+In(t));const r=t.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):eC("Unrecognized action received from server: "+In(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Le(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gp,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Gp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>qde&&(this.reconnectDelay_=Gp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Gde)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Cl.nextConnectionId_++,a=this.lastSessionId;let i=!1,l=null;const c=function(){l?l.close():(i=!0,n())},u=function(f){Le(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);i?es("getToken() completed but was canceled"):(es("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new Ude(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,n,p=>{Fs(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Kde)},a))}catch(f){this.log_("Failed to get token: "+f),i||(this.repoInfo_.nodeAdmin&&Fs(f),c())}}}interrupt(t){es("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){es("Resuming connection for reason: "+t),delete this.interruptReasons_[t],HT(this.interruptReasons_)&&(this.reconnectDelay_=Gp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let n;r?n=r.map(a=>Qk(a)).join("$"):n="default";const s=this.removeListen_(t,n);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const n=new Sr(t).toString();let s;if(this.listens.has(n)){const a=this.listens.get(n);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(n)}else s=void 0;return s}onAuthRevoked_(t,r){es("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lM&&(this.reconnectDelay_=oM,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){es("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lM&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+jU.replace(/\./g,"-")]=1,Lk()?t["framework.cordova"]=1:U8()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Zy.getInstance().currentlyOnline();return HT(this.interruptReasons_)&&t}}Cl.nextPersistentConnectionId_=0;Cl.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new Vt(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bw=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const n=new Vt(Xd,t),s=new Vt(Xd,r);return this.compare(n,s)!==0}minPost(){return Vt.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r1;class tB extends Bw{static get __EMPTY_NODE(){return r1}static set __EMPTY_NODE(t){r1=t}compare(t,r){return bf(t.name,r.name)}isDefinedOn(t){throw Xm("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return Vt.MIN}maxPost(){return new Vt(xu,r1)}makePost(t,r){return Le(typeof t=="string","KeyIndex indexValue must always be a string."),new Vt(t,r1)}toString(){return".key"}}const jd=new tB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,r,n,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let i=1;for(;!t.isEmpty();)if(t=t,i=r?n(t.key,r):1,s&&(i*=-1),i<0)this.isReverse_?t=t.left:t=t.right;else if(i===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Vn{constructor(t,r,n,s,a){this.key=t,this.value=r,this.color=n??Vn.RED,this.left=s??ea.EMPTY_NODE,this.right=a??ea.EMPTY_NODE}copy(t,r,n,s,a){return new Vn(t??this.key,r??this.value,n??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let s=this;const a=n(t,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(t,r,n),null):a===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,r,n)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ea.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let n,s;if(n=this,r(t,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(t,n.key)===0){if(n.right.isEmpty())return ea.EMPTY_NODE;s=n.right.min_(),n=n.copy(s.key,s.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Vn.RED=!0;Vn.BLACK=!1;class Xde{copy(t,r,n,s,a){return this}insert(t,r,n){return new Vn(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ea{constructor(t,r=ea.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ea(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,Vn.BLACK,null,null))}remove(t){return new ea(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Vn.BLACK,null,null))}get(t){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(t,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(t){let r,n=this.root_,s=null;for(;!n.isEmpty();)if(r=this.comparator_(t,n.key),r===0){if(n.left.isEmpty())return s?s.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(s=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new n1(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new n1(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new n1(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new n1(this.root_,null,this.comparator_,!0,t)}}ea.EMPTY_NODE=new Xde;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qde(e,t){return bf(e.name,t.name)}function sj(e,t){return bf(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rC;function Zde(e){rC=e}const rB=function(e){return typeof e=="number"?"number:"+RU(e):"string:"+e},nB=function(e){if(e.isLeafNode()){const t=e.val();Le(typeof t=="string"||typeof t=="number"||typeof t=="object"&&to(t,".sv"),"Priority must be a string or number.")}else Le(e===rC||e.isEmpty(),"priority of unexpected type.");Le(e===rC||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cM;class Bn{static set __childrenNodeConstructor(t){cM=t}static get __childrenNodeConstructor(){return cM}constructor(t,r=Bn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,Le(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),nB(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Bn(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Bn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Wt(t)?this:Bt(t)===".priority"?this.priorityNode_:Bn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Bn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const n=Bt(t);return n===null?r:r.isEmpty()&&n!==".priority"?this:(Le(n!==".priority"||yu(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,Bn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Or(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+rB(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=RU(this.value_):t+=this.value_,this.lazyHash_=OU(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Bn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Bn.__childrenNodeConstructor?-1:(Le(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,n=typeof this.value_,s=Bn.VALUE_TYPE_ORDER.indexOf(r),a=Bn.VALUE_TYPE_ORDER.indexOf(n);return Le(s>=0,"Unknown leaf type: "+r),Le(a>=0,"Unknown leaf type: "+n),s===a?n==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Bn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sB,aB;function Jde(e){sB=e}function efe(e){aB=e}class tfe extends Bw{compare(t,r){const n=t.node.getPriority(),s=r.node.getPriority(),a=n.compareTo(s);return a===0?bf(t.name,r.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return Vt.MIN}maxPost(){return new Vt(xu,new Bn("[PRIORITY-POST]",aB))}makePost(t,r){const n=sB(t);return new Vt(r,new Bn("[PRIORITY-POST]",n))}toString(){return".priority"}}const Qr=new tfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rfe=Math.log(2);class nfe{constructor(t){const r=a=>parseInt(Math.log(a)/rfe,10),n=a=>parseInt(Array(a+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const s=n(this.count);this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Jy=function(e,t,r,n){e.sort(t);const s=function(c,u){const d=u-c;let f,h;if(d===0)return null;if(d===1)return f=e[c],h=r?r(f):f,new Vn(h,f.node,Vn.BLACK,null,null);{const p=parseInt(d/2,10)+c,x=s(c,p),m=s(p+1,u);return f=e[p],h=r?r(f):f,new Vn(h,f.node,Vn.BLACK,x,m)}},a=function(c){let u=null,d=null,f=e.length;const h=function(x,m){const g=f-x,_=f;f-=x;const y=s(g+1,_),S=e[g],E=r?r(S):S;p(new Vn(E,S.node,m,null,y))},p=function(x){u?(u.left=x,u=x):(d=x,u=x)};for(let x=0;x<c.count;++x){const m=c.nextBitIsOne(),g=Math.pow(2,c.count-(x+1));m?h(g,Vn.BLACK):(h(g,Vn.BLACK),h(g,Vn.RED))}return d},i=new nfe(e.length),l=a(i);return new ea(n||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OE;const Hf={};class yl{static get Default(){return Le(Hf&&Qr,"ChildrenNode.ts has not been loaded"),OE=OE||new yl({".priority":Hf},{".priority":Qr}),OE}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Hd(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ea?r:null}hasIndex(t){return to(this.indexSet_,t.toString())}addIndex(t,r){Le(t!==jd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let s=!1;const a=r.getIterator(Vt.Wrap);let i=a.getNext();for(;i;)s=s||t.isDefinedOn(i.node),n.push(i),i=a.getNext();let l;s?l=Jy(n,t.getCompare()):l=Hf;const c=t.toString(),u={...this.indexSet_};u[c]=t;const d={...this.indexes_};return d[c]=l,new yl(d,u)}addToIndexes(t,r){const n=Vy(this.indexes_,(s,a)=>{const i=Hd(this.indexSet_,a);if(Le(i,"Missing index implementation for "+a),s===Hf)if(i.isDefinedOn(t.node)){const l=[],c=r.getIterator(Vt.Wrap);let u=c.getNext();for(;u;)u.name!==t.name&&l.push(u),u=c.getNext();return l.push(t),Jy(l,i.getCompare())}else return Hf;else{const l=r.get(t.name);let c=s;return l&&(c=c.remove(new Vt(t.name,l))),c.insert(t,t.node)}});return new yl(n,this.indexSet_)}removeFromIndexes(t,r){const n=Vy(this.indexes_,s=>{if(s===Hf)return s;{const a=r.get(t.name);return a?s.remove(new Vt(t.name,a)):s}});return new yl(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp;class vt{static get EMPTY_NODE(){return qp||(qp=new vt(new ea(sj),null,yl.Default))}constructor(t,r,n){this.children_=t,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&nB(this.priorityNode_),this.children_.isEmpty()&&Le(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qp}updatePriority(t){return this.children_.isEmpty()?this:new vt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?qp:r}}getChild(t){const r=Bt(t);return r===null?this:this.getImmediateChild(r).getChild(Or(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(Le(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const n=new Vt(t,r);let s,a;r.isEmpty()?(s=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(n,this.children_)):(s=this.children_.insert(t,r),a=this.indexMap_.addToIndexes(n,this.children_));const i=s.isEmpty()?qp:this.priorityNode_;return new vt(s,i,a)}}updateChild(t,r){const n=Bt(t);if(n===null)return r;{Le(Bt(t)!==".priority"||yu(t)===1,".priority must be the last token in a path");const s=this.getImmediateChild(n).updateChild(Or(t),r);return this.updateImmediateChild(n,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let n=0,s=0,a=!0;if(this.forEachChild(Qr,(i,l)=>{r[i]=l.val(t),n++,a&&vt.INTEGER_REGEXP_.test(i)?s=Math.max(s,Number(i)):a=!1}),!t&&a&&s<2*n){const i=[];for(const l in r)i[l]=r[l];return i}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+rB(this.getPriority().val())+":"),this.forEachChild(Qr,(r,n)=>{const s=n.hash();s!==""&&(t+=":"+r+":"+s)}),this.lazyHash_=t===""?"":OU(t)}return this.lazyHash_}getPredecessorChildName(t,r,n){const s=this.resolveIndex_(n);if(s){const a=s.getPredecessorKey(new Vt(t,r));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Vt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Vt(r,this.children_.get(r)):null}forEachChild(t,r){const n=this.resolveIndex_(t);return n?n.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Vt.Wrap);let a=s.peek();for(;a!=null&&r.compare(a,t)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Vt.Wrap);let a=s.peek();for(;a!=null&&r.compare(a,t)>0;)s.getNext(),a=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ag?-1:0}withIndex(t){if(t===jd||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new vt(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===jd||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(Qr),s=r.getIterator(Qr);let a=n.getNext(),i=s.getNext();for(;a&&i;){if(a.name!==i.name||!a.node.equals(i.node))return!1;a=n.getNext(),i=s.getNext()}return a===null&&i===null}else return!1;else return!1}}resolveIndex_(t){return t===jd?null:this.indexMap_.get(t.toString())}}vt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class sfe extends vt{constructor(){super(new ea(sj),vt.EMPTY_NODE,yl.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return vt.EMPTY_NODE}isEmpty(){return!1}}const Ag=new sfe;Object.defineProperties(Vt,{MIN:{value:new Vt(Xd,vt.EMPTY_NODE)},MAX:{value:new Vt(xu,Ag)}});tB.__EMPTY_NODE=vt.EMPTY_NODE;Bn.__childrenNodeConstructor=vt;Zde(Ag);efe(Ag);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const afe=!0;function Tn(e,t=null){if(e===null)return vt.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Le(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const r=e;return new Bn(r,Tn(t))}if(!(e instanceof Array)&&afe){const r=[];let n=!1;if(is(e,(i,l)=>{if(i.substring(0,1)!=="."){const c=Tn(l);c.isEmpty()||(n=n||!c.getPriority().isEmpty(),r.push(new Vt(i,c)))}}),r.length===0)return vt.EMPTY_NODE;const a=Jy(r,Qde,i=>i.name,sj);if(n){const i=Jy(r,Qr.getCompare());return new vt(a,Tn(t),new yl({".priority":i},{".priority":Qr}))}else return new vt(a,Tn(t),yl.Default)}else{let r=vt.EMPTY_NODE;return is(e,(n,s)=>{if(to(e,n)&&n.substring(0,1)!=="."){const a=Tn(s);(a.isLeafNode()||!a.isEmpty())&&(r=r.updateImmediateChild(n,a))}}),r.updatePriority(Tn(t))}}Jde(Tn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj extends Bw{constructor(t){super(),this.indexPath_=t,Le(!Wt(t)&&Bt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const n=this.extractChild(t.node),s=this.extractChild(r.node),a=n.compareTo(s);return a===0?bf(t.name,r.name):a}makePost(t,r){const n=Tn(t),s=vt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Vt(r,s)}maxPost(){const t=vt.EMPTY_NODE.updateChild(this.indexPath_,Ag);return new Vt(xu,t)}toString(){return jv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ife extends Bw{compare(t,r){const n=t.node.compareTo(r.node);return n===0?bf(t.name,r.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return Vt.MIN}maxPost(){return Vt.MAX}makePost(t,r){const n=Tn(t);return new Vt(r,n)}toString(){return".value"}}const iB=new ife;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(e){return{type:"value",snapshotNode:e}}function mm(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Av(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Pv(e,t,r){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:r}}function ofe(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(t){this.index_=t}updateChild(t,r,n,s,a,i){Le(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(r);return l.getChild(s).equals(n.getChild(s))&&l.isEmpty()===n.isEmpty()||(i!=null&&(n.isEmpty()?t.hasChild(r)?i.trackChildChange(Av(r,l)):Le(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?i.trackChildChange(mm(r,n)):i.trackChildChange(Pv(r,n,l))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(t,r,n){return n!=null&&(t.isLeafNode()||t.forEachChild(Qr,(s,a)=>{r.hasChild(s)||n.trackChildChange(Av(s,a))}),r.isLeafNode()||r.forEachChild(Qr,(s,a)=>{if(t.hasChild(s)){const i=t.getImmediateChild(s);i.equals(a)||n.trackChildChange(Pv(s,a,i))}else n.trackChildChange(mm(s,a))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?vt.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t){this.indexedFilter_=new ij(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ov.getStartPost_(t),this.endPost_=Ov.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&n}updateChild(t,r,n,s,a,i){return this.matches(new Vt(r,n))||(n=vt.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,n,s,a,i)}updateFullNode(t,r,n){r.isLeafNode()&&(r=vt.EMPTY_NODE);let s=r.withIndex(this.index_);s=s.updatePriority(vt.EMPTY_NODE);const a=this;return r.forEachChild(Qr,(i,l)=>{a.matches(new Vt(i,l))||(s=s.updateImmediateChild(i,vt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,s,n)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lfe{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new Ov(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,n,s,a,i){return this.rangedFilter_.matches(new Vt(r,n))||(n=vt.EMPTY_NODE),t.getImmediateChild(r).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,n,s,a,i):this.fullLimitUpdateChild_(t,r,n,a,i)}updateFullNode(t,r,n){let s;if(r.isLeafNode()||r.isEmpty())s=vt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){s=vt.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let i=0;for(;a.hasNext()&&i<this.limit_;){const l=a.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),i++;else break;else continue}}else{s=r.withIndex(this.index_),s=s.updatePriority(vt.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let i=0;for(;a.hasNext();){const l=a.getNext();i<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?i++:s=s.updateImmediateChild(l.name,vt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,s,n)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,n,s,a){let i;if(this.reverse_){const f=this.index_.getCompare();i=(h,p)=>f(p,h)}else i=this.index_.getCompare();const l=t;Le(l.numChildren()===this.limit_,"");const c=new Vt(r,n),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(l.hasChild(r)){const f=l.getImmediateChild(r);let h=s.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===r||l.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:i(h,c);if(d&&!n.isEmpty()&&p>=0)return a!=null&&a.trackChildChange(Pv(r,n,f)),l.updateImmediateChild(r,n);{a!=null&&a.trackChildChange(Av(r,f));const m=l.updateImmediateChild(r,vt.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(a!=null&&a.trackChildChange(mm(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return n.isEmpty()?t:d&&i(u,c)>=0?(a!=null&&(a.trackChildChange(Av(u.name,u.node)),a.trackChildChange(mm(r,n))),l.updateImmediateChild(r,n).updateImmediateChild(u.name,vt.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Le(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Le(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xd}hasEnd(){return this.endSet_}getIndexEndValue(){return Le(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Le(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Le(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qr}copy(){const t=new oj;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function cfe(e){return e.loadsAllData()?new ij(e.getIndex()):e.hasLimit()?new lfe(e):new Ov(e)}function ufe(e,t,r){const n=e.copy();return n.startSet_=!0,t===void 0&&(t=null),n.indexStartValue_=t,r!=null?(n.startNameSet_=!0,n.indexStartName_=r):(n.startNameSet_=!1,n.indexStartName_=""),n}function dfe(e,t,r){const n=e.copy();return n.endSet_=!0,t===void 0&&(t=null),n.indexEndValue_=t,r!==void 0?(n.endNameSet_=!0,n.indexEndName_=r):(n.endNameSet_=!1,n.indexEndName_=""),n}function ffe(e,t){const r=e.copy();return r.index_=t,r}function uM(e){const t={};if(e.isDefault())return t;let r;if(e.index_===Qr?r="$priority":e.index_===iB?r="$value":e.index_===jd?r="$key":(Le(e.index_ instanceof aj,"Unrecognized index type!"),r=e.index_.toString()),t.orderBy=In(r),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=In(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+In(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=In(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+In(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function dM(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let r=e.viewFrom_;r===""&&(e.isViewFromLeft()?r="l":r="r"),t.vf=r}return e.index_!==Qr&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_ extends QU{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(Le(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,n,s){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=s,this.log_=jg("p:rest:"),this.listens_={}}listen(t,r,n,s){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const i=e_.getListenId_(t,n),l={};this.listens_[i]=l;const c=uM(t._queryParams);this.restRequest_(a+".json",c,(u,d)=>{let f=d;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(a,f,!1,n),Hd(this.listens_,i)===l){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",s(h,null)}})}unlisten(t,r){const n=e_.getListenId_(t,r);delete this.listens_[n]}get(t){const r=uM(t._queryParams),n=t._path.toString(),s=new Qm;return this.restRequest_(n+".json",r,(a,i)=>{let l=i;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(n,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(t){}restRequest_(t,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(r.auth=s.accessToken),a&&a.token&&(r.ac=a.token);const i=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Zm(r);this.log_("Sending REST request for "+i);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(n&&l.readyState===4){this.log_("REST Response for "+i+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Sv(l.responseText)}catch{Fs("Failed to parse JSON response for "+i+": "+l.responseText)}n(null,c)}else l.status!==401&&l.status!==404&&Fs("Got unsuccessful REST response for "+i+" Status: "+l.status),n(l.status);n=null}},l.open("GET",i,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hfe{constructor(){this.rootNode_=vt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(){return{value:null,children:new Map}}function lB(e,t,r){if(Wt(t))e.value=r,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,r);else{const n=Bt(t);e.children.has(n)||e.children.set(n,t_());const s=e.children.get(n);t=Or(t),lB(s,t,r)}}function nC(e,t,r){e.value!==null?r(t,e.value):mfe(e,(n,s)=>{const a=new Sr(t.toString()+"/"+n);nC(s,a,r)})}function mfe(e,t){e.children.forEach((r,n)=>{t(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pfe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r={...t};return this.last_&&is(this.last_,(n,s)=>{r[n]=r[n]-s}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=10*1e3,vfe=30*1e3,gfe=5*60*1e3;class xfe{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new pfe(t);const n=fM+(vfe-fM)*Math.random();O0(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),r={};let n=!1;is(t,(s,a)=>{a>0&&to(this.statsToReport_,s)&&(r[s]=a,n=!0)}),n&&this.server_.reportStats(r),O0(this.reportStats_.bind(this),Math.floor(Math.random()*2*gfe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fi;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Fi||(Fi={}));function lj(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cj(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function uj(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(t,r,n){this.path=t,this.affectedTree=r,this.revert=n,this.type=Fi.ACK_USER_WRITE,this.source=lj()}operationForChild(t){if(Wt(this.path)){if(this.affectedTree.value!=null)return Le(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Sr(t));return new r_(or(),r,this.revert)}}else return Le(Bt(this.path)===t,"operationForChild called for unrelated child."),new r_(Or(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,r){this.source=t,this.path=r,this.type=Fi.LISTEN_COMPLETE}operationForChild(t){return Wt(this.path)?new Dv(this.source,or()):new Dv(this.source,Or(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t,r,n){this.source=t,this.path=r,this.snap=n,this.type=Fi.OVERWRITE}operationForChild(t){return Wt(this.path)?new Qd(this.source,or(),this.snap.getImmediateChild(t)):new Qd(this.source,Or(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,r,n){this.source=t,this.path=r,this.children=n,this.type=Fi.MERGE}operationForChild(t){if(Wt(this.path)){const r=this.children.subtree(new Sr(t));return r.isEmpty()?null:r.value?new Qd(this.source,or(),r.value):new pm(this.source,or(),r)}else return Le(Bt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new pm(this.source,Or(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,r,n){this.node_=t,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Wt(t))return this.isFullyInitialized()&&!this.filtered_;const r=Bt(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yfe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function _fe(e,t,r,n){const s=[],a=[];return t.forEach(i=>{i.type==="child_changed"&&e.index_.indexedValueChanged(i.oldSnap,i.snapshotNode)&&a.push(ofe(i.childName,i.snapshotNode))}),Kp(e,s,"child_removed",t,n,r),Kp(e,s,"child_added",t,n,r),Kp(e,s,"child_moved",a,n,r),Kp(e,s,"child_changed",t,n,r),Kp(e,s,"value",t,n,r),s}function Kp(e,t,r,n,s,a){const i=n.filter(l=>l.type===r);i.sort((l,c)=>bfe(e,l,c)),i.forEach(l=>{const c=wfe(e,l,a);s.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(c,e.query_))})})}function wfe(e,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function bfe(e,t,r){if(t.childName==null||r.childName==null)throw Xm("Should only compare child_ events.");const n=new Vt(t.childName,t.snapshotNode),s=new Vt(r.childName,r.snapshotNode);return e.index_.compare(n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(e,t){return{eventCache:e,serverCache:t}}function D0(e,t,r,n){return Ww(new _u(t,r,n),e.serverCache)}function cB(e,t,r,n){return Ww(e.eventCache,new _u(t,r,n))}function n_(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Zd(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DE;const Sfe=()=>(DE||(DE=new ea(ide)),DE);class Pr{static fromObject(t){let r=new Pr(null);return is(t,(n,s)=>{r=r.set(new Sr(n),s)}),r}constructor(t,r=Sfe()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:or(),value:this.value};if(Wt(t))return null;{const n=Bt(t),s=this.children.get(n);if(s!==null){const a=s.findRootMostMatchingPathAndValue(Or(t),r);return a!=null?{path:cn(new Sr(n),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Wt(t))return this;{const r=Bt(t),n=this.children.get(r);return n!==null?n.subtree(Or(t)):new Pr(null)}}set(t,r){if(Wt(t))return new Pr(r,this.children);{const n=Bt(t),a=(this.children.get(n)||new Pr(null)).set(Or(t),r),i=this.children.insert(n,a);return new Pr(this.value,i)}}remove(t){if(Wt(t))return this.children.isEmpty()?new Pr(null):new Pr(null,this.children);{const r=Bt(t),n=this.children.get(r);if(n){const s=n.remove(Or(t));let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),this.value===null&&a.isEmpty()?new Pr(null):new Pr(this.value,a)}else return this}}get(t){if(Wt(t))return this.value;{const r=Bt(t),n=this.children.get(r);return n?n.get(Or(t)):null}}setTree(t,r){if(Wt(t))return r;{const n=Bt(t),a=(this.children.get(n)||new Pr(null)).setTree(Or(t),r);let i;return a.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,a),new Pr(this.value,i)}}fold(t){return this.fold_(or(),t)}fold_(t,r){const n={};return this.children.inorderTraversal((s,a)=>{n[s]=a.fold_(cn(t,s),r)}),r(t,this.value,n)}findOnPath(t,r){return this.findOnPath_(t,or(),r)}findOnPath_(t,r,n){const s=this.value?n(r,this.value):!1;if(s)return s;if(Wt(t))return null;{const a=Bt(t),i=this.children.get(a);return i?i.findOnPath_(Or(t),cn(r,a),n):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,or(),r)}foreachOnPath_(t,r,n){if(Wt(t))return this;{this.value&&n(r,this.value);const s=Bt(t),a=this.children.get(s);return a?a.foreachOnPath_(Or(t),cn(r,s),n):new Pr(null)}}foreach(t){this.foreach_(or(),t)}foreach_(t,r){this.children.inorderTraversal((n,s)=>{s.foreach_(cn(t,n),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,n)=>{n.value&&t(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.writeTree_=t}static empty(){return new zi(new Pr(null))}}function R0(e,t,r){if(Wt(t))return new zi(new Pr(r));{const n=e.writeTree_.findRootMostValueAndPath(t);if(n!=null){const s=n.path;let a=n.value;const i=Rs(s,t);return a=a.updateChild(i,r),new zi(e.writeTree_.set(s,a))}else{const s=new Pr(r),a=e.writeTree_.setTree(t,s);return new zi(a)}}}function sC(e,t,r){let n=e;return is(r,(s,a)=>{n=R0(n,cn(t,s),a)}),n}function hM(e,t){if(Wt(t))return zi.empty();{const r=e.writeTree_.setTree(t,new Pr(null));return new zi(r)}}function aC(e,t){return Sf(e,t)!=null}function Sf(e,t){const r=e.writeTree_.findRootMostValueAndPath(t);return r!=null?e.writeTree_.get(r.path).getChild(Rs(r.path,t)):null}function mM(e){const t=[],r=e.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Qr,(n,s)=>{t.push(new Vt(n,s))}):e.writeTree_.children.inorderTraversal((n,s)=>{s.value!=null&&t.push(new Vt(n,s.value))}),t}function ou(e,t){if(Wt(t))return e;{const r=Sf(e,t);return r!=null?new zi(new Pr(r)):new zi(e.writeTree_.subtree(t))}}function iC(e){return e.writeTree_.isEmpty()}function vm(e,t){return uB(or(),e.writeTree_,t)}function uB(e,t,r){if(t.value!=null)return r.updateChild(e,t.value);{let n=null;return t.children.inorderTraversal((s,a)=>{s===".priority"?(Le(a.value!==null,"Priority writes must always be leaf nodes"),n=a.value):r=uB(cn(e,s),a,r)}),!r.getChild(e).isEmpty()&&n!==null&&(r=r.updateChild(cn(e,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(e,t){return mB(t,e)}function Efe(e,t,r,n,s){Le(n>e.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),e.allWrites.push({path:t,snap:r,writeId:n,visible:s}),s&&(e.visibleWrites=R0(e.visibleWrites,t,r)),e.lastWriteId=n}function Tfe(e,t,r,n){Le(n>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:r,writeId:n,visible:!0}),e.visibleWrites=sC(e.visibleWrites,t,r),e.lastWriteId=n}function Cfe(e,t){for(let r=0;r<e.allWrites.length;r++){const n=e.allWrites[r];if(n.writeId===t)return n}return null}function Nfe(e,t){const r=e.allWrites.findIndex(l=>l.writeId===t);Le(r>=0,"removeWrite called with nonexistent writeId.");const n=e.allWrites[r];e.allWrites.splice(r,1);let s=n.visible,a=!1,i=e.allWrites.length-1;for(;s&&i>=0;){const l=e.allWrites[i];l.visible&&(i>=r&&kfe(l,n.path)?s=!1:ri(n.path,l.path)&&(a=!0)),i--}if(s){if(a)return jfe(e),!0;if(n.snap)e.visibleWrites=hM(e.visibleWrites,n.path);else{const l=n.children;is(l,c=>{e.visibleWrites=hM(e.visibleWrites,cn(n.path,c))})}return!0}else return!1}function kfe(e,t){if(e.snap)return ri(e.path,t);for(const r in e.children)if(e.children.hasOwnProperty(r)&&ri(cn(e.path,r),t))return!0;return!1}function jfe(e){e.visibleWrites=dB(e.allWrites,Afe,or()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Afe(e){return e.visible}function dB(e,t,r){let n=zi.empty();for(let s=0;s<e.length;++s){const a=e[s];if(t(a)){const i=a.path;let l;if(a.snap)ri(r,i)?(l=Rs(r,i),n=R0(n,l,a.snap)):ri(i,r)&&(l=Rs(i,r),n=R0(n,or(),a.snap.getChild(l)));else if(a.children){if(ri(r,i))l=Rs(r,i),n=sC(n,l,a.children);else if(ri(i,r))if(l=Rs(i,r),Wt(l))n=sC(n,or(),a.children);else{const c=Hd(a.children,Bt(l));if(c){const u=c.getChild(Or(l));n=R0(n,or(),u)}}}else throw Xm("WriteRecord should have .snap or .children")}}return n}function fB(e,t,r,n,s){if(!n&&!s){const a=Sf(e.visibleWrites,t);if(a!=null)return a;{const i=ou(e.visibleWrites,t);if(iC(i))return r;if(r==null&&!aC(i,or()))return null;{const l=r||vt.EMPTY_NODE;return vm(i,l)}}}else{const a=ou(e.visibleWrites,t);if(!s&&iC(a))return r;if(!s&&r==null&&!aC(a,or()))return null;{const i=function(u){return(u.visible||s)&&(!n||!~n.indexOf(u.writeId))&&(ri(u.path,t)||ri(t,u.path))},l=dB(e.allWrites,i,t),c=r||vt.EMPTY_NODE;return vm(l,c)}}}function Pfe(e,t,r){let n=vt.EMPTY_NODE;const s=Sf(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Qr,(a,i)=>{n=n.updateImmediateChild(a,i)}),n;if(r){const a=ou(e.visibleWrites,t);return r.forEachChild(Qr,(i,l)=>{const c=vm(ou(a,new Sr(i)),l);n=n.updateImmediateChild(i,c)}),mM(a).forEach(i=>{n=n.updateImmediateChild(i.name,i.node)}),n}else{const a=ou(e.visibleWrites,t);return mM(a).forEach(i=>{n=n.updateImmediateChild(i.name,i.node)}),n}}function Ofe(e,t,r,n,s){Le(n||s,"Either existingEventSnap or existingServerSnap must exist");const a=cn(t,r);if(aC(e.visibleWrites,a))return null;{const i=ou(e.visibleWrites,a);return iC(i)?s.getChild(r):vm(i,s.getChild(r))}}function Dfe(e,t,r,n){const s=cn(t,r),a=Sf(e.visibleWrites,s);if(a!=null)return a;if(n.isCompleteForChild(r)){const i=ou(e.visibleWrites,s);return vm(i,n.getNode().getImmediateChild(r))}else return null}function Rfe(e,t){return Sf(e.visibleWrites,t)}function Ife(e,t,r,n,s,a,i){let l;const c=ou(e.visibleWrites,t),u=Sf(c,or());if(u!=null)l=u;else if(r!=null)l=vm(c,r);else return[];if(l=l.withIndex(i),!l.isEmpty()&&!l.isLeafNode()){const d=[],f=i.getCompare(),h=a?l.getReverseIteratorFrom(n,i):l.getIteratorFrom(n,i);let p=h.getNext();for(;p&&d.length<s;)f(p,n)!==0&&d.push(p),p=h.getNext();return d}else return[]}function Mfe(){return{visibleWrites:zi.empty(),allWrites:[],lastWriteId:-1}}function s_(e,t,r,n){return fB(e.writeTree,e.treePath,t,r,n)}function dj(e,t){return Pfe(e.writeTree,e.treePath,t)}function pM(e,t,r,n){return Ofe(e.writeTree,e.treePath,t,r,n)}function a_(e,t){return Rfe(e.writeTree,cn(e.treePath,t))}function Ffe(e,t,r,n,s,a){return Ife(e.writeTree,e.treePath,t,r,n,s,a)}function fj(e,t,r){return Dfe(e.writeTree,e.treePath,t,r)}function hB(e,t){return mB(cn(e.treePath,t),e.writeTree)}function mB(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lfe{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,n=t.childName;Le(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),Le(n!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(n);if(s){const a=s.type;if(r==="child_added"&&a==="child_removed")this.changeMap.set(n,Pv(n,t.snapshotNode,s.snapshotNode));else if(r==="child_removed"&&a==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&a==="child_changed")this.changeMap.set(n,Av(n,s.oldSnap));else if(r==="child_changed"&&a==="child_added")this.changeMap.set(n,mm(n,t.snapshotNode));else if(r==="child_changed"&&a==="child_changed")this.changeMap.set(n,Pv(n,t.snapshotNode,s.oldSnap));else throw Xm("Illegal combination of changes: "+t+" occurred after "+s)}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{getCompleteChild(t){return null}getChildAfterChild(t,r,n){return null}}const pB=new $fe;class hj{constructor(t,r,n=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const n=this.optCompleteServerCache_!=null?new _u(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fj(this.writes_,t,n)}}getChildAfterChild(t,r,n){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zd(this.viewCache_),a=Ffe(this.writes_,s,r,1,n,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ufe(e){return{filter:e}}function Bfe(e,t){Le(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Le(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Wfe(e,t,r,n,s){const a=new Lfe;let i,l;if(r.type===Fi.OVERWRITE){const u=r;u.source.fromUser?i=oC(e,t,u.path,u.snap,n,s,a):(Le(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!Wt(u.path),i=i_(e,t,u.path,u.snap,n,s,l,a))}else if(r.type===Fi.MERGE){const u=r;u.source.fromUser?i=zfe(e,t,u.path,u.children,n,s,a):(Le(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),i=lC(e,t,u.path,u.children,n,s,l,a))}else if(r.type===Fi.ACK_USER_WRITE){const u=r;u.revert?i=Gfe(e,t,u.path,n,s,a):i=Hfe(e,t,u.path,u.affectedTree,n,s,a)}else if(r.type===Fi.LISTEN_COMPLETE)i=Yfe(e,t,r.path,n,a);else throw Xm("Unknown operation type: "+r.type);const c=a.getChanges();return Vfe(t,i,c),{viewCache:i,changes:c}}function Vfe(e,t,r){const n=t.eventCache;if(n.isFullyInitialized()){const s=n.getNode().isLeafNode()||n.getNode().isEmpty(),a=n_(e);(r.length>0||!e.eventCache.isFullyInitialized()||s&&!n.getNode().equals(a)||!n.getNode().getPriority().equals(a.getPriority()))&&r.push(oB(n_(t)))}}function vB(e,t,r,n,s,a){const i=t.eventCache;if(a_(n,r)!=null)return t;{let l,c;if(Wt(r))if(Le(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Zd(t),d=u instanceof vt?u:vt.EMPTY_NODE,f=dj(n,d);l=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{const u=s_(n,Zd(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,a)}else{const u=Bt(r);if(u===".priority"){Le(yu(r)===1,"Can't have a priority with additional path components");const d=i.getNode();c=t.serverCache.getNode();const f=pM(n,r,d,c);f!=null?l=e.filter.updatePriority(d,f):l=i.getNode()}else{const d=Or(r);let f;if(i.isCompleteForChild(u)){c=t.serverCache.getNode();const h=pM(n,r,i.getNode(),c);h!=null?f=i.getNode().getImmediateChild(u).updateChild(d,h):f=i.getNode().getImmediateChild(u)}else f=fj(n,u,t.serverCache);f!=null?l=e.filter.updateChild(i.getNode(),u,f,d,s,a):l=i.getNode()}}return D0(t,l,i.isFullyInitialized()||Wt(r),e.filter.filtersNodes())}}function i_(e,t,r,n,s,a,i,l){const c=t.serverCache;let u;const d=i?e.filter:e.filter.getIndexedFilter();if(Wt(r))u=d.updateFullNode(c.getNode(),n,null);else if(d.filtersNodes()&&!c.isFiltered()){const p=c.getNode().updateChild(r,n);u=d.updateFullNode(c.getNode(),p,null)}else{const p=Bt(r);if(!c.isCompleteForPath(r)&&yu(r)>1)return t;const x=Or(r),g=c.getNode().getImmediateChild(p).updateChild(x,n);p===".priority"?u=d.updatePriority(c.getNode(),g):u=d.updateChild(c.getNode(),p,g,x,pB,null)}const f=cB(t,u,c.isFullyInitialized()||Wt(r),d.filtersNodes()),h=new hj(s,f,a);return vB(e,f,r,s,h,l)}function oC(e,t,r,n,s,a,i){const l=t.eventCache;let c,u;const d=new hj(s,t,a);if(Wt(r))u=e.filter.updateFullNode(t.eventCache.getNode(),n,i),c=D0(t,u,!0,e.filter.filtersNodes());else{const f=Bt(r);if(f===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),n),c=D0(t,u,l.isFullyInitialized(),l.isFiltered());else{const h=Or(r),p=l.getNode().getImmediateChild(f);let x;if(Wt(h))x=n;else{const m=d.getCompleteChild(f);m!=null?tj(h)===".priority"&&m.getChild(JU(h)).isEmpty()?x=m:x=m.updateChild(h,n):x=vt.EMPTY_NODE}if(p.equals(x))c=t;else{const m=e.filter.updateChild(l.getNode(),f,x,h,d,i);c=D0(t,m,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function vM(e,t){return e.eventCache.isCompleteForChild(t)}function zfe(e,t,r,n,s,a,i){let l=t;return n.foreach((c,u)=>{const d=cn(r,c);vM(t,Bt(d))&&(l=oC(e,l,d,u,s,a,i))}),n.foreach((c,u)=>{const d=cn(r,c);vM(t,Bt(d))||(l=oC(e,l,d,u,s,a,i))}),l}function gM(e,t,r){return r.foreach((n,s)=>{t=t.updateChild(n,s)}),t}function lC(e,t,r,n,s,a,i,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,u;Wt(r)?u=n:u=new Pr(null).setTree(r,n);const d=t.serverCache.getNode();return u.children.inorderTraversal((f,h)=>{if(d.hasChild(f)){const p=t.serverCache.getNode().getImmediateChild(f),x=gM(e,p,h);c=i_(e,c,new Sr(f),x,s,a,i,l)}}),u.children.inorderTraversal((f,h)=>{const p=!t.serverCache.isCompleteForChild(f)&&h.value===null;if(!d.hasChild(f)&&!p){const x=t.serverCache.getNode().getImmediateChild(f),m=gM(e,x,h);c=i_(e,c,new Sr(f),m,s,a,i,l)}}),c}function Hfe(e,t,r,n,s,a,i){if(a_(s,r)!=null)return t;const l=t.serverCache.isFiltered(),c=t.serverCache;if(n.value!=null){if(Wt(r)&&c.isFullyInitialized()||c.isCompleteForPath(r))return i_(e,t,r,c.getNode().getChild(r),s,a,l,i);if(Wt(r)){let u=new Pr(null);return c.getNode().forEachChild(jd,(d,f)=>{u=u.set(new Sr(d),f)}),lC(e,t,r,u,s,a,l,i)}else return t}else{let u=new Pr(null);return n.foreach((d,f)=>{const h=cn(r,d);c.isCompleteForPath(h)&&(u=u.set(d,c.getNode().getChild(h)))}),lC(e,t,r,u,s,a,l,i)}}function Yfe(e,t,r,n,s){const a=t.serverCache,i=cB(t,a.getNode(),a.isFullyInitialized()||Wt(r),a.isFiltered());return vB(e,i,r,n,pB,s)}function Gfe(e,t,r,n,s,a){let i;if(a_(n,r)!=null)return t;{const l=new hj(n,t,s),c=t.eventCache.getNode();let u;if(Wt(r)||Bt(r)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=s_(n,Zd(t));else{const f=t.serverCache.getNode();Le(f instanceof vt,"serverChildren would be complete if leaf node"),d=dj(n,f)}d=d,u=e.filter.updateFullNode(c,d,a)}else{const d=Bt(r);let f=fj(n,d,t.serverCache);f==null&&t.serverCache.isCompleteForChild(d)&&(f=c.getImmediateChild(d)),f!=null?u=e.filter.updateChild(c,d,f,Or(r),l,a):t.eventCache.getNode().hasChild(d)?u=e.filter.updateChild(c,d,vt.EMPTY_NODE,Or(r),l,a):u=c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(i=s_(n,Zd(t)),i.isLeafNode()&&(u=e.filter.updateFullNode(u,i,a)))}return i=t.serverCache.isFullyInitialized()||a_(n,or())!=null,D0(t,u,i,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qfe{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,s=new ij(n.getIndex()),a=cfe(n);this.processor_=Ufe(a);const i=r.serverCache,l=r.eventCache,c=s.updateFullNode(vt.EMPTY_NODE,i.getNode(),null),u=a.updateFullNode(vt.EMPTY_NODE,l.getNode(),null),d=new _u(c,i.isFullyInitialized(),s.filtersNodes()),f=new _u(u,l.isFullyInitialized(),a.filtersNodes());this.viewCache_=Ww(f,d),this.eventGenerator_=new yfe(this.query_)}get query(){return this.query_}}function Kfe(e){return e.viewCache_.serverCache.getNode()}function Xfe(e){return n_(e.viewCache_)}function Qfe(e,t){const r=Zd(e.viewCache_);return r&&(e.query._queryParams.loadsAllData()||!Wt(t)&&!r.getImmediateChild(Bt(t)).isEmpty())?r.getChild(t):null}function xM(e){return e.eventRegistrations_.length===0}function Zfe(e,t){e.eventRegistrations_.push(t)}function yM(e,t,r){const n=[];if(r){Le(t==null,"A cancel should cancel all event registrations.");const s=e.query._path;e.eventRegistrations_.forEach(a=>{const i=a.createCancelEvent(r,s);i&&n.push(i)})}if(t){let s=[];for(let a=0;a<e.eventRegistrations_.length;++a){const i=e.eventRegistrations_[a];if(!i.matches(t))s.push(i);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return n}function _M(e,t,r,n){t.type===Fi.MERGE&&t.source.queryId!==null&&(Le(Zd(e.viewCache_),"We should always have a full cache before handling merges"),Le(n_(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,a=Wfe(e.processor_,s,t,r,n);return Bfe(e.processor_,a.viewCache),Le(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,gB(e,a.changes,a.viewCache.eventCache.getNode(),null)}function Jfe(e,t){const r=e.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Qr,(a,i)=>{n.push(mm(a,i))}),r.isFullyInitialized()&&n.push(oB(r.getNode())),gB(e,n,r.getNode(),t)}function gB(e,t,r,n){const s=n?[n]:e.eventRegistrations_;return _fe(e.eventGenerator_,t,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o_;class xB{constructor(){this.views=new Map}}function ehe(e){Le(!o_,"__referenceConstructor has already been defined"),o_=e}function the(){return Le(o_,"Reference.ts has not been loaded"),o_}function rhe(e){return e.views.size===0}function mj(e,t,r,n){const s=t.source.queryId;if(s!==null){const a=e.views.get(s);return Le(a!=null,"SyncTree gave us an op for an invalid query."),_M(a,t,r,n)}else{let a=[];for(const i of e.views.values())a=a.concat(_M(i,t,r,n));return a}}function yB(e,t,r,n,s){const a=t._queryIdentifier,i=e.views.get(a);if(!i){let l=s_(r,s?n:null),c=!1;l?c=!0:n instanceof vt?(l=dj(r,n),c=!1):(l=vt.EMPTY_NODE,c=!1);const u=Ww(new _u(l,c,!1),new _u(n,s,!1));return new qfe(t,u)}return i}function nhe(e,t,r,n,s,a){const i=yB(e,t,n,s,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,i),Zfe(i,r),Jfe(i,r)}function she(e,t,r,n){const s=t._queryIdentifier,a=[];let i=[];const l=wu(e);if(s==="default")for(const[c,u]of e.views.entries())i=i.concat(yM(u,r,n)),xM(u)&&(e.views.delete(c),u.query._queryParams.loadsAllData()||a.push(u.query));else{const c=e.views.get(s);c&&(i=i.concat(yM(c,r,n)),xM(c)&&(e.views.delete(s),c.query._queryParams.loadsAllData()||a.push(c.query)))}return l&&!wu(e)&&a.push(new(the())(t._repo,t._path)),{removed:a,events:i}}function _B(e){const t=[];for(const r of e.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function lu(e,t){let r=null;for(const n of e.views.values())r=r||Qfe(n,t);return r}function wB(e,t){if(t._queryParams.loadsAllData())return zw(e);{const n=t._queryIdentifier;return e.views.get(n)}}function bB(e,t){return wB(e,t)!=null}function wu(e){return zw(e)!=null}function zw(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l_;function ahe(e){Le(!l_,"__referenceConstructor has already been defined"),l_=e}function ihe(){return Le(l_,"Reference.ts has not been loaded"),l_}let ohe=1;class wM{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Pr(null),this.pendingWriteTree_=Mfe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pj(e,t,r,n,s){return Efe(e.pendingWriteTree_,t,r,n,s),s?tp(e,new Qd(lj(),t,r)):[]}function lhe(e,t,r,n){Tfe(e.pendingWriteTree_,t,r,n);const s=Pr.fromObject(r);return tp(e,new pm(lj(),t,s))}function zc(e,t,r=!1){const n=Cfe(e.pendingWriteTree_,t);if(Nfe(e.pendingWriteTree_,t)){let a=new Pr(null);return n.snap!=null?a=a.set(or(),!0):is(n.children,i=>{a=a.set(new Sr(i),!0)}),tp(e,new r_(n.path,a,r))}else return[]}function Pg(e,t,r){return tp(e,new Qd(cj(),t,r))}function che(e,t,r){const n=Pr.fromObject(r);return tp(e,new pm(cj(),t,n))}function uhe(e,t){return tp(e,new Dv(cj(),t))}function dhe(e,t,r){const n=vj(e,r);if(n){const s=gj(n),a=s.path,i=s.queryId,l=Rs(a,t),c=new Dv(uj(i),l);return xj(e,a,c)}else return[]}function c_(e,t,r,n,s=!1){const a=t._path,i=e.syncPointTree_.get(a);let l=[];if(i&&(t._queryIdentifier==="default"||bB(i,t))){const c=she(i,t,r,n);rhe(i)&&(e.syncPointTree_=e.syncPointTree_.remove(a));const u=c.removed;if(l=c.events,!s){const d=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=e.syncPointTree_.findOnPath(a,(h,p)=>wu(p));if(d&&!f){const h=e.syncPointTree_.subtree(a);if(!h.isEmpty()){const p=mhe(h);for(let x=0;x<p.length;++x){const m=p[x],g=m.query,_=CB(e,m);e.listenProvider_.startListening(I0(g),Rv(e,g),_.hashFn,_.onComplete)}}}!f&&u.length>0&&!n&&(d?e.listenProvider_.stopListening(I0(t),null):u.forEach(h=>{const p=e.queryToTagMap.get(Yw(h));e.listenProvider_.stopListening(I0(h),p)}))}phe(e,u)}return l}function SB(e,t,r,n){const s=vj(e,n);if(s!=null){const a=gj(s),i=a.path,l=a.queryId,c=Rs(i,t),u=new Qd(uj(l),c,r);return xj(e,i,u)}else return[]}function fhe(e,t,r,n){const s=vj(e,n);if(s){const a=gj(s),i=a.path,l=a.queryId,c=Rs(i,t),u=Pr.fromObject(r),d=new pm(uj(l),c,u);return xj(e,i,d)}else return[]}function cC(e,t,r,n=!1){const s=t._path;let a=null,i=!1;e.syncPointTree_.foreachOnPath(s,(h,p)=>{const x=Rs(h,s);a=a||lu(p,x),i=i||wu(p)});let l=e.syncPointTree_.get(s);l?(i=i||wu(l),a=a||lu(l,or())):(l=new xB,e.syncPointTree_=e.syncPointTree_.set(s,l));let c;a!=null?c=!0:(c=!1,a=vt.EMPTY_NODE,e.syncPointTree_.subtree(s).foreachChild((p,x)=>{const m=lu(x,or());m&&(a=a.updateImmediateChild(p,m))}));const u=bB(l,t);if(!u&&!t._queryParams.loadsAllData()){const h=Yw(t);Le(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=vhe();e.queryToTagMap.set(h,p),e.tagToQueryMap.set(p,h)}const d=Vw(e.pendingWriteTree_,s);let f=nhe(l,t,r,d,a,c);if(!u&&!i&&!n){const h=wB(l,t);f=f.concat(ghe(e,t,h))}return f}function Hw(e,t,r){const s=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(i,l)=>{const c=Rs(i,t),u=lu(l,c);if(u)return u});return fB(s,t,a,r,!0)}function hhe(e,t){const r=t._path;let n=null;e.syncPointTree_.foreachOnPath(r,(u,d)=>{const f=Rs(u,r);n=n||lu(d,f)});let s=e.syncPointTree_.get(r);s?n=n||lu(s,or()):(s=new xB,e.syncPointTree_=e.syncPointTree_.set(r,s));const a=n!=null,i=a?new _u(n,!0,!1):null,l=Vw(e.pendingWriteTree_,t._path),c=yB(s,t,l,a?i.getNode():vt.EMPTY_NODE,a);return Xfe(c)}function tp(e,t){return EB(t,e.syncPointTree_,null,Vw(e.pendingWriteTree_,or()))}function EB(e,t,r,n){if(Wt(e.path))return TB(e,t,r,n);{const s=t.get(or());r==null&&s!=null&&(r=lu(s,or()));let a=[];const i=Bt(e.path),l=e.operationForChild(i),c=t.children.get(i);if(c&&l){const u=r?r.getImmediateChild(i):null,d=hB(n,i);a=a.concat(EB(l,c,u,d))}return s&&(a=a.concat(mj(s,e,n,r))),a}}function TB(e,t,r,n){const s=t.get(or());r==null&&s!=null&&(r=lu(s,or()));let a=[];return t.children.inorderTraversal((i,l)=>{const c=r?r.getImmediateChild(i):null,u=hB(n,i),d=e.operationForChild(i);d&&(a=a.concat(TB(d,l,c,u)))}),s&&(a=a.concat(mj(s,e,n,r))),a}function CB(e,t){const r=t.query,n=Rv(e,r);return{hashFn:()=>(Kfe(t)||vt.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return n?dhe(e,r._path,n):uhe(e,r._path);{const a=cde(s,r);return c_(e,r,null,a)}}}}function Rv(e,t){const r=Yw(t);return e.queryToTagMap.get(r)}function Yw(e){return e._path.toString()+"$"+e._queryIdentifier}function vj(e,t){return e.tagToQueryMap.get(t)}function gj(e){const t=e.indexOf("$");return Le(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Sr(e.substr(0,t))}}function xj(e,t,r){const n=e.syncPointTree_.get(t);Le(n,"Missing sync point for query tag that we're tracking");const s=Vw(e.pendingWriteTree_,t);return mj(n,r,s,null)}function mhe(e){return e.fold((t,r,n)=>{if(r&&wu(r))return[zw(r)];{let s=[];return r&&(s=_B(r)),is(n,(a,i)=>{s=s.concat(i)}),s}})}function I0(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ihe())(e._repo,e._path):e}function phe(e,t){for(let r=0;r<t.length;++r){const n=t[r];if(!n._queryParams.loadsAllData()){const s=Yw(n),a=e.queryToTagMap.get(s);e.queryToTagMap.delete(s),e.tagToQueryMap.delete(a)}}}function vhe(){return ohe++}function ghe(e,t,r){const n=t._path,s=Rv(e,t),a=CB(e,r),i=e.listenProvider_.startListening(I0(t),s,a.hashFn,a.onComplete),l=e.syncPointTree_.subtree(n);if(s)Le(!wu(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((u,d,f)=>{if(!Wt(u)&&d&&wu(d))return[zw(d).query];{let h=[];return d&&(h=h.concat(_B(d).map(p=>p.query))),is(f,(p,x)=>{h=h.concat(x)}),h}});for(let u=0;u<c.length;++u){const d=c[u];e.listenProvider_.stopListening(I0(d),Rv(e,d))}}return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new yj(r)}node(){return this.node_}}class _j{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=cn(this.path_,t);return new _j(this.syncTree_,r)}node(){return Hw(this.syncTree_,this.path_)}}const xhe=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},bM=function(e,t,r){if(!e||typeof e!="object")return e;if(Le(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return yhe(e[".sv"],t,r);if(typeof e[".sv"]=="object")return _he(e[".sv"],t);Le(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},yhe=function(e,t,r){switch(e){case"timestamp":return r.timestamp;default:Le(!1,"Unexpected server value: "+e)}},_he=function(e,t,r){e.hasOwnProperty("increment")||Le(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const n=e.increment;typeof n!="number"&&Le(!1,"Unexpected increment value: "+n);const s=t.node();if(Le(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return n;const i=s.getValue();return typeof i!="number"?n:i+n},NB=function(e,t,r,n){return bj(t,new _j(r,e),n)},wj=function(e,t,r){return bj(e,new yj(t),r)};function bj(e,t,r){const n=e.getPriority().val(),s=bM(n,t.getImmediateChild(".priority"),r);let a;if(e.isLeafNode()){const i=e,l=bM(i.getValue(),t,r);return l!==i.getValue()||s!==i.getPriority().val()?new Bn(l,Tn(s)):e}else{const i=e;return a=i,s!==i.getPriority().val()&&(a=a.updatePriority(new Bn(s))),i.forEachChild(Qr,(l,c)=>{const u=bj(c,t.getImmediateChild(l),r);u!==c&&(a=a.updateImmediateChild(l,u))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(t="",r=null,n={children:{},childCount:0}){this.name=t,this.parent=r,this.node=n}}function Gw(e,t){let r=t instanceof Sr?t:new Sr(t),n=e,s=Bt(r);for(;s!==null;){const a=Hd(n.node.children,s)||{children:{},childCount:0};n=new Sj(s,n,a),r=Or(r),s=Bt(r)}return n}function Ef(e){return e.node.value}function Ej(e,t){e.node.value=t,uC(e)}function kB(e){return e.node.childCount>0}function whe(e){return Ef(e)===void 0&&!kB(e)}function qw(e,t){is(e.node.children,(r,n)=>{t(new Sj(r,e,n))})}function jB(e,t,r,n){r&&!n&&t(e),qw(e,s=>{jB(s,t,!0,n)}),r&&n&&t(e)}function bhe(e,t,r){let n=e.parent;for(;n!==null;){if(t(n))return!0;n=n.parent}return!1}function Og(e){return new Sr(e.parent===null?e.name:Og(e.parent)+"/"+e.name)}function uC(e){e.parent!==null&&She(e.parent,e.name,e)}function She(e,t,r){const n=whe(r),s=to(e.node.children,t);n&&s?(delete e.node.children[t],e.node.childCount--,uC(e)):!n&&!s&&(e.node.children[t]=r.node,e.node.childCount++,uC(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ehe=/[\[\].#$\/\u0000-\u001F\u007F]/,The=/[\[\].#$\u0000-\u001F\u007F]/,RE=10*1024*1024,Tj=function(e){return typeof e=="string"&&e.length!==0&&!Ehe.test(e)},AB=function(e){return typeof e=="string"&&e.length!==0&&!The.test(e)},Che=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),AB(e)},u_=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Xk(e)||e&&typeof e=="object"&&to(e,".sv")},Dg=function(e,t,r,n){n&&t===void 0||Rg(Dw(e,"value"),t,r)},Rg=function(e,t,r){const n=r instanceof Sr?new Vde(r,e):r;if(t===void 0)throw new Error(e+"contains undefined "+od(n));if(typeof t=="function")throw new Error(e+"contains a function "+od(n)+" with contents = "+t.toString());if(Xk(t))throw new Error(e+"contains "+t.toString()+" "+od(n));if(typeof t=="string"&&t.length>RE/3&&Rw(t)>RE)throw new Error(e+"contains a string greater than "+RE+" utf8 bytes "+od(n)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let s=!1,a=!1;if(is(t,(i,l)=>{if(i===".value")s=!0;else if(i!==".priority"&&i!==".sv"&&(a=!0,!Tj(i)))throw new Error(e+" contains an invalid key ("+i+") "+od(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);zde(n,i),Rg(e,l,n),Hde(n)}),s&&a)throw new Error(e+' contains ".value" child '+od(n)+" in addition to actual children.")}},Nhe=function(e,t){let r,n;for(r=0;r<t.length;r++){n=t[r];const a=jv(n);for(let i=0;i<a.length;i++)if(!(a[i]===".priority"&&i===a.length-1)){if(!Tj(a[i]))throw new Error(e+"contains an invalid key ("+a[i]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Wde);let s=null;for(r=0;r<t.length;r++){if(n=t[r],s!==null&&ri(s,n))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+n.toString());s=n}},khe=function(e,t,r,n){const s=Dw(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(s+" must be an object containing the children to replace.");const a=[];is(t,(i,l)=>{const c=new Sr(i);if(Rg(s,l,cn(r,c)),tj(c)===".priority"&&!u_(l))throw new Error(s+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(c)}),Nhe(s,a)},Cj=function(e,t,r,n){if(!AB(r))throw new Error(Dw(e,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jhe=function(e,t,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Cj(e,t,r)},Kw=function(e,t){if(Bt(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Ahe=function(e,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Tj(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!Che(r))throw new Error(Dw(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Phe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xw(e,t){let r=null;for(let n=0;n<t.length;n++){const s=t[n],a=s.getPath();r!==null&&!rj(a,r.path)&&(e.eventLists_.push(r),r=null),r===null&&(r={events:[],path:a}),r.events.push(s)}r&&e.eventLists_.push(r)}function PB(e,t,r){Xw(e,r),OB(e,n=>rj(n,t))}function Pa(e,t,r){Xw(e,r),OB(e,n=>ri(n,t)||ri(t,n))}function OB(e,t){e.recursionDepth_++;let r=!0;for(let n=0;n<e.eventLists_.length;n++){const s=e.eventLists_[n];if(s){const a=s.path;t(a)?(Ohe(e.eventLists_[n]),e.eventLists_[n]=null):r=!1}}r&&(e.eventLists_=[]),e.recursionDepth_--}function Ohe(e){for(let t=0;t<e.events.length;t++){const r=e.events[t];if(r!==null){e.events[t]=null;const n=r.getEventRunner();P0&&es("event: "+r.toString()),ep(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dhe="repo_interrupt",Rhe=25;class Ihe{constructor(t,r,n,s){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Phe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=t_(),this.transactionQueueTree_=new Sj,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Mhe(e,t,r){if(e.stats_=Jk(e.repoInfo_),e.forceRestClient_||hde())e.server_=new e_(e.repoInfo_,(n,s,a,i)=>{SM(e,n,s,a,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>EM(e,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{In(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}e.persistentConnection_=new Cl(e.repoInfo_,t,(n,s,a,i)=>{SM(e,n,s,a,i)},n=>{EM(e,n)},n=>{Fhe(e,n)},e.authTokenProvider_,e.appCheckProvider_,r),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(n=>{e.server_.refreshAuthToken(n)}),e.appCheckProvider_.addTokenChangeListener(n=>{e.server_.refreshAppCheckToken(n.token)}),e.statsReporter_=xde(e.repoInfo_,()=>new xfe(e.stats_,e.server_)),e.infoData_=new hfe,e.infoSyncTree_=new wM({startListening:(n,s,a,i)=>{let l=[];const c=e.infoData_.getNode(n._path);return c.isEmpty()||(l=Pg(e.infoSyncTree_,n._path,c),setTimeout(()=>{i("ok")},0)),l},stopListening:()=>{}}),Nj(e,"connected",!1),e.serverSyncTree_=new wM({startListening:(n,s,a,i)=>(e.server_.listen(n,a,s,(l,c)=>{const u=i(l,c);Pa(e.eventQueue_,n._path,u)}),[]),stopListening:(n,s)=>{e.server_.unlisten(n,s)}})}function DB(e){const r=e.infoData_.getNode(new Sr(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Ig(e){return xhe({timestamp:DB(e)})}function SM(e,t,r,n,s){e.dataUpdateCount++;const a=new Sr(t);r=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,r):r;let i=[];if(s)if(n){const c=Vy(r,u=>Tn(u));i=fhe(e.serverSyncTree_,a,c,s)}else{const c=Tn(r);i=SB(e.serverSyncTree_,a,c,s)}else if(n){const c=Vy(r,u=>Tn(u));i=che(e.serverSyncTree_,a,c)}else{const c=Tn(r);i=Pg(e.serverSyncTree_,a,c)}let l=a;i.length>0&&(l=gm(e,a)),Pa(e.eventQueue_,l,i)}function EM(e,t){Nj(e,"connected",t),t===!1&&Bhe(e)}function Fhe(e,t){is(t,(r,n)=>{Nj(e,r,n)})}function Nj(e,t,r){const n=new Sr("/.info/"+t),s=Tn(r);e.infoData_.updateSnapshot(n,s);const a=Pg(e.infoSyncTree_,n,s);Pa(e.eventQueue_,n,a)}function Qw(e){return e.nextWriteId_++}function Lhe(e,t,r){const n=hhe(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(s=>{const a=Tn(s).withIndex(t._queryParams.getIndex());cC(e.serverSyncTree_,t,r,!0);let i;if(t._queryParams.loadsAllData())i=Pg(e.serverSyncTree_,t._path,a);else{const l=Rv(e.serverSyncTree_,t);i=SB(e.serverSyncTree_,t._path,a,l)}return Pa(e.eventQueue_,t._path,i),c_(e.serverSyncTree_,t,r,null,!0),a},s=>(rp(e,"get for query "+In(t)+" failed: "+s),Promise.reject(new Error(s))))}function $he(e,t,r,n,s){rp(e,"set",{path:t.toString(),value:r,priority:n});const a=Ig(e),i=Tn(r,n),l=Hw(e.serverSyncTree_,t),c=wj(i,l,a),u=Qw(e),d=pj(e.serverSyncTree_,t,c,u,!0);Xw(e.eventQueue_,d),e.server_.put(t.toString(),i.val(!0),(h,p)=>{const x=h==="ok";x||Fs("set at "+t+" failed: "+h);const m=zc(e.serverSyncTree_,u,!x);Pa(e.eventQueue_,t,m),dC(e,s,h,p)});const f=jj(e,t);gm(e,f),Pa(e.eventQueue_,f,[])}function Uhe(e,t,r,n){rp(e,"update",{path:t.toString(),value:r});let s=!0;const a=Ig(e),i={};if(is(r,(l,c)=>{s=!1,i[l]=NB(cn(t,l),Tn(c),e.serverSyncTree_,a)}),s)es("update() called with empty data.  Don't do anything."),dC(e,n,"ok",void 0);else{const l=Qw(e),c=lhe(e.serverSyncTree_,t,i,l);Xw(e.eventQueue_,c),e.server_.merge(t.toString(),r,(u,d)=>{const f=u==="ok";f||Fs("update at "+t+" failed: "+u);const h=zc(e.serverSyncTree_,l,!f),p=h.length>0?gm(e,t):t;Pa(e.eventQueue_,p,h),dC(e,n,u,d)}),is(r,u=>{const d=jj(e,cn(t,u));gm(e,d)}),Pa(e.eventQueue_,t,[])}}function Bhe(e){rp(e,"onDisconnectEvents");const t=Ig(e),r=t_();nC(e.onDisconnect_,or(),(s,a)=>{const i=NB(s,a,e.serverSyncTree_,t);lB(r,s,i)});let n=[];nC(r,or(),(s,a)=>{n=n.concat(Pg(e.serverSyncTree_,s,a));const i=jj(e,s);gm(e,i)}),e.onDisconnect_=t_(),Pa(e.eventQueue_,or(),n)}function Whe(e,t,r){let n;Bt(t._path)===".info"?n=cC(e.infoSyncTree_,t,r):n=cC(e.serverSyncTree_,t,r),PB(e.eventQueue_,t._path,n)}function Vhe(e,t,r){let n;Bt(t._path)===".info"?n=c_(e.infoSyncTree_,t,r):n=c_(e.serverSyncTree_,t,r),PB(e.eventQueue_,t._path,n)}function zhe(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Dhe)}function rp(e,...t){let r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),es(r,...t)}function dC(e,t,r,n){t&&ep(()=>{if(r==="ok")t(null);else{const s=(r||"error").toUpperCase();let a=s;n&&(a+=": "+n);const i=new Error(a);i.code=s,t(i)}})}function Hhe(e,t,r,n,s,a){rp(e,"transaction on "+t);const i={path:t,update:r,onComplete:n,status:null,order:PU(),applyLocally:a,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=kj(e,t,void 0);i.currentInputSnapshot=l;const c=i.update(l.val());if(c===void 0)i.unwatcher(),i.currentOutputSnapshotRaw=null,i.currentOutputSnapshotResolved=null,i.onComplete&&i.onComplete(null,!1,i.currentInputSnapshot);else{Rg("transaction failed: Data returned ",c,i.path),i.status=0;const u=Gw(e.transactionQueueTree_,t),d=Ef(u)||[];d.push(i),Ej(u,d);let f;typeof c=="object"&&c!==null&&to(c,".priority")?(f=Hd(c,".priority"),Le(u_(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Hw(e.serverSyncTree_,t)||vt.EMPTY_NODE).getPriority().val();const h=Ig(e),p=Tn(c,f),x=wj(p,l,h);i.currentOutputSnapshotRaw=p,i.currentOutputSnapshotResolved=x,i.currentWriteId=Qw(e);const m=pj(e.serverSyncTree_,t,x,i.currentWriteId,i.applyLocally);Pa(e.eventQueue_,t,m),Zw(e,e.transactionQueueTree_)}}function kj(e,t,r){return Hw(e.serverSyncTree_,t,r)||vt.EMPTY_NODE}function Zw(e,t=e.transactionQueueTree_){if(t||Jw(e,t),Ef(t)){const r=IB(e,t);Le(r.length>0,"Sending zero length transaction queue"),r.every(s=>s.status===0)&&Yhe(e,Og(t),r)}else kB(t)&&qw(t,r=>{Zw(e,r)})}function Yhe(e,t,r){const n=r.map(u=>u.currentWriteId),s=kj(e,t,n);let a=s;const i=s.hash();for(let u=0;u<r.length;u++){const d=r[u];Le(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=Rs(t,d.path);a=a.updateChild(f,d.currentOutputSnapshotRaw)}const l=a.val(!0),c=t;e.server_.put(c.toString(),l,u=>{rp(e,"transaction put response",{path:c.toString(),status:u});let d=[];if(u==="ok"){const f=[];for(let h=0;h<r.length;h++)r[h].status=2,d=d.concat(zc(e.serverSyncTree_,r[h].currentWriteId)),r[h].onComplete&&f.push(()=>r[h].onComplete(null,!0,r[h].currentOutputSnapshotResolved)),r[h].unwatcher();Jw(e,Gw(e.transactionQueueTree_,t)),Zw(e,e.transactionQueueTree_),Pa(e.eventQueue_,t,d);for(let h=0;h<f.length;h++)ep(f[h])}else{if(u==="datastale")for(let f=0;f<r.length;f++)r[f].status===3?r[f].status=4:r[f].status=0;else{Fs("transaction at "+c.toString()+" failed: "+u);for(let f=0;f<r.length;f++)r[f].status=4,r[f].abortReason=u}gm(e,t)}},i)}function gm(e,t){const r=RB(e,t),n=Og(r),s=IB(e,r);return Ghe(e,s,n),n}function Ghe(e,t,r){if(t.length===0)return;const n=[];let s=[];const i=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const c=t[l],u=Rs(r,c.path);let d=!1,f;if(Le(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,f=c.abortReason,s=s.concat(zc(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Rhe)d=!0,f="maxretry",s=s.concat(zc(e.serverSyncTree_,c.currentWriteId,!0));else{const h=kj(e,c.path,i);c.currentInputSnapshot=h;const p=t[l].update(h.val());if(p!==void 0){Rg("transaction failed: Data returned ",p,c.path);let x=Tn(p);typeof p=="object"&&p!=null&&to(p,".priority")||(x=x.updatePriority(h.getPriority()));const g=c.currentWriteId,_=Ig(e),y=wj(x,h,_);c.currentOutputSnapshotRaw=x,c.currentOutputSnapshotResolved=y,c.currentWriteId=Qw(e),i.splice(i.indexOf(g),1),s=s.concat(pj(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally)),s=s.concat(zc(e.serverSyncTree_,g,!0))}else d=!0,f="nodata",s=s.concat(zc(e.serverSyncTree_,c.currentWriteId,!0))}Pa(e.eventQueue_,r,s),s=[],d&&(t[l].status=2,function(h){setTimeout(h,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(f==="nodata"?n.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):n.push(()=>t[l].onComplete(new Error(f),!1,null))))}Jw(e,e.transactionQueueTree_);for(let l=0;l<n.length;l++)ep(n[l]);Zw(e,e.transactionQueueTree_)}function RB(e,t){let r,n=e.transactionQueueTree_;for(r=Bt(t);r!==null&&Ef(n)===void 0;)n=Gw(n,r),t=Or(t),r=Bt(t);return n}function IB(e,t){const r=[];return MB(e,t,r),r.sort((n,s)=>n.order-s.order),r}function MB(e,t,r){const n=Ef(t);if(n)for(let s=0;s<n.length;s++)r.push(n[s]);qw(t,s=>{MB(e,s,r)})}function Jw(e,t){const r=Ef(t);if(r){let n=0;for(let s=0;s<r.length;s++)r[s].status!==2&&(r[n]=r[s],n++);r.length=n,Ej(t,r.length>0?r:void 0)}qw(t,n=>{Jw(e,n)})}function jj(e,t){const r=Og(RB(e,t)),n=Gw(e.transactionQueueTree_,t);return bhe(n,s=>{IE(e,s)}),IE(e,n),jB(n,s=>{IE(e,s)}),r}function IE(e,t){const r=Ef(t);if(r){const n=[];let s=[],a=-1;for(let i=0;i<r.length;i++)r[i].status===3||(r[i].status===1?(Le(a===i-1,"All SENT items should be at beginning of queue."),a=i,r[i].status=3,r[i].abortReason="set"):(Le(r[i].status===0,"Unexpected transaction status in abort"),r[i].unwatcher(),s=s.concat(zc(e.serverSyncTree_,r[i].currentWriteId,!0)),r[i].onComplete&&n.push(r[i].onComplete.bind(null,new Error("set"),!1,null))));a===-1?Ej(t,void 0):r.length=a+1,Pa(e.eventQueue_,Og(t),s);for(let i=0;i<n.length;i++)ep(n[i])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qhe(e){let t="";const r=e.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let s=r[n];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}t+="/"+s}return t}function Khe(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const r of e.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Fs(`Invalid query segment '${r}' in query '${e}'`)}return t}const TM=function(e,t){const r=Xhe(e),n=r.namespace;r.domain==="firebase.com"&&Hl(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&Hl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||sde();const s=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new zU(r.host,r.secure,n,s,t,"",n!==r.subdomain),path:new Sr(r.pathString)}},Xhe=function(e){let t="",r="",n="",s="",a="",i=!0,l="https",c=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let d=e.indexOf("/");d===-1&&(d=e.length);let f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(d,f)),d<f&&(s=qhe(e.substring(d,f)));const h=Khe(e.substring(Math.min(e.length,f)));u=t.indexOf(":"),u>=0?(i=l==="https"||l==="wss",c=parseInt(t.substring(u+1),10)):u=t.length;const p=t.slice(0,u);if(p.toLowerCase()==="localhost")r="localhost";else if(p.split(".").length<=2)r=p;else{const x=t.indexOf(".");n=t.substring(0,x).toLowerCase(),r=t.substring(x+1),a=n}"ns"in h&&(a=h.ns)}return{host:t,port:c,domain:r,subdomain:n,secure:i,scheme:l,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Qhe=function(){let e=0;const t=[];return function(r){const n=r===e;e=r;let s;const a=new Array(8);for(s=7;s>=0;s--)a[s]=CM.charAt(r%64),r=Math.floor(r/64);Le(r===0,"Cannot push at time == 0");let i=a.join("");if(n){for(s=11;s>=0&&t[s]===63;s--)t[s]=0;t[s]++}else for(s=0;s<12;s++)t[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)i+=CM.charAt(t[s]);return Le(i.length===20,"nextPushId: Length should be 20."),i}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zhe{constructor(t,r,n,s){this.eventType=t,this.eventRegistration=r,this.snapshot=n,this.prevName=s}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+In(this.snapshot.exportVal())}}class Jhe{constructor(t,r,n){this.eventRegistration=t,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return Le(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,r,n,s){this._repo=t,this._path=r,this._queryParams=n,this._orderByCalled=s}get key(){return Wt(this._path)?null:tj(this._path)}get ref(){return new zo(this._repo,this._path)}get _queryIdentifier(){const t=dM(this._queryParams),r=Qk(t);return r==="{}"?"default":r}get _queryObject(){return dM(this._queryParams)}isEqual(t){if(t=hn(t),!(t instanceof np))return!1;const r=this._repo===t._repo,n=rj(this._path,t._path),s=this._queryIdentifier===t._queryIdentifier;return r&&n&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Bde(this._path)}}function eme(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Aj(e){let t=null,r=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(r=e.getIndexEndValue()),e.getIndex()===jd){const n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Xd)throw new Error(n);if(typeof t!="string")throw new Error(s)}if(e.hasEnd()){if(e.getIndexEndName()!==xu)throw new Error(n);if(typeof r!="string")throw new Error(s)}}else if(e.getIndex()===Qr){if(t!=null&&!u_(t)||r!=null&&!u_(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Le(e.getIndex()instanceof aj||e.getIndex()===iB,"unknown index type."),t!=null&&typeof t=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function LB(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class zo extends np{constructor(t,r){super(t,r,new oj,!1)}get parent(){const t=JU(this._path);return t===null?null:new zo(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class xm{constructor(t,r,n){this._node=t,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new Sr(t),n=Iv(this.ref,t);return new xm(this._node.getChild(r),n,Qr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,s)=>t(new xm(s,Iv(this.ref,n),Qr)))}hasChild(t){const r=new Sr(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ge(e,t){return e=hn(e),e._checkNotDeleted("ref"),t!==void 0?Iv(e._root,t):e._root}function Iv(e,t){return e=hn(e),Bt(e._path)===null?jhe("child","path",t):Cj("child","path",t),new zo(e._repo,cn(e._path,t))}function ro(e,t){e=hn(e),Kw("push",e._path),Dg("push",t,e._path,!0);const r=DB(e._repo),n=Qhe(r),s=Iv(e,n),a=Iv(e,n);let i;return i=Promise.resolve(a),s.then=i.then.bind(i),s.catch=i.then.bind(i,void 0),s}function tme(e){return Kw("remove",e._path),pr(e,null)}function pr(e,t){e=hn(e),Kw("set",e._path),Dg("set",t,e._path,!1);const r=new Qm;return $he(e._repo,e._path,t,null,r.wrapCallback(()=>{})),r.promise}function sc(e,t){khe("update",t,e._path);const r=new Qm;return Uhe(e._repo,e._path,t,r.wrapCallback(()=>{})),r.promise}function Mt(e){e=hn(e);const t=new FB(()=>{}),r=new eb(t);return Lhe(e._repo,e,r).then(n=>new xm(n,new zo(e._repo,e._path),e._queryParams.getIndex()))}class eb{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const n=r._queryParams.getIndex();return new Zhe("value",this,new xm(t.snapshotNode,new zo(r._repo,r._path),n))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new Jhe(this,t,r):null}matches(t){return t instanceof eb?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function rme(e,t,r,n,s){const a=new FB(r,void 0),i=new eb(a);return Whe(e._repo,e,i),()=>Vhe(e._repo,e,i)}function Pj(e,t,r,n){return rme(e,"value",t)}class tb{}class nme extends tb{constructor(t,r){super(),this._value=t,this._key=r,this.type="endAt"}_apply(t){Dg("endAt",this._value,t._path,!0);const r=dfe(t._queryParams,this._value,this._key);if(LB(r),Aj(r),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new np(t._repo,t._path,r,t._orderByCalled)}}class sme extends tb{constructor(t,r){super(),this._value=t,this._key=r,this.type="startAt"}_apply(t){Dg("startAt",this._value,t._path,!0);const r=ufe(t._queryParams,this._value,this._key);if(LB(r),Aj(r),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new np(t._repo,t._path,r,t._orderByCalled)}}class ame extends tb{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){eme(t,"orderByChild");const r=new Sr(this._path);if(Wt(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new aj(r),s=ffe(t._queryParams,n);return Aj(s),new np(t._repo,t._path,s,!0)}}function $B(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Cj("orderByChild","path",e),new ame(e)}class ime extends tb{constructor(t,r){super(),this._value=t,this._key=r,this.type="equalTo"}_apply(t){if(Dg("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new nme(this._value,this._key)._apply(new sme(this._value,this._key)._apply(t))}}function UB(e,t){return new ime(e,t)}function BB(e,...t){let r=hn(e);for(const n of t)r=n._apply(r);return r}ehe(zo);ahe(zo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ome="FIREBASE_DATABASE_EMULATOR_HOST",fC={};let lme=!1;function cme(e,t,r,n){const s=t.lastIndexOf(":"),a=t.substring(0,s),i=Iu(a);e.repoInfo_=new zU(t,i,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,r),n&&(e.authTokenProvider_=n)}function ume(e,t,r,n,s){let a=n||e.options.databaseURL;a===void 0&&(e.options.projectId||Hl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),es("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let i=TM(a,s),l=i.repoInfo,c;typeof process<"u"&&GI&&(c=GI[ome]),c?(a=`http://${c}?ns=${l.namespace}`,i=TM(a,s),l=i.repoInfo):i.repoInfo.secure;const u=new pde(e.name,e.options,t);Ahe("Invalid Firebase Database URL",i),Wt(i.path)||Hl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=fme(l,e,u,new mde(e,r));return new hme(d,e)}function dme(e,t){const r=fC[t];(!r||r[e.key]!==e)&&Hl(`Database ${t}(${e.repoInfo_}) has already been deleted.`),zhe(e),delete r[e.key]}function fme(e,t,r,n){let s=fC[t.name];s||(s={},fC[t.name]=s);let a=s[e.toURLString()];return a&&Hl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new Ihe(e,lme,r,n),s[e.toURLString()]=a,a}class hme{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Mhe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zo(this._repo,or())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dme(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Hl("Cannot call "+t+" on a deleted database.")}}function mme(e=Mw(),t){const r=Iw(e,"database").getImmediate({identifier:t});if(!r._instanceStarted){const n=M8("database");n&&pme(r,...n)}return r}function pme(e,t,r,n={}){e=hn(e),e._checkNotDeleted("useEmulator");const s=`${t}:${r}`,a=e._repoInternal;if(e._instanceStarted){if(s===e._repoInternal.repoInfo_.host&&Yd(n,a.repoInfo_.emulatorOptions))return;Hl("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let i;if(a.repoInfo_.nodeAdmin)n.mockUserToken&&Hl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new K1(K1.OWNER);else if(n.mockUserToken){const l=typeof n.mockUserToken=="string"?n.mockUserToken:$8(n.mockUserToken,e.app.options.projectId);i=new K1(l)}Iu(t)&&(Mk(t),Fk("Database",!0)),cme(a,s,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vme(e){Jue(wf),Gd(new gu("database",(t,{instanceIdentifier:r})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return ume(n,s,a,r)},"PUBLIC").setMultipleInstances(!0)),Po(qI,KI,e),Po(qI,KI,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gme{constructor(t,r){this.committed=t,this.snapshot=r}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function xme(e,t,r){if(e=hn(e),Kw("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const n=!0,s=new Qm,a=(l,c,u)=>{let d=null;l?s.reject(l):(d=new xm(u,new zo(e._repo,e._path),Qr),s.resolve(new gme(c,d)))},i=Pj(e,()=>{});return Hhe(e._repo,e._path,t,a,i,n),s.promise}Cl.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Cl.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};vme();const WB={apiKey:"AIzaSyBXcToF3ieWgLHOoVE44vShZS5whV4U1Xw",authDomain:"sis-jpusap.firebaseapp.com",databaseURL:"https://sis-jpusap-default-rtdb.firebaseio.com",projectId:"sis-jpusap",storageBucket:"sis-jpusap.appspot.com",messagingSenderId:"784716205213",appId:"1:784716205213:web:de3a8dce709518cc841874"},VB=H8().length?Mw():Bk(WB),ym=kU(VB),qe=mme(VB),yme=H8().find(e=>e.name==="AdminApp"),_me=yme??Bk(WB,"AdminApp"),NM=kU(_me),zB=async(e,t)=>{const r=Object.fromEntries(Object.entries(t).filter(([s,a])=>a!==void 0)),n=Ge(qe,`users/${e}`);if(await pr(n,r),t.username){const s=Ge(qe,`usernames/${t.username}`);await pr(s,{uid:e,email:t.email})}await Fu({actorUid:t.uid,targetUid:e,accion:"USUARIO_CREADO",new:t})},rb=async e=>{const t=Ge(qe,`users/${e}`),r=await Mt(t);return r.exists()?r.val():null},HB=async(e,t,r)=>{const n=Ge(qe,`users/${e}`),s=await rb(e);if(await sc(n,t),t.username&&(s==null?void 0:s.username)!==t.username){if(s!=null&&s.username){const i=Ge(qe,`usernames/${s.username}`);await pr(i,null)}const a=Ge(qe,`usernames/${t.username}`);await pr(a,{uid:e,email:s==null?void 0:s.email})}await Fu({actorUid:r,targetUid:e,accion:"USUARIO_ACTUALIZADO",old:s,new:t})},wme=async(e,t,r)=>{await HB(e,{activo:t},r)},bme=async e=>{const t=Ge(qe,"users"),r=await Mt(t);return r.exists()?Object.values(r.val()):[]},Sme=async(e,t,r,n)=>{const s=Ge(qe,`permissions/${e}/${t}`),a=await Eme(e,t);await pr(s,r),await Fu({actorUid:n,targetUid:e,accion:"PERMISO_CAMBIADO",moduloId:t,old:a,new:r})},Eme=async(e,t)=>{const r=Ge(qe,`permissions/${e}/${t}`),n=await Mt(r);return n.exists()?n.val():"none"},nb=async e=>{const t=Ge(qe,`permissions/${e}`),r=await Mt(t);return r.exists()?r.val():{}},YB=async(e,t,r)=>{const n=Ge(qe,`permissions/${e}`);await pr(n,t),r&&await Fu({actorUid:r,targetUid:e,accion:"PERMISOS_ACTUALIZADOS",new:t})},Oj=async(e,t,r)=>{const n={};for(const[s,a]of Object.entries(t))n[`permissions/${e}/${s}`]=a;await sc(Ge(qe),n),await Fu({actorUid:r,targetUid:e,accion:"PERMISOS_ESPEJO_APLICADOS",new:t})},Tme=async e=>{const t=await nb(e),r=await GB(e);if(!r)return t;const n={...t};if(r.modules)for(const[s,a]of Object.entries(r.modules))(!n[s]||a==="admin"||a==="approve"&&n[s]!=="admin"||a==="write"&&!["admin","approve"].includes(n[s])||a==="read"&&n[s]==="none")&&(n[s]=a);return n},GB=async e=>{const t=Ge(qe,`delegations/${e}`),r=await Mt(t);if(!r.exists())return null;const n=r.val(),s=Date.now();return s>=n.startTs&&s<=n.endTs?n:null},Dj=async()=>{const e=Ge(qe,"roles"),t=await Mt(e);return t.exists()?Object.values(t.val()):[]},sb=async()=>{const e=Ge(qe,"modules"),t=await Mt(e);return(t.exists()?Object.values(t.val()):[]).sort((n,s)=>n.orden-s.orden)},Fu=async e=>{const t=Ge(qe,"auditLogs"),r=ro(t),n={...e,id:r.key,ts:Date.now()};await pr(r,n)},Cme=async()=>{const e=Ge(qe,"bootstrap/initialized"),t=await Mt(e);return t.exists()?t.val():!1},kM=async()=>{const e=Ge(qe,"bootstrap/initialized");await pr(e,!0)},Nme=(e,t)=>{const r=Ge(qe,`permissions/${e}`);return Pj(r,n=>{t(n.exists()?n.val():{})})},kme=(e,t)=>{const r=Ge(qe,`users/${e}`);return Pj(r,n=>{t(n.exists()?n.val():null)})},qB=w.createContext({user:null,profile:null,loading:!0,signOut:async()=>{}}),ui=()=>{const e=w.useContext(qB);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},jme=({children:e})=>{const[t,r]=w.useState(null),[n,s]=w.useState(null),[a,i]=w.useState(!0);w.useEffect(()=>{const u=$ce(ym,async d=>{console.log("🔍 AuthContext: Firebase user changed:",d==null?void 0:d.email,d==null?void 0:d.uid);try{if(d){const f={uid:d.uid,email:d.email,displayName:d.displayName??void 0};console.log("📋 AuthContext: Loading user profile for UID:",d.uid);const h=await rb(d.uid);if(console.log("👤 AuthContext: User profile loaded:",h),!h&&d.email){console.log("🔧 AuthContext: Creating basic profile for authenticated user without profile");const p={uid:d.uid,email:d.email,displayName:d.displayName||d.email.split("@")[0],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0],roleId:"usuario",etapa:"Etapa 1"};await zB(d.uid,p),s(p),r({...f,profile:p})}else s(h),r({...f,profile:h||void 0});console.log("✅ AuthContext: User state updated")}else console.log("🚪 AuthContext: User signed out"),r(null),s(null)}catch(f){console.error("❌ AuthContext: Error in auth state change:",f)}finally{i(!1)}});return()=>u()},[]),w.useEffect(()=>{if(!(t!=null&&t.uid))return;const u=kme(t.uid,d=>{s(d),r(f=>f&&{...f,profile:d||void 0})});return()=>u&&u()},[t==null?void 0:t.uid]);const l=async()=>{await Lw(ym)},c=w.useMemo(()=>({user:t,profile:n,loading:a,signOut:l}),[t,n,a]);return o.jsx(qB.Provider,{value:c,children:e})},KB=w.createContext({permissions:{},delegation:null,loading:!0,can:()=>!1,isPresidencia:!1,isAdministrador:!1,isPresidente:!1,canDeleteWithoutAuth:!1,canChangeRoles:!1,refresh:async()=>{}}),sp=()=>{const e=w.useContext(KB);if(!e)throw new Error("useAuthz must be used within AuthzProvider");return e},jM={none:0,read:1,write:2,approve:3,admin:4},Ame=({children:e})=>{const{user:t,profile:r}=ui(),[n,s]=w.useState({}),[a,i]=w.useState(null),[l,c]=w.useState(!0),u=(r==null?void 0:r.roleId)==="presidencia",d=(r==null?void 0:r.roleId)==="administrador",f=(r==null?void 0:r.roleId)==="presidencia",h=async()=>{if(!(t!=null&&t.uid)){s({}),i(null),c(!1);return}try{const[m,g]=await Promise.all([Tme(t.uid),GB(t.uid)]);s(m),i(g)}catch(m){console.error("Error loading permissions:",m),s({}),i(null)}finally{c(!1)}};w.useEffect(()=>{h()},[t==null?void 0:t.uid]),w.useEffect(()=>t!=null&&t.uid?Nme(t.uid,()=>{h()}):void 0,[t==null?void 0:t.uid]);const x={permissions:n,delegation:a,loading:l,can:(m,g)=>{if(f||d)return!0;const _=n[m]||"none",y=jM[_],S=jM[g];return y>=S},isPresidencia:u,isAdministrador:d,isPresidente:f,canDeleteWithoutAuth:f,canChangeRoles:f,refresh:h};return o.jsx(KB.Provider,{value:x,children:e})},d_=e=>(e||"").trim().toLowerCase(),Pme=(e,t)=>{const r=d_(e)==="presidencia@jpusap.com",n=d_(t||"")==="super_admin";return r||n},Ome=(e,t)=>t?(Array.isArray(t)?t:[t]).map(d_).includes(d_(e||"")):!0,zs=({children:e,requireRole:t})=>{var a,i;const{user:r,loading:n}=ui(),s=ec();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx(Ul,{className:"h-8 w-8 animate-spin"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Verificando autenticación..."})]})}):r?Pme(r.email,(a=r.profile)==null?void 0:a.roleId)?o.jsx(o.Fragment,{children:e}):t&&!Ome((i=r.profile)==null?void 0:i.roleId,t)?o.jsx(WT,{to:"/inicio",replace:!0}):o.jsx(o.Fragment,{children:e}):o.jsx(WT,{to:"/login",state:{from:s},replace:!0})},ke=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ye("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ke.displayName="Card";const Qe=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ye("flex flex-col space-y-1.5 p-6",e),...t}));Qe.displayName="CardHeader";const Ze=w.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:Ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ze.displayName="CardTitle";const Qt=w.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:Ye("text-sm text-muted-foreground",e),...t}));Qt.displayName="CardDescription";const Ae=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ye("p-6 pt-0",e),...t}));Ae.displayName="CardContent";const Dme=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ye("flex items-center p-6 pt-0",e),...t}));Dme.displayName="CardFooter";const Mv=Vm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_e=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?V5:"button";return o.jsx(i,{className:Ye(Mv({variant:t,size:r,className:e})),ref:a,...s})});_e.displayName="Button";const Rme=Vm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ap=w.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:Ye(Rme({variant:t}),e),...r}));ap.displayName="Alert";const Ime=w.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:Ye("mb-1 font-medium leading-none tracking-tight",e),...t}));Ime.displayName="AlertTitle";const ip=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ye("text-sm [&_p]:leading-relaxed",e),...t}));ip.displayName="AlertDescription";const Lu="empadronados",XB=e=>String(e).padStart(2,"0"),Mme=e=>`${e.getFullYear()}-${XB(e.getMonth()+1)}`,Fme=e=>e.replace("-",""),Lme=(e,t)=>{const[r,n]=e.split("-").map(Number),s=new Date(r,n-1+t,1);return`${s.getFullYear()}-${XB(s.getMonth()+1)}`},$me=(e,t)=>{const[r,n]=e.split("-").map(Number),[s,a]=t.split("-").map(Number);return(s-r)*12+(a-n)},QB="2025-01",Ume=async()=>{const e=await Mt(Ge(qe,"cobranzas/configuracion"));if(!e.exists())return{montoMensual:50,diaVencimiento:15};const t=e.val();return{montoMensual:Number(t.montoMensual??50),diaVencimiento:Number(t.diaVencimiento??15)}},Bme=async(e,t,r="system")=>{const n=Number(t.slice(0,4)),s=Number(t.slice(5,7)),a=Fme(t),i=Ge(qe,`cobranzas/pagos_index/${e.id}/${a}`);if(!(await xme(i,x=>x||{createdAt:Date.now()})).committed)return!1;const{montoMensual:c,diaVencimiento:u}=await Ume(),d=new Date(n,s-1,u).toLocaleDateString("es-PE"),f=Ge(qe,"cobranzas/pagos"),h=ro(f),p={id:h.key,empadronadoId:e.id,numeroPadron:e.numeroPadron||"",mes:s,año:n,monto:c,montoOriginal:c,fechaVencimiento:d,estado:"pendiente",descuentos:[],recargos:[],createdAt:Date.now(),updatedAt:Date.now(),creadoPor:r};return await pr(h,p),!0},ZB=async(e,t=QB,r="system")=>{const n=await Mt(Ge(qe,`${Lu}/${e}`));if(!n.exists())return 0;const s=n.val(),i=Mme(new Date),l=$me(t,i);let c=0;for(let u=0;u<=l;u++){const d=Lme(t,u);await Bme({id:e,numeroPadron:s.numeroPadron},d,r)&&c++}return c},f_=e=>{if(Array.isArray(e))return e.map(f_).filter(t=>t!==void 0);if(e!==null&&typeof e=="object"){const t={};return Object.keys(e).forEach(r=>{const n=f_(e[r]);n!==void 0&&(t[r]=n)}),t}return e},JB=async(e,t,r)=>{await sc(Ge(qe,`${Lu}/${e}`),{authUid:t,emailAcceso:r,updatedAt:Date.now()})},e9=async(e,t)=>{try{const r=ro(Ge(qe,Lu)),n=r.key,s={...e,id:n,createdAt:Date.now(),updatedAt:Date.now(),creadoPor:t},a=f_(s);return await pr(r,a),await ZB(n,QB,t),await Fu({actorUid:t,accion:"crear_empadronado",moduloId:"empadronados",new:s}),n}catch(r){return console.error("Error creating empadronado:",r),null}},Tf=async()=>{try{const e=await Mt(Ge(qe,Lu));if(!e.exists())return[];const t=e.val();return Object.values(t)}catch(e){return console.error("Error getting empadronados:",e),[]}},Mg=async e=>{try{const t=await Mt(Ge(qe,`${Lu}/${e}`));return t.exists()?t.val():null}catch(t){return console.error("Error getting empadronado:",t),null}},Rj=Mg,t9=async(e,t,r)=>{try{const n=await Mg(e);if(!n)return!1;const s=f_({...t,updatedAt:Date.now(),modificadoPor:r});return await sc(Ge(qe,`${Lu}/${e}`),s),await Fu({actorUid:r,targetUid:e,accion:"actualizar_empadronado",moduloId:"empadronados",old:n,new:{...n,...s}}),!0}catch(n){return console.error("Error updating empadronado:",n),!1}},r9=async(e,t,r)=>{try{const n=await Mg(e);return n?(await tme(Ge(qe,`${Lu}/${e}`)),await Fu({actorUid:t,targetUid:e,accion:"eliminar_empadronado",moduloId:"empadronados",old:n,new:{motivo:r}}),!0):!1}catch(n){return console.error("Error deleting empadronado:",n),!1}},n9=async e=>{try{const t=await Tf(),r=(e||"").toLowerCase();return t.filter(n=>{const a=Array.isArray(n.miembrosFamilia)&&n.miembrosFamilia.some(i=>String((i==null?void 0:i.nombre)||"").toLowerCase().includes(r)||String((i==null?void 0:i.apellidos)||"").toLowerCase().includes(r));return String(n.nombre||"").toLowerCase().includes(r)||String(n.apellidos||"").toLowerCase().includes(r)||String(n.numeroPadron||"").toLowerCase().includes(r)||String(n.dni||"").toLowerCase().includes(r)||!!a})}catch(t){return console.error("Error searching empadronados:",t),[]}},s9=async()=>{try{const e=await Tf();return{total:e.length,viven:e.filter(t=>!!t.vive).length,construida:e.filter(t=>t.estadoVivienda==="construida").length,construccion:e.filter(t=>t.estadoVivienda==="construccion").length,terreno:e.filter(t=>t.estadoVivienda==="terreno").length,masculinos:e.filter(t=>t.genero==="masculino").length,femeninos:e.filter(t=>t.genero==="femenino").length,habilitados:e.filter(t=>!!t.habilitado).length}}catch(e){return console.error("Error getting stats:",e),{total:0,viven:0,construida:0,construccion:0,terreno:0,masculinos:0,femeninos:0,habilitados:0}}},a9=async(e,t)=>{try{return!(await Tf()).some(n=>n.numeroPadron===e&&n.id!==t)}catch(r){return console.error("Error checking numero padron:",r),!1}},i9=async e=>{try{const t=Ge(qe,Lu),r=BB(t,$B("authUid"),UB(e)),n=await Mt(r);if(!n.exists())return null;let s=null;return n.forEach(a=>{s={id:a.key,...a.val()}}),s}catch(t){return console.error("Error getting empadronado by authUid:",t),null}},Wme=Object.freeze(Object.defineProperty({__proto__:null,createEmpadronado:e9,deleteEmpadronado:r9,ensureChargesForNewMember:ZB,getEmpadronado:Mg,getEmpadronadoById:Rj,getEmpadronados:Tf,getEmpadronadosStats:s9,isNumeroPadronUnique:a9,linkAuthToEmpadronado:JB,obtenerEmpadronadoPorAuthUid:i9,searchEmpadronados:n9,updateEmpadronado:t9},Symbol.toStringTag,{value:"Module"})),Nl=e=>(e||"").trim().toLowerCase(),hC="presidencia@jpusap.com",Vme=async e=>{const t=Nl(e);if(!t)return null;const r=Ge(qe,`usernames/${t}`),n=await Mt(r);return n.exists()?String(n.val().email||""):null},zme=async e=>{const t=Nl(e);if(!t)return;const r=Ge(qe,`usernames/${t}`);if((await Mt(r)).exists())throw new Error(`El usuario "${t}" ya está en uso`)},Hme=async(e,t)=>{let r=e;if(console.log("🔐 Login attempt:",e),e.includes("@"))r=Nl(r);else{console.log("🔍 Resolviendo username en RTDB...");const a=await Vme(e);if(!a){console.log("❌ Username no encontrado");const i=Ge(qe,"usernames"),l=await Mt(i);throw l.exists()&&console.log("🧭 Usernames disponibles:",Object.keys(l.val())),new Error("Usuario no encontrado")}r=a,console.log("✅ Username resuelto a email:",r)}console.log("🔑 Firebase Auth signIn...");const n=await Mce(ym,r,t);console.log("✅ Auth OK, leyendo perfil...");const s=await rb(n.user.uid);if(console.log("👤 Perfil:",s),!(s!=null&&s.activo)){if(Nl(s==null?void 0:s.roleId)==="presidencia"||Nl(r)===hC)try{return await HB(n.user.uid,{activo:!0},n.user.uid),console.log("✅ Presidencia activada automáticamente"),n}catch(a){console.error("❌ Error auto-activando Presidencia:",a)}throw await Lw(ym),new Error("USUARIO_SUSPENDIDO: Tu acceso está deshabilitado, contacta a Presidencia.")}return console.log("✅ Login exitoso"),n},op=async e=>{const{password:t,email:r,username:n,roleId:s,empadronadoId:a,...i}=e,l=Nl(r),c=Nl(n);if(console.log("🔧 createUserAndProfile:",{email:l,username:c,displayName:e.displayName,roleId:e.roleId,empadronadoId:a}),l===hC&&Nl(s)!=="presidencia")throw new Error(`El correo ${hC} solo puede usarse con el rol "presidencia".`);await zme(c),console.log("🔐 Creando usuario en Auth (adminAuth)...");const d=(await Ice(NM,l,t)).user.uid;console.log("✅ Usuario Auth creado UID:",d);try{console.log("💾 Creando perfil en RTDB...");const f={...i,email:l,username:c||null,roleId:s,uid:d,createdAt:Date.now(),empadronadoId:a||null,phone:i.phone||null};return await zB(d,f),a&&(await Rj(a)?(await JB(a,d,l),console.log("🔗 Empadronado vinculado al usuario.")):console.warn("⚠️ Empadronado no encontrado para empadronadoId:",a)),console.log("✅ Perfil creado y todo OK"),d}finally{console.log("🚪 Cerrando sesión adminAuth..."),await Lw(NM),console.log("✅ adminAuth signOut")}},Yme=async(e,t)=>{if(!await Rj(e))throw new Error("Empadronado no encontrado");return await op({displayName:t.displayName,email:t.email,username:t.username,phone:t.phone,roleId:t.roleId||"asociado",activo:!0,password:t.password,empadronadoId:e,tipoUsuario:"asociado"})},Gme=async e=>{await Rce(ym,Nl(e))},qme=async()=>{await Lw(ym)},o9=async()=>{const e=Ge(qe,"bootstrap/initialized"),t=await Mt(e);return t.exists()?t.val():!1},l9=async()=>{const e=Ge(qe,"bootstrap/initialized");await pr(e,!0)},c9=async()=>{const e={presidencia:{id:"presidencia",nombre:"Presidente",descripcion:"Presidente de la Junta Vecinal - Administrador General del Sistema",orden:1},vicepresidencia:{id:"vicepresidencia",nombre:"Vicepresidencia",descripcion:"Vicepresidente de la Junta Vecinal",orden:2},economia:{id:"economia",nombre:"Economía",descripcion:"Responsable de finanzas y tesorería",orden:3},seguridad:{id:"seguridad",nombre:"Seguridad",descripcion:"Coordinador de seguridad vecinal",orden:4},actas_archivos:{id:"actas_archivos",nombre:"Actas y Archivos",descripcion:"Secretario de actas y archivo",orden:5},fiscal:{id:"fiscal",nombre:"Fiscal",descripcion:"Órgano de control y fiscalización",orden:6},deportes:{id:"deportes",nombre:"Deportes",descripcion:"Coordinador de actividades deportivas",orden:7},comunicaciones:{id:"comunicaciones",nombre:"Comunicaciones",descripcion:"Responsable de comunicación vecinal",orden:8},salud_medioambiente:{id:"salud_medioambiente",nombre:"Salud y Medio Ambiente",descripcion:"Coordinador de salud y medio ambiente",orden:9},educacion_cultura:{id:"educacion_cultura",nombre:"Educación y Cultura",descripcion:"Responsable de educación y cultura",orden:10},vocal:{id:"vocal",nombre:"Vocal",descripcion:"Vocal de la Junta Vecinal",orden:11},asociado:{id:"asociado",nombre:"Asociado",descripcion:"Empadronado con acceso al portal",orden:12}},t=Ge(qe,"roles");await pr(t,e)},u9=async()=>{const e={sesiones:{id:"sesiones",nombre:"Sesiones",icon:"Users",orden:1,requiereAprobacion:!0},actas:{id:"actas",nombre:"Actas",icon:"FileText",orden:2,requiereAprobacion:!0},archivos:{id:"archivos",nombre:"Archivos",icon:"Archive",orden:3,requiereAprobacion:!1},finanzas:{id:"finanzas",nombre:"Finanzas",icon:"DollarSign",orden:4,requiereAprobacion:!0},seguridad:{id:"seguridad",nombre:"Seguridad",icon:"Shield",orden:5,requiereAprobacion:!1},comunicaciones:{id:"comunicaciones",nombre:"Comunicaciones",icon:"MessageSquare",orden:6,requiereAprobacion:!1},deportes:{id:"deportes",nombre:"Deportes",icon:"Trophy",orden:7,requiereAprobacion:!1},cobranzas:{id:"cobranzas",nombre:"Cobranzas",icon:"DollarSign",orden:7,requiereAprobacion:!0},salud:{id:"salud",nombre:"Salud",icon:"Heart",orden:8,requiereAprobacion:!1},ambiente:{id:"ambiente",nombre:"Medio Ambiente",icon:"Leaf",orden:9,requiereAprobacion:!1},educacion:{id:"educacion",nombre:"Educación",icon:"GraduationCap",orden:10,requiereAprobacion:!1},cultura:{id:"cultura",nombre:"Cultura",icon:"Music",orden:11,requiereAprobacion:!1},auditoria:{id:"auditoria",nombre:"Auditoría",icon:"Search",orden:12,requiereAprobacion:!1},padron:{id:"padron",nombre:"Padrón",icon:"UserCheck",orden:13,requiereAprobacion:!0},sanciones:{id:"sanciones",nombre:"Sanciones",icon:"AlertTriangle",orden:14,requiereAprobacion:!0},patrimonio:{id:"patrimonio",nombre:"Patrimonio",icon:"Building",orden:15,requiereAprobacion:!0},planTrabajo:{id:"planTrabajo",nombre:"Plan de Trabajo",icon:"Calendar",orden:16,requiereAprobacion:!0},electoral:{id:"electoral",nombre:"Electoral",icon:"Vote",orden:17,requiereAprobacion:!0}},t=Ge(qe,"modules");await pr(t,e)},Kme=async()=>{try{await Promise.all([c9(),u9()]),console.log("Auth seed data loaded successfully")}catch(e){throw console.error("Error seeding auth data:",e),e}},Xme=Object.freeze(Object.defineProperty({__proto__:null,isBootstrapInitialized:o9,seedAuthData:Kme,seedModules:u9,seedRoles:c9,setBootstrapInitialized:l9},Symbol.toStringTag,{value:"Module"})),Qme=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(!1),[s,a]=w.useState(!0),i=Vo();w.useEffect(()=>{l()},[]);const l=async()=>{try{const u=await o9();n(u)}catch(u){console.error("Error checking bootstrap:",u)}finally{a(!1)}},c=async()=>{t(!0);try{const u=await op({displayName:"Administrador General JPUSAP",email:"presidencia@jpusap.local",username:"presidencia",roleId:"presidencia",activo:!0,password:"jpusap2024",tipoUsuario:"presidente",phone:void 0,empadronadoId:void 0,fechaInicioMandato:Date.now(),fechaFinMandato:Date.now()+31536e6});await Oj(u,{sesiones:"admin",actas:"admin",archivos:"admin",finanzas:"admin",seguridad:"admin",comunicaciones:"admin",deportes:"admin",salud:"admin",ambiente:"admin",educacion:"admin",cultura:"admin",auditoria:"admin",padron:"admin",sanciones:"admin",patrimonio:"admin",planTrabajo:"admin",electoral:"admin"},u),await l9(),gt({title:"Usuario Administrador Creado",description:"Se ha creado el usuario administrador general exitosamente."}),i("/login")}catch(u){console.error("Error creating admin:",u),gt({title:"Error",description:u.message||"Error al crear el usuario administrador",variant:"destructive"})}finally{t(!1)}};return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ul,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Verificando sistema..."})]})}):r?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center p-4",children:o.jsxs(ke,{className:"w-full max-w-md",children:[o.jsxs(Qe,{className:"text-center",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(dv,{className:"w-6 h-6 text-green-600"})}),o.jsx(Ze,{children:"Sistema Inicializado"}),o.jsx(Qt,{children:"El sistema ya ha sido configurado correctamente."})]}),o.jsx(Ae,{children:o.jsx(_e,{onClick:()=>i("/login"),className:"w-full",children:"Ir al Login"})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center p-4",children:o.jsxs(ke,{className:"w-full max-w-lg",children:[o.jsxs(Qe,{className:"text-center",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:o.jsx(si,{className:"w-6 h-6 text-primary"})}),o.jsx(Ze,{children:"Configuración Inicial del Sistema"}),o.jsx(Qt,{children:"Crear usuario administrador general para la Presidencia de JPUSAP"})]}),o.jsxs(Ae,{className:"space-y-6",children:[o.jsxs(ap,{children:[o.jsx(si,{className:"w-4 h-4"}),o.jsxs(ip,{children:["Se creará un usuario administrador con acceso completo:",o.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-sm",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Usuario:"})," presidencia"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Email:"})," presidencia@jpusap.local"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Contraseña temporal:"})," jpusap2024"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Permisos:"})," Administrador completo"]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Este usuario tendrá acceso a:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{children:"• Gestión de Usuarios"}),o.jsx("div",{children:"• Padrón de Vecinos"}),o.jsx("div",{children:"• Finanzas y Cobranzas"}),o.jsx("div",{children:"• Patrimonio"}),o.jsx("div",{children:"• Sanciones"}),o.jsx("div",{children:"• Deportes"}),o.jsx("div",{children:"• Sesiones"}),o.jsx("div",{children:"• Actas"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{children:"• Archivos"}),o.jsx("div",{children:"• Seguridad"}),o.jsx("div",{children:"• Comunicaciones"}),o.jsx("div",{children:"• Salud"}),o.jsx("div",{children:"• Medio Ambiente"}),o.jsx("div",{children:"• Educación"}),o.jsx("div",{children:"• Cultura"}),o.jsx("div",{children:"• Auditoría"})]})]})]}),o.jsxs(_e,{onClick:c,disabled:e,className:"w-full",size:"lg",children:[e&&o.jsx(Ul,{className:"mr-2 h-4 w-4 animate-spin"}),"Crear Usuario Administrador"]}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Después de crear el usuario, se redirigirá automáticamente al login donde podrá acceder con las credenciales mostradas arriba."})]})]})})},Zme="modulepreload",Jme=function(e){return"/gestoria-union-digital/"+e},AM={},d9=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Jme(c),c in AM)return;AM[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Zme,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},epe=[{icon:Wi,label:"Inicio",href:"/"},{icon:gs,label:"Sesiones",href:"/sesiones"},{icon:$l,label:"Cobranzas",href:"/cobranzas"},{icon:aa,label:"Portal",href:"/portal-asociado"},{icon:pre,label:"Más",href:"/modulos"}],_m=()=>{const e=ec();return o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50 md:hidden",children:o.jsx("div",{className:"flex items-center justify-around px-2 py-1",children:epe.map(t=>{const r=e.pathname===t.href;return o.jsxs(El,{to:t.href,className:Ye("flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 min-w-[60px]",r?"text-primary bg-primary-light":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[o.jsx(t.icon,{className:"h-5 w-5 mb-1"}),o.jsx("span",{className:"text-xs font-medium",children:t.label})]},t.href)})})})},Jd=()=>{const e=Vo(),{toast:t}=La(),r=async()=>{try{await qme(),t({title:"Sesión cerrada",description:"Has cerrado sesión exitosamente"}),e("/login")}catch{t({title:"Error",description:"Error al cerrar sesión",variant:"destructive"})}};return o.jsx("header",{className:"sticky top-0 z-40 w-full bg-card border-b border-border backdrop-blur-sm",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsx("h1",{className:"text-xl font-bold text-primary",children:"Gestoria Digital"})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Usuario:"}),o.jsx("span",{className:"text-sm font-medium",children:"Administrador"})]}),o.jsxs(_e,{variant:"ghost",size:"sm",onClick:r,className:"flex items-center space-x-2",children:[o.jsx(Ere,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Cerrar Sesión"})]})]})]})})},tpe=({title:e,description:t,icon:r,href:n,color:s="primary",badge:a,className:i})=>{const l={primary:"text-primary bg-primary-light border-primary/20 hover:border-primary/40",warning:"text-warning bg-warning-light border-warning/20 hover:border-warning/40",success:"text-success bg-success-light border-success/20 hover:border-success/40",secondary:"text-secondary-foreground bg-secondary border-secondary hover:border-secondary-hover"};return o.jsx(El,{to:n,className:"block group",children:o.jsxs(ke,{className:Ye("relative p-6 transition-all duration-200 hover:shadow-lg border-2","hover:scale-[1.02] hover:bg-card-hover","min-h-[140px] flex flex-col justify-between",l[s],i),children:[a&&o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-warning text-warning-foreground",children:a})}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(r,{className:"h-8 w-8"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2",children:e}),o.jsx("p",{className:"text-sm opacity-80 line-clamp-2",children:t})]})]}),o.jsx("div",{className:"mt-4 flex items-center justify-end",children:o.jsx("span",{className:"text-xs font-medium opacity-60 group-hover:opacity-100 transition-opacity",children:"Ver módulo →"})})]})})},rpe=[{nombre:"Cancha Fútbol Boulevard 1",tipo:"futbol",ubicacion:"boulevard",activa:!0,configuracion:{precioHora:50,modificadorLuz:{"1h":15,"2h":25,"3h":35},tarifaAportante:40,horaMinima:1,horaMaxima:3,bufferMinutos:15,horarios:{inicio:"06:00",fin:"22:00"}}},{nombre:"Cancha Fútbol Boulevard 2",tipo:"futbol",ubicacion:"boulevard",activa:!0,configuracion:{precioHora:50,modificadorLuz:{"1h":15,"2h":25,"3h":35},tarifaAportante:40,horaMinima:1,horaMaxima:3,bufferMinutos:15,horarios:{inicio:"06:00",fin:"22:00"}}},{nombre:"Cancha Vóley Boulevard",tipo:"voley",ubicacion:"boulevard",activa:!0,configuracion:{precioHora:30,modificadorLuz:{"1h":10,"2h":18,"3h":25},tarifaAportante:40,horaMinima:1,horaMaxima:2,bufferMinutos:10,horarios:{inicio:"06:00",fin:"22:00"}}},{nombre:"Cancha Fútbol Quinta Llana",tipo:"futbol",ubicacion:"quinta_llana",activa:!0,configuracion:{precioHora:45,modificadorLuz:{"1h":12,"2h":22,"3h":30},tarifaAportante:40,horaMinima:1,horaMaxima:3,bufferMinutos:15,horarios:{inicio:"06:00",fin:"22:00"}}},{nombre:"Cancha Vóley Quinta Llana",tipo:"voley",ubicacion:"quinta_llana",activa:!0,configuracion:{precioHora:25,modificadorLuz:{"1h":8,"2h":15,"3h":20},tarifaAportante:40,horaMinima:1,horaMaxima:2,bufferMinutos:10,horarios:{inicio:"06:00",fin:"22:00"}}}],npe={limitesReservas:{reservasPorPersonaPorDia:2,horasAntesParaCancelar:2,horasAntesParaNoShow:1},notificaciones:{whatsappTemplate:"Hola {nombre}, tu reserva para {cancha} el {fecha} de {horaInicio} a {horaFin} está confirmada. Total: S/{total}",recordatorioHoras:[24,2]},horarios:{apertura:"06:00",cierre:"22:00",ultimaReserva:"21:00"},depositos:{requiereDeposito:!1,montoDeposito:20,equipos:{red:!0,pelotas:!0,tableros:!1}}},spe=async()=>{try{console.log("Creando datos de ejemplo para deportes...");const e=Ge(qe,"deportes/canchas"),t={};rpe.forEach((n,s)=>{const a=`cancha_${s+1}`;t[a]={...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}),await pr(e,t);const r=Ge(qe,"deportes/configuracion");return await pr(r,npe),console.log("Datos de deportes creados exitosamente"),!0}catch(e){throw console.error("Error al crear datos de deportes:",e),e}},ape=async()=>{try{const e={user1:{uid:"user1",nombre:"Juan Pérez",email:"presidente@jpusap.com",telefono:"987654321",etapa:"Etapa 1",rol:"presidencia",permisos:{usuarios:{ver:!0,crear:!0,editar:!0,aprobar:!0},finanzas:{ver:!0,crear:!0,editar:!0,aprobar:!0},sesiones:{ver:!0,crear:!0,editar:!0,aprobar:!0},seguridad:{ver:!0,crear:!0,editar:!0,aprobar:!0},comunicaciones:{ver:!0,crear:!0,editar:!0,aprobar:!0}},activo:!0,fechaCreacion:"2024-01-01",ultimoAcceso:"2024-01-15"},user2:{uid:"user2",nombre:"María García",email:"economia@jpusap.com",telefono:"987654322",etapa:"Etapa 2",rol:"economia",permisos:{finanzas:{ver:!0,crear:!0,editar:!0,aprobar:!0},sesiones:{ver:!0,crear:!1,editar:!1,aprobar:!1},comunicaciones:{ver:!0,crear:!1,editar:!1,aprobar:!1}},activo:!0,fechaCreacion:"2024-01-02",ultimoAcceso:"2024-01-14"}},t={alert1:{id:"alert1",tipo:"cuota_vencida",titulo:"Cuotas Vencidas",mensaje:"15 asociados tienen cuotas pendientes de pago",prioridad:"alta",fecha:"2024-01-15T10:30:00Z",leida:!1,accion_requerida:"Revisar pagos pendientes",enlace:"/finanzas"},alert2:{id:"alert2",tipo:"sesion_proxima",titulo:"Sesión Próxima",mensaje:"Sesión ordinaria programada para el 20 de enero",prioridad:"media",fecha:"2024-01-15T08:00:00Z",leida:!1,enlace:"/sesiones"},alert3:{id:"alert3",tipo:"incidente_seguridad",titulo:"Incidente de Seguridad",mensaje:"Reporte de robo en Etapa 3, requiere seguimiento",prioridad:"urgente",fecha:"2024-01-15T14:20:00Z",etapa:"Etapa 3",leida:!1,accion_requerida:"Coordinar con seguridad",enlace:"/seguridad"}},r={fin1:{id:"fin1",tipo:"ingreso",concepto:"Cuota ordinaria enero 2024",monto:50,fecha:"2024-01-10",asociado_id:"user1",voucher_numero:"V001234",banco:"BCP",metodo_pago:"transferencia",categoria:"cuotas",estado:"aprobado"},fin2:{id:"fin2",tipo:"egreso",concepto:"Mantenimiento área verde",monto:300,fecha:"2024-01-12",metodo_pago:"efectivo",categoria:"mantenimiento",comprobante_numero:"R001",aprobado_por:"user1",estado:"aprobado"}},n={ses1:{id:"ses1",tipo:"ordinaria",fecha:"2024-01-20",hora:"19:00",lugar:"Salón comunal",agenda:["Lectura del acta anterior","Informe de tesorería","Proyectos de mantenimiento","Varios"],quorum:{requerido:7,presente:0,alcanzado:!1},asistentes:{},acuerdos:[],estado:"programada",convocatoria_enviada:!0,fecha_convocatoria:"2024-01-15"}};return await Promise.all([pr(Ge(qe,"users"),e),pr(Ge(qe,"alerts"),t),pr(Ge(qe,"finanzas"),r),pr(Ge(qe,"sesiones"),n),spe()]),console.log("Seed data uploaded successfully to Firebase RTDB"),!0}catch(e){return console.error("Error seeding Firebase data:",e),!1}},ipe=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(!1),s=async()=>{t(!0);const a=await ape();t(!1),a&&(n(!0),setTimeout(()=>n(!1),3e3))};return o.jsxs(_e,{onClick:s,disabled:e||r,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[o.jsx(mre,{className:"h-4 w-4"}),e?"Cargando...":r?"¡Datos cargados!":"Cargar datos de prueba"]})},ope={padron:C$,actas:_f,sesiones:gs,cobranzas:$l,sanciones:xre,seguridad:si,comunicaciones:pv,deportes:Are,salud:wre,educacion:yre,electoral:Pre,patrimonio:Vd,"plan-anual":cre,auditoria:Ou,obras:ore,"portal-asociado":fre},lpe={padron:"secondary",actas:"primary",sesiones:"primary",cobranzas:"success",sanciones:"warning",seguridad:"warning",comunicaciones:"secondary",deportes:"success",salud:"success",educacion:"secondary",electoral:"primary",patrimonio:"secondary","plan-anual":"primary",auditoria:"warning",obras:"secondary","portal-asociado":"primary"},cpe={padron:"/padron",actas:"/actas",sesiones:"/sesiones",cobranzas:"/cobranzas",sanciones:"/sanciones",seguridad:"/seguridad",comunicaciones:"/comunicaciones",deportes:"/deportes",salud:"/salud",educacion:"/educacion",electoral:"/electoral",patrimonio:"/patrimonio","plan-anual":"/plan-anual",auditoria:"/auditoria",obras:"/obras","portal-asociado":"/portal-asociado"},upe=()=>{const{can:e,loading:t}=sp(),{user:r,profile:n}=ui(),[s,a]=w.useState([]),[i,l]=w.useState(!0);return w.useEffect(()=>{t||(async()=>{try{const d=(await sb()).filter(f=>e(f.id,"read"));a(d)}catch(u){console.error("Error loading modules:",u)}finally{l(!1)}})()},[e,t]),i||t?o.jsxs("div",{className:"min-h-screen bg-background pb-20 md:pb-0",children:[o.jsx(Jd,{}),o.jsx("main",{className:"container mx-auto px-4 py-6",children:o.jsx("div",{className:"text-center",children:"Cargando módulos..."})}),o.jsx(_m,{})]}):o.jsxs("div",{className:"min-h-screen bg-background pb-20 md:pb-0",children:[o.jsx(Jd,{}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-2 md:space-y-0",children:[o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Panel Principal"}),o.jsx("p",{className:"text-muted-foreground",children:"Sistema de Gestión - Junta Directiva"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ipe,{}),o.jsx("button",{onClick:async()=>{await d9(()=>Promise.resolve().then(()=>Xme),void 0).then(c=>c.seedAuthData()),window.location.reload()},className:"px-3 py-1 text-xs bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Recargar Módulos"})]})]}),o.jsxs("div",{className:"bg-card border rounded-lg p-6 text-center",children:[o.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-2",children:["Bienvenido: ",(n==null?void 0:n.displayName)||(r==null?void 0:r.displayName)||(r==null?void 0:r.email)||"Usuario"]}),o.jsx("p",{className:"text-muted-foreground",children:"Sistema de Gestión - Junta Directiva"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Módulos del Sistema"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(c=>{const u=ope[c.id]||Vd,d=lpe[c.id]||"primary",f=cpe[c.id]||`/${c.id}`;return o.jsx(tpe,{title:c.nombre,description:`Módulo ${c.nombre}`,icon:u,href:f,color:d,badge:void 0},c.id)})}),s.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No tienes acceso a ningún módulo del sistema."})]})]}),o.jsx(_m,{})]})};var Fg=e=>e.type==="checkbox",xd=e=>e instanceof Date,js=e=>e==null;const f9=e=>typeof e=="object";var _n=e=>!js(e)&&!Array.isArray(e)&&f9(e)&&!xd(e),h9=e=>_n(e)&&e.target?Fg(e.target)?e.target.checked:e.target.value:e,dpe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,m9=(e,t)=>e.has(dpe(t)),fpe=e=>{const t=e.constructor&&e.constructor.prototype;return _n(t)&&t.hasOwnProperty("isPrototypeOf")},Ij=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Ij&&(e instanceof Blob||n))&&(r||_n(e)))if(t=r?[]:{},!r&&!fpe(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Pn(e[s]));else return e;return t}var ab=e=>/^\w*$/.test(e),gn=e=>e===void 0,Mj=e=>Array.isArray(e)?e.filter(Boolean):[],Fj=e=>Mj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Xe=(e,t,r)=>{if(!t||!_n(e))return r;const n=(ab(t)?[t]:Fj(t)).reduce((s,a)=>js(s)?s:s[a],e);return gn(n)||n===e?gn(e[t])?r:e[t]:n},ya=e=>typeof e=="boolean",vr=(e,t,r)=>{let n=-1;const s=ab(t)?[t]:Fj(t),a=s.length,i=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==i){const u=e[l];c=_n(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const h_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Di={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},al={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Lj=H.createContext(null);Lj.displayName="HookFormContext";const ib=()=>H.useContext(Lj),hpe=e=>{const{children:t,...r}=e;return H.createElement(Lj.Provider,{value:r},t)};var p9=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const i=a;return t._proxyFormState[i]!==Di.all&&(t._proxyFormState[i]=!n||Di.all),r&&(r[i]=!0),e[i]}});return s};const $j=typeof window<"u"?H.useLayoutEffect:H.useEffect;function mpe(e){const t=ib(),{control:r=t.control,disabled:n,name:s,exact:a}=e||{},[i,l]=H.useState(r._formState),c=H.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return $j(()=>r._subscribe({name:s,formState:c.current,exact:a,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,a]),H.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),H.useMemo(()=>p9(i,r,c.current,!1),[i,r])}var Eo=e=>typeof e=="string",v9=(e,t,r,n,s)=>Eo(e)?(n&&t.watch.add(e),Xe(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Xe(r,a))):(n&&(t.watchAll=!0),r),mC=e=>js(e)||!f9(e);function ml(e,t,r=new WeakSet){if(mC(e)||mC(t))return e===t;if(xd(e)&&xd(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(xd(i)&&xd(l)||_n(i)&&_n(l)||Array.isArray(i)&&Array.isArray(l)?!ml(i,l,r):i!==l)return!1}}return!0}function ppe(e){const t=ib(),{control:r=t.control,name:n,defaultValue:s,disabled:a,exact:i,compute:l}=e||{},c=H.useRef(s),u=H.useRef(l),d=H.useRef(void 0);u.current=l;const f=H.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,p]=H.useState(u.current?u.current(f):f);return $j(()=>r._subscribe({name:n,formState:{values:!0},exact:i,callback:x=>{if(!a){const m=v9(n,r._names,x.values||r._formValues,!1,c.current);if(u.current){const g=u.current(m);ml(g,d.current)||(p(g),d.current=g)}else p(m)}}}),[r,a,n,i]),H.useEffect(()=>r._removeUnmounted()),h}function vpe(e){const t=ib(),{name:r,disabled:n,control:s=t.control,shouldUnregister:a,defaultValue:i}=e,l=m9(s._names.array,r),c=H.useMemo(()=>Xe(s._formValues,r,Xe(s._defaultValues,r,i)),[s,r,i]),u=ppe({control:s,name:r,defaultValue:c,exact:!0}),d=mpe({control:s,name:r,exact:!0}),f=H.useRef(e),h=H.useRef(s.register(r,{...e.rules,value:u,...ya(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=H.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Xe(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Xe(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Xe(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Xe(d.validatingFields,r)},error:{enumerable:!0,get:()=>Xe(d.errors,r)}}),[d,r]),x=H.useCallback(y=>h.current.onChange({target:{value:h9(y),name:r},type:h_.CHANGE}),[r]),m=H.useCallback(()=>h.current.onBlur({target:{value:Xe(s._formValues,r),name:r},type:h_.BLUR}),[r,s._formValues]),g=H.useCallback(y=>{const S=Xe(s._fields,r);S&&y&&(S._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:E=>y.setCustomValidity(E),reportValidity:()=>y.reportValidity()})},[s._fields,r]),_=H.useMemo(()=>({name:r,value:u,...ya(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:x,onBlur:m,ref:g}),[r,n,d.disabled,x,m,g,u]);return H.useEffect(()=>{const y=s._options.shouldUnregister||a;s.register(r,{...f.current.rules,...ya(f.current.disabled)?{disabled:f.current.disabled}:{}});const S=(E,C)=>{const P=Xe(s._fields,E);P&&P._f&&(P._f.mount=C)};if(S(r,!0),y){const E=Pn(Xe(s._options.defaultValues,r));vr(s._defaultValues,r,E),gn(Xe(s._formValues,r))&&vr(s._formValues,r,E)}return!l&&s.register(r),()=>{(l?y&&!s._state.action:y)?s.unregister(r):S(r,!1)}},[r,s,l,a]),H.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),H.useMemo(()=>({field:_,formState:d,fieldState:p}),[_,d,p])}const gpe=e=>e.render(vpe(e));var g9=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},M0=e=>Array.isArray(e)?e:[e],PM=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},Gs=e=>_n(e)&&!Object.keys(e).length,Uj=e=>e.type==="file",Ri=e=>typeof e=="function",m_=e=>{if(!Ij)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},x9=e=>e.type==="select-multiple",Bj=e=>e.type==="radio",xpe=e=>Bj(e)||Fg(e),ME=e=>m_(e)&&e.isConnected;function ype(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=gn(e)?n++:e[t[n++]];return e}function _pe(e){for(const t in e)if(e.hasOwnProperty(t)&&!gn(e[t]))return!1;return!0}function En(e,t){const r=Array.isArray(t)?t:ab(t)?[t]:Fj(t),n=r.length===1?e:ype(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(_n(n)&&Gs(n)||Array.isArray(n)&&_pe(n))&&En(e,r.slice(0,-1)),e}var y9=e=>{for(const t in e)if(Ri(e[t]))return!0;return!1};function p_(e,t={}){const r=Array.isArray(e);if(_n(e)||r)for(const n in e)Array.isArray(e[n])||_n(e[n])&&!y9(e[n])?(t[n]=Array.isArray(e[n])?[]:{},p_(e[n],t[n])):js(e[n])||(t[n]=!0);return t}function _9(e,t,r){const n=Array.isArray(e);if(_n(e)||n)for(const s in e)Array.isArray(e[s])||_n(e[s])&&!y9(e[s])?gn(t)||mC(r[s])?r[s]=Array.isArray(e[s])?p_(e[s],[]):{...p_(e[s])}:_9(e[s],js(t)?{}:t[s],r[s]):r[s]=!ml(e[s],t[s]);return r}var Xp=(e,t)=>_9(e,t,p_(t));const OM={value:!1,isValid:!1},DM={value:!0,isValid:!0};var w9=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!gn(e[0].attributes.value)?gn(e[0].value)||e[0].value===""?DM:{value:e[0].value,isValid:!0}:DM:OM}return OM},b9=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>gn(e)?e:t?e===""?NaN:e&&+e:r&&Eo(e)?new Date(e):n?n(e):e;const RM={isValid:!1,value:null};var S9=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,RM):RM;function IM(e){const t=e.ref;return Uj(t)?t.files:Bj(t)?S9(e.refs).value:x9(t)?[...t.selectedOptions].map(({value:r})=>r):Fg(t)?w9(e.refs).value:b9(gn(t.value)?e.ref.value:t.value,e)}var wpe=(e,t,r,n)=>{const s={};for(const a of e){const i=Xe(t,a);i&&vr(s,a,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},v_=e=>e instanceof RegExp,Qp=e=>gn(e)?e:v_(e)?e.source:_n(e)?v_(e.value)?e.value.source:e.value:e,MM=e=>({isOnSubmit:!e||e===Di.onSubmit,isOnBlur:e===Di.onBlur,isOnChange:e===Di.onChange,isOnAll:e===Di.all,isOnTouch:e===Di.onTouched});const FM="AsyncFunction";var bpe=e=>!!e&&!!e.validate&&!!(Ri(e.validate)&&e.validate.constructor.name===FM||_n(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===FM)),Spe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),LM=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const F0=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=Xe(e,s);if(a){const{_f:i,...l}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(F0(l,t))break}else if(_n(l)&&F0(l,t))break}}};function $M(e,t,r){const n=Xe(e,r);if(n||ab(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),i=Xe(t,a),l=Xe(e,a);if(i&&!Array.isArray(i)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var Epe=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return Gs(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!n||Di.all))},Tpe=(e,t,r)=>!e||!t||e===t||M0(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Cpe=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Npe=(e,t)=>!Mj(Xe(e,t)).length&&En(e,t),kpe=(e,t,r)=>{const n=M0(Xe(e,r));return vr(n,"root",t[r]),vr(e,r,n),e},X1=e=>Eo(e);function UM(e,t,r="validate"){if(X1(e)||Array.isArray(e)&&e.every(X1)||ya(e)&&!e)return{type:r,message:X1(e)?e:"",ref:t}}var Yf=e=>_n(e)&&!v_(e)?e:{value:e,message:""},BM=async(e,t,r,n,s,a)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:x,name:m,valueAsNumber:g,mount:_}=e._f,y=Xe(r,m);if(!_||t.has(m))return{};const S=l?l[0]:i,E=z=>{s&&S.reportValidity&&(S.setCustomValidity(ya(z)?"":z||""),S.reportValidity())},C={},P=Bj(i),N=Fg(i),A=P||N,j=(g||Uj(i))&&gn(i.value)&&gn(y)||m_(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,O=g9.bind(null,m,n,C),W=(z,Y,J,ie=al.maxLength,oe=al.minLength)=>{const re=z?Y:J;C[m]={type:z?ie:oe,message:re,ref:i,...O(z?ie:oe,re)}};if(a?!Array.isArray(y)||!y.length:c&&(!A&&(j||js(y))||ya(y)&&!y||N&&!w9(l).isValid||P&&!S9(l).isValid)){const{value:z,message:Y}=X1(c)?{value:!!c,message:c}:Yf(c);if(z&&(C[m]={type:al.required,message:Y,ref:S,...O(al.required,Y)},!n))return E(Y),C}if(!j&&(!js(f)||!js(h))){let z,Y;const J=Yf(h),ie=Yf(f);if(!js(y)&&!isNaN(y)){const oe=i.valueAsNumber||y&&+y;js(J.value)||(z=oe>J.value),js(ie.value)||(Y=oe<ie.value)}else{const oe=i.valueAsDate||new Date(y),re=ge=>new Date(new Date().toDateString()+" "+ge),Z=i.type=="time",ae=i.type=="week";Eo(J.value)&&y&&(z=Z?re(y)>re(J.value):ae?y>J.value:oe>new Date(J.value)),Eo(ie.value)&&y&&(Y=Z?re(y)<re(ie.value):ae?y<ie.value:oe<new Date(ie.value))}if((z||Y)&&(W(!!z,J.message,ie.message,al.max,al.min),!n))return E(C[m].message),C}if((u||d)&&!j&&(Eo(y)||a&&Array.isArray(y))){const z=Yf(u),Y=Yf(d),J=!js(z.value)&&y.length>+z.value,ie=!js(Y.value)&&y.length<+Y.value;if((J||ie)&&(W(J,z.message,Y.message),!n))return E(C[m].message),C}if(p&&!j&&Eo(y)){const{value:z,message:Y}=Yf(p);if(v_(z)&&!y.match(z)&&(C[m]={type:al.pattern,message:Y,ref:i,...O(al.pattern,Y)},!n))return E(Y),C}if(x){if(Ri(x)){const z=await x(y,r),Y=UM(z,S);if(Y&&(C[m]={...Y,...O(al.validate,Y.message)},!n))return E(Y.message),C}else if(_n(x)){let z={};for(const Y in x){if(!Gs(z)&&!n)break;const J=UM(await x[Y](y,r),S,Y);J&&(z={...J,...O(Y,J.message)},E(J.message),n&&(C[m]=z))}if(!Gs(z)&&(C[m]={ref:S,...z},!n))return C}}return E(!0),C};const jpe={mode:Di.onSubmit,reValidateMode:Di.onChange,shouldFocusError:!0};function Ape(e={}){let t={...jpe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ri(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=_n(t.defaultValues)||_n(t.values)?Pn(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Pn(s),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:PM(),state:PM()},p=t.criteriaMode===Di.all,x=Q=>ne=>{clearTimeout(u),u=setTimeout(Q,ne)},m=async Q=>{if(!t.disabled&&(d.isValid||f.isValid||Q)){const ne=t.resolver?Gs((await N()).errors):await j(n,!0);ne!==r.isValid&&h.state.next({isValid:ne})}},g=(Q,ne)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((Q||Array.from(l.mount)).forEach(te=>{te&&(ne?vr(r.validatingFields,te,ne):En(r.validatingFields,te))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Gs(r.validatingFields)}))},_=(Q,ne=[],te,he,pe=!0,je=!0)=>{if(he&&te&&!t.disabled){if(i.action=!0,je&&Array.isArray(Xe(n,Q))){const Me=te(Xe(n,Q),he.argA,he.argB);pe&&vr(n,Q,Me)}if(je&&Array.isArray(Xe(r.errors,Q))){const Me=te(Xe(r.errors,Q),he.argA,he.argB);pe&&vr(r.errors,Q,Me),Npe(r.errors,Q)}if((d.touchedFields||f.touchedFields)&&je&&Array.isArray(Xe(r.touchedFields,Q))){const Me=te(Xe(r.touchedFields,Q),he.argA,he.argB);pe&&vr(r.touchedFields,Q,Me)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Xp(s,a)),h.state.next({name:Q,isDirty:W(Q,ne),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vr(a,Q,ne)},y=(Q,ne)=>{vr(r.errors,Q,ne),h.state.next({errors:r.errors})},S=Q=>{r.errors=Q,h.state.next({errors:r.errors,isValid:!1})},E=(Q,ne,te,he)=>{const pe=Xe(n,Q);if(pe){const je=Xe(a,Q,gn(te)?Xe(s,Q):te);gn(je)||he&&he.defaultChecked||ne?vr(a,Q,ne?je:IM(pe._f)):J(Q,je),i.mount&&m()}},C=(Q,ne,te,he,pe)=>{let je=!1,Me=!1;const bt={name:Q};if(!t.disabled){if(!te||he){(d.isDirty||f.isDirty)&&(Me=r.isDirty,r.isDirty=bt.isDirty=W(),je=Me!==bt.isDirty);const jt=ml(Xe(s,Q),ne);Me=!!Xe(r.dirtyFields,Q),jt?En(r.dirtyFields,Q):vr(r.dirtyFields,Q,!0),bt.dirtyFields=r.dirtyFields,je=je||(d.dirtyFields||f.dirtyFields)&&Me!==!jt}if(te){const jt=Xe(r.touchedFields,Q);jt||(vr(r.touchedFields,Q,te),bt.touchedFields=r.touchedFields,je=je||(d.touchedFields||f.touchedFields)&&jt!==te)}je&&pe&&h.state.next(bt)}return je?bt:{}},P=(Q,ne,te,he)=>{const pe=Xe(r.errors,Q),je=(d.isValid||f.isValid)&&ya(ne)&&r.isValid!==ne;if(t.delayError&&te?(c=x(()=>y(Q,te)),c(t.delayError)):(clearTimeout(u),c=null,te?vr(r.errors,Q,te):En(r.errors,Q)),(te?!ml(pe,te):pe)||!Gs(he)||je){const Me={...he,...je&&ya(ne)?{isValid:ne}:{},errors:r.errors,name:Q};r={...r,...Me},h.state.next(Me)}},N=async Q=>{g(Q,!0);const ne=await t.resolver(a,t.context,wpe(Q||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(Q),ne},A=async Q=>{const{errors:ne}=await N(Q);if(Q)for(const te of Q){const he=Xe(ne,te);he?vr(r.errors,te,he):En(r.errors,te)}else r.errors=ne;return ne},j=async(Q,ne,te={valid:!0})=>{for(const he in Q){const pe=Q[he];if(pe){const{_f:je,...Me}=pe;if(je){const bt=l.array.has(je.name),jt=pe._f&&bpe(pe._f);jt&&d.validatingFields&&g([he],!0);const pn=await BM(pe,l.disabled,a,p,t.shouldUseNativeValidation&&!ne,bt);if(jt&&d.validatingFields&&g([he]),pn[je.name]&&(te.valid=!1,ne))break;!ne&&(Xe(pn,je.name)?bt?kpe(r.errors,pn,je.name):vr(r.errors,je.name,pn[je.name]):En(r.errors,je.name))}!Gs(Me)&&await j(Me,ne,te)}}return te.valid},O=()=>{for(const Q of l.unMount){const ne=Xe(n,Q);ne&&(ne._f.refs?ne._f.refs.every(te=>!ME(te)):!ME(ne._f.ref))&&X(Q)}l.unMount=new Set},W=(Q,ne)=>!t.disabled&&(Q&&ne&&vr(a,Q,ne),!ml(ge(),s)),z=(Q,ne,te)=>v9(Q,l,{...i.mount?a:gn(ne)?s:Eo(Q)?{[Q]:ne}:ne},te,ne),Y=Q=>Mj(Xe(i.mount?a:s,Q,t.shouldUnregister?Xe(s,Q,[]):[])),J=(Q,ne,te={})=>{const he=Xe(n,Q);let pe=ne;if(he){const je=he._f;je&&(!je.disabled&&vr(a,Q,b9(ne,je)),pe=m_(je.ref)&&js(ne)?"":ne,x9(je.ref)?[...je.ref.options].forEach(Me=>Me.selected=pe.includes(Me.value)):je.refs?Fg(je.ref)?je.refs.forEach(Me=>{(!Me.defaultChecked||!Me.disabled)&&(Array.isArray(pe)?Me.checked=!!pe.find(bt=>bt===Me.value):Me.checked=pe===Me.value||!!pe)}):je.refs.forEach(Me=>Me.checked=Me.value===pe):Uj(je.ref)?je.ref.value="":(je.ref.value=pe,je.ref.type||h.state.next({name:Q,values:Pn(a)})))}(te.shouldDirty||te.shouldTouch)&&C(Q,pe,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&ae(Q)},ie=(Q,ne,te)=>{for(const he in ne){if(!ne.hasOwnProperty(he))return;const pe=ne[he],je=Q+"."+he,Me=Xe(n,je);(l.array.has(Q)||_n(pe)||Me&&!Me._f)&&!xd(pe)?ie(je,pe,te):J(je,pe,te)}},oe=(Q,ne,te={})=>{const he=Xe(n,Q),pe=l.array.has(Q),je=Pn(ne);vr(a,Q,je),pe?(h.array.next({name:Q,values:Pn(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&te.shouldDirty&&h.state.next({name:Q,dirtyFields:Xp(s,a),isDirty:W(Q,je)})):he&&!he._f&&!js(je)?ie(Q,je,te):J(Q,je,te),LM(Q,l)&&h.state.next({...r,name:Q}),h.state.next({name:i.mount?Q:void 0,values:Pn(a)})},re=async Q=>{i.mount=!0;const ne=Q.target;let te=ne.name,he=!0;const pe=Xe(n,te),je=jt=>{he=Number.isNaN(jt)||xd(jt)&&isNaN(jt.getTime())||ml(jt,Xe(a,te,jt))},Me=MM(t.mode),bt=MM(t.reValidateMode);if(pe){let jt,pn;const $t=ne.type?IM(pe._f):h9(Q),cs=Q.type===h_.BLUR||Q.type===h_.FOCUS_OUT,ao=!Spe(pe._f)&&!t.resolver&&!Xe(r.errors,te)&&!pe._f.deps||Cpe(cs,Xe(r.touchedFields,te),r.isSubmitted,bt,Me),Es=LM(te,l,cs);vr(a,te,$t),cs?(pe._f.onBlur&&pe._f.onBlur(Q),c&&c(0)):pe._f.onChange&&pe._f.onChange(Q);const qn=C(te,$t,cs),za=!Gs(qn)||Es;if(!cs&&h.state.next({name:te,type:Q.type,values:Pn(a)}),ao)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?cs&&m():cs||m()),za&&h.state.next({name:te,...Es?{}:qn});if(!cs&&Es&&h.state.next({...r}),t.resolver){const{errors:Un}=await N([te]);if(je($t),he){const io=$M(r.errors,n,te),Ko=$M(Un,n,io.name||te);jt=Ko.error,te=Ko.name,pn=Gs(Un)}}else g([te],!0),jt=(await BM(pe,l.disabled,a,p,t.shouldUseNativeValidation))[te],g([te]),je($t),he&&(jt?pn=!1:(d.isValid||f.isValid)&&(pn=await j(n,!0)));he&&(pe._f.deps&&ae(pe._f.deps),P(te,pn,jt,qn))}},Z=(Q,ne)=>{if(Xe(r.errors,ne)&&Q.focus)return Q.focus(),1},ae=async(Q,ne={})=>{let te,he;const pe=M0(Q);if(t.resolver){const je=await A(gn(Q)?Q:pe);te=Gs(je),he=Q?!pe.some(Me=>Xe(je,Me)):te}else Q?(he=(await Promise.all(pe.map(async je=>{const Me=Xe(n,je);return await j(Me&&Me._f?{[je]:Me}:Me)}))).every(Boolean),!(!he&&!r.isValid)&&m()):he=te=await j(n);return h.state.next({...!Eo(Q)||(d.isValid||f.isValid)&&te!==r.isValid?{}:{name:Q},...t.resolver||!Q?{isValid:te}:{},errors:r.errors}),ne.shouldFocus&&!he&&F0(n,Z,Q?pe:l.mount),he},ge=Q=>{const ne={...i.mount?a:s};return gn(Q)?ne:Eo(Q)?Xe(ne,Q):Q.map(te=>Xe(ne,te))},se=(Q,ne)=>({invalid:!!Xe((ne||r).errors,Q),isDirty:!!Xe((ne||r).dirtyFields,Q),error:Xe((ne||r).errors,Q),isValidating:!!Xe(r.validatingFields,Q),isTouched:!!Xe((ne||r).touchedFields,Q)}),R=Q=>{Q&&M0(Q).forEach(ne=>En(r.errors,ne)),h.state.next({errors:Q?r.errors:{}})},F=(Q,ne,te)=>{const he=(Xe(n,Q,{_f:{}})._f||{}).ref,pe=Xe(r.errors,Q)||{},{ref:je,message:Me,type:bt,...jt}=pe;vr(r.errors,Q,{...jt,...ne,ref:he}),h.state.next({name:Q,errors:r.errors,isValid:!1}),te&&te.shouldFocus&&he&&he.focus&&he.focus()},L=(Q,ne)=>Ri(Q)?h.state.subscribe({next:te=>"values"in te&&Q(z(void 0,ne),te)}):z(Q,ne,!0),I=Q=>h.state.subscribe({next:ne=>{Tpe(Q.name,ne.name,Q.exact)&&Epe(ne,Q.formState||d,Ie,Q.reRenderRoot)&&Q.callback({values:{...a},...r,...ne,defaultValues:s})}}).unsubscribe,U=Q=>(i.mount=!0,f={...f,...Q.formState},I({...Q,formState:f})),X=(Q,ne={})=>{for(const te of Q?M0(Q):l.mount)l.mount.delete(te),l.array.delete(te),ne.keepValue||(En(n,te),En(a,te)),!ne.keepError&&En(r.errors,te),!ne.keepDirty&&En(r.dirtyFields,te),!ne.keepTouched&&En(r.touchedFields,te),!ne.keepIsValidating&&En(r.validatingFields,te),!t.shouldUnregister&&!ne.keepDefaultValue&&En(s,te);h.state.next({values:Pn(a)}),h.state.next({...r,...ne.keepDirty?{isDirty:W()}:{}}),!ne.keepIsValid&&m()},de=({disabled:Q,name:ne})=>{(ya(Q)&&i.mount||Q||l.disabled.has(ne))&&(Q?l.disabled.add(ne):l.disabled.delete(ne))},ye=(Q,ne={})=>{let te=Xe(n,Q);const he=ya(ne.disabled)||ya(t.disabled);return vr(n,Q,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:Q}},name:Q,mount:!0,...ne}}),l.mount.add(Q),te?de({disabled:ya(ne.disabled)?ne.disabled:t.disabled,name:Q}):E(Q,!0,ne.value),{...he?{disabled:ne.disabled||t.disabled}:{},...t.progressive?{required:!!ne.required,min:Qp(ne.min),max:Qp(ne.max),minLength:Qp(ne.minLength),maxLength:Qp(ne.maxLength),pattern:Qp(ne.pattern)}:{},name:Q,onChange:re,onBlur:re,ref:pe=>{if(pe){ye(Q,ne),te=Xe(n,Q);const je=gn(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,Me=xpe(je),bt=te._f.refs||[];if(Me?bt.find(jt=>jt===je):je===te._f.ref)return;vr(n,Q,{_f:{...te._f,...Me?{refs:[...bt.filter(ME),je,...Array.isArray(Xe(s,Q))?[{}]:[]],ref:{type:je.type,name:Q}}:{ref:je}}}),E(Q,!1,void 0,je)}else te=Xe(n,Q,{}),te._f&&(te._f.mount=!1),(t.shouldUnregister||ne.shouldUnregister)&&!(m9(l.array,Q)&&i.action)&&l.unMount.add(Q)}}},me=()=>t.shouldFocusError&&F0(n,Z,l.mount),Ue=Q=>{ya(Q)&&(h.state.next({disabled:Q}),F0(n,(ne,te)=>{const he=Xe(n,te);he&&(ne.disabled=he._f.disabled||Q,Array.isArray(he._f.refs)&&he._f.refs.forEach(pe=>{pe.disabled=he._f.disabled||Q}))},0,!1))},We=(Q,ne)=>async te=>{let he;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let pe=Pn(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:je,values:Me}=await N();r.errors=je,pe=Pn(Me)}else await j(n);if(l.disabled.size)for(const je of l.disabled)En(pe,je);if(En(r.errors,"root"),Gs(r.errors)){h.state.next({errors:{}});try{await Q(pe,te)}catch(je){he=je}}else ne&&await ne({...r.errors},te),me(),setTimeout(me);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gs(r.errors)&&!he,submitCount:r.submitCount+1,errors:r.errors}),he)throw he},mt=(Q,ne={})=>{Xe(n,Q)&&(gn(ne.defaultValue)?oe(Q,Pn(Xe(s,Q))):(oe(Q,ne.defaultValue),vr(s,Q,Pn(ne.defaultValue))),ne.keepTouched||En(r.touchedFields,Q),ne.keepDirty||(En(r.dirtyFields,Q),r.isDirty=ne.defaultValue?W(Q,Pn(Xe(s,Q))):W()),ne.keepError||(En(r.errors,Q),d.isValid&&m()),h.state.next({...r}))},lt=(Q,ne={})=>{const te=Q?Pn(Q):s,he=Pn(te),pe=Gs(Q),je=pe?s:he;if(ne.keepDefaultValues||(s=te),!ne.keepValues){if(ne.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(Xp(s,a))]);for(const bt of Array.from(Me))Xe(r.dirtyFields,bt)?vr(je,bt,Xe(a,bt)):oe(bt,Xe(je,bt))}else{if(Ij&&gn(Q))for(const Me of l.mount){const bt=Xe(n,Me);if(bt&&bt._f){const jt=Array.isArray(bt._f.refs)?bt._f.refs[0]:bt._f.ref;if(m_(jt)){const pn=jt.closest("form");if(pn){pn.reset();break}}}}if(ne.keepFieldsRef)for(const Me of l.mount)oe(Me,Xe(je,Me));else n={}}a=t.shouldUnregister?ne.keepDefaultValues?Pn(s):{}:Pn(je),h.array.next({values:{...je}}),h.state.next({values:{...je}})}l={mount:ne.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!ne.keepIsValid||!!ne.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:ne.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:ne.keepDirty?r.isDirty:!!(ne.keepDefaultValues&&!ml(Q,s)),isSubmitted:ne.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:ne.keepDirtyValues?ne.keepDefaultValues&&a?Xp(s,a):r.dirtyFields:ne.keepDefaultValues&&Q?Xp(s,Q):ne.keepDirty?r.dirtyFields:{},touchedFields:ne.keepTouched?r.touchedFields:{},errors:ne.keepErrors?r.errors:{},isSubmitSuccessful:ne.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Kt=(Q,ne)=>lt(Ri(Q)?Q(a):Q,ne),ut=(Q,ne={})=>{const te=Xe(n,Q),he=te&&te._f;if(he){const pe=he.refs?he.refs[0]:he.ref;pe.focus&&(pe.focus(),ne.shouldSelect&&Ri(pe.select)&&pe.select())}},Ie=Q=>{r={...r,...Q}},wt={control:{register:ye,unregister:X,getFieldState:se,handleSubmit:We,setError:F,_subscribe:I,_runSchema:N,_focusError:me,_getWatch:z,_getDirty:W,_setValid:m,_setFieldArray:_,_setDisabledField:de,_setErrors:S,_getFieldArray:Y,_reset:lt,_resetDefaultValues:()=>Ri(t.defaultValues)&&t.defaultValues().then(Q=>{Kt(Q,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:Ue,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return i},set _state(Q){i=Q},get _defaultValues(){return s},get _names(){return l},set _names(Q){l=Q},get _formState(){return r},get _options(){return t},set _options(Q){t={...t,...Q}}},subscribe:U,trigger:ae,register:ye,handleSubmit:We,watch:L,setValue:oe,getValues:ge,reset:Kt,resetField:mt,clearErrors:R,unregister:X,setError:F,setFocus:ut,getFieldState:se};return{...wt,formControl:wt}}function $u(e={}){const t=H.useRef(void 0),r=H.useRef(void 0),[n,s]=H.useState({isDirty:!1,isValidating:!1,isLoading:Ri(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ri(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Ri(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=Ape(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,$j(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,i},[a]),H.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),H.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),H.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),H.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),H.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==n.isDirty&&a._subjects.state.next({isDirty:i})}},[a,n.isDirty]),H.useEffect(()=>{e.values&&!ml(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,s(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),H.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=p9(n,a),t.current}const Ce=w.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:Ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ce.displayName="Input";var Ppe="Label",E9=w.forwardRef((e,t)=>o.jsx(dt.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));E9.displayName=Ppe;var T9=E9;const Ope=Vm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),be=w.forwardRef(({className:e,...t},r)=>o.jsx(T9,{ref:r,className:Ye(Ope(),e),...t}));be.displayName=T9.displayName;const ob=hpe,C9=w.createContext({}),Ft=({...e})=>o.jsx(C9.Provider,{value:{name:e.name},children:o.jsx(gpe,{...e})}),lb=()=>{const e=w.useContext(C9),t=w.useContext(N9),{getFieldState:r,formState:n}=ib(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},N9=w.createContext({}),Ot=w.forwardRef(({className:e,...t},r)=>{const n=w.useId();return o.jsx(N9.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:Ye("space-y-2",e),...t})})});Ot.displayName="FormItem";const Dt=w.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=lb();return o.jsx(be,{ref:r,className:Ye(n&&"text-destructive",e),htmlFor:s,...t})});Dt.displayName="FormLabel";const Rt=w.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=lb();return o.jsx(V5,{ref:t,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...e})});Rt.displayName="FormControl";const ld=w.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=lb();return o.jsx("p",{ref:r,id:n,className:Ye("text-sm text-muted-foreground",e),...t})});ld.displayName="FormDescription";const Ut=w.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:a}=lb(),i=s?String(s==null?void 0:s.message):t;return i?o.jsx("p",{ref:n,id:a,className:Ye("text-sm font-medium text-destructive",e),...r,children:i}):null});Ut.displayName="FormMessage";const Dpe=({onComplete:e})=>{const[t,r]=w.useState(!1),[n,s]=w.useState(null),a=$u({defaultValues:{displayName:"Administrador Presidencia",email:"presidencia@jpusap.com",username:"presidencia",password:"jpusap2024",confirmPassword:"jpusap2024"}}),i=async l=>{if(l.password!==l.confirmPassword){a.setError("confirmPassword",{message:"Las contraseñas no coinciden"});return}if(l.password.length<6){a.setError("password",{message:"La contraseña debe tener al menos 6 caracteres"});return}r(!0),s(null);try{const c=(l.email||`${l.username||"presidencia"}@jpusap.com`).trim(),u=(l.username||"presidencia").trim(),d=await op({displayName:l.displayName,email:c,username:u,roleId:"presidencia",activo:!0,password:l.password,tipoUsuario:"presidente",phone:void 0,empadronadoId:void 0,fechaInicioMandato:Date.now(),fechaFinMandato:Date.now()+365*24*60*60*1e3}),f=["sesiones","actas","archivos","finanzas","seguridad","comunicaciones","deportes","salud","ambiente","educacion","cultura","auditoria","padron","sanciones","patrimonio","planTrabajo","electoral"],h={};f.forEach(p=>{h[p]="admin"}),await Oj(d,h,d),await kM(),gt({title:"Administrador creado",description:"Ahora puedes iniciar sesión."}),e()}catch(c){const u=String((c==null?void 0:c.code)||(c==null?void 0:c.message)||"").toLowerCase();if(u.includes("auth/email-already-in-use")||u.includes("email-already-in-use")){await kM(),gt({title:"Cuenta ya existente",description:"La cuenta de presidencia ya existe. Continuando al inicio de sesión."}),e();return}let d="Error al crear el administrador";u.includes("weak-password")&&(d="La contraseña es muy débil"),u.includes("invalid-email")&&(d="Email inválido"),u.includes("ya está en uso")&&(d=c.message),s(d)}finally{r(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary/20 p-4",children:o.jsxs(ke,{className:"w-full max-w-md",children:[o.jsxs(Qe,{className:"text-center",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:o.jsx(si,{className:"w-6 h-6 text-primary"})}),o.jsx(Ze,{className:"text-2xl",children:"Configuración Inicial"}),o.jsx(Qt,{children:"Crear cuenta de Presidencia (Administrador)"})]}),o.jsx(Ae,{children:o.jsx(ob,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-4",children:[o.jsx(Ft,{control:a.control,name:"displayName",rules:{required:"El nombre es requerido"},render:({field:l})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Nombre Completo"}),o.jsx(Rt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Du,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{className:"pl-10",placeholder:"Juan Pérez",...l})]})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:a.control,name:"email",rules:{pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Email inválido"}},render:({field:l})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Email"}),o.jsx(Rt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(mv,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{className:"pl-10",type:"email",placeholder:"presidencia@jpusap.com",...l})]})}),o.jsx(Ut,{}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Sugerido: presidencia@jpusap.com"})]})}),o.jsx(Ft,{control:a.control,name:"username",render:({field:l})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Usuario (opcional)"}),o.jsx(Rt,{children:o.jsx(Ce,{placeholder:"presidencia",...l})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:a.control,name:"password",rules:{required:"La contraseña es requerida",minLength:{value:6,message:"Mínimo 6 caracteres"}},render:({field:l})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Contraseña"}),o.jsx(Rt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(hv,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{className:"pl-10",type:"password",placeholder:"••••••••",...l})]})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:a.control,name:"confirmPassword",rules:{required:"Confirma tu contraseña"},render:({field:l})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Confirmar Contraseña"}),o.jsx(Rt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(hv,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{className:"pl-10",type:"password",placeholder:"••••••••",...l})]})}),o.jsx(Ut,{})]})}),n&&o.jsx(ap,{variant:"destructive",children:o.jsx(ip,{children:n})}),o.jsxs(_e,{type:"submit",className:"w-full",disabled:t,children:[t&&o.jsx(Ul,{className:"mr-2 h-4 w-4 animate-spin"}),"Crear Administrador"]})]})})})]})})},Rpe=async()=>{const e=await Mt(Ge(qe,"users"));return e.exists()?Object.values(e.val()).some(r=>((r==null?void 0:r.roleId)==="super_admin"||(r==null?void 0:r.roleId)==="presidencia")&&(r==null?void 0:r.activo)===!0):!1};function Ipe(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),[s,a]=w.useState(null),{user:i,profile:l}=ui(),c=Vo(),u=ec(),{toast:d}=La(),f=$u({defaultValues:{identifier:"",password:""}});w.useEffect(()=>{var m,g;if(console.log("🔍 Login: useEffect - user:",i==null?void 0:i.email,"profile:",l==null?void 0:l.roleId),!i)return;const x=((g=(m=u.state)==null?void 0:m.from)==null?void 0:g.pathname)||"/inicio";console.log("➡️ Login: Redirecting to:",x),c(x,{replace:!0})},[i,u.state,c]),w.useEffect(()=>{(async()=>{try{if(await Cme()){a(!0);return}if(await Rpe()){a(!0);return}a(!1)}catch(m){console.error("❌ Error checking bootstrap:",m),a(!0)}})()},[]);const h=async x=>{console.log("🔐 Login: Attempting login with:",x.identifier),t(!0),n(null);try{const m=await Hme(x.identifier,x.password);console.log("✅ Login: Success, result:",m.user.uid),d({title:"Inicio de sesión exitoso",description:"Bienvenido al sistema."})}catch(m){const g=String((m==null?void 0:m.message)||"").toLowerCase();let _="Error al iniciar sesión";g.includes("usuario_suspendido")||g.includes("user-disabled")?_="Tu acceso está deshabilitado, contacta a Presidencia.":g.includes("user-not-found")||g.includes("usuario no encontrado")?_="Usuario no encontrado":g.includes("wrong-password")?_="Contraseña incorrecta":g.includes("invalid-email")&&(_="Email inválido"),n(_)}finally{t(!1)}},p=()=>{a(!0),d({title:"Sistema inicializado",description:"Ahora puedes iniciar sesión con la cuenta de Presidencia."})};return s===!1?o.jsx(Dpe,{onComplete:p}):s===null?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ul,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Iniciando sistema..."})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary/20 p-4",children:o.jsxs(ke,{className:"w-full max-w-md",children:[o.jsxs(Qe,{className:"text-center",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:o.jsx(si,{className:"w-6 h-6 text-primary"})}),o.jsx(Ze,{className:"text-2xl",children:"Iniciar Sesión"}),o.jsx(Qt,{children:"Sistema de Gestión Vecinal JPUSAP"})]}),o.jsx(Ae,{children:o.jsx(ob,{...f,children:o.jsxs("form",{onSubmit:f.handleSubmit(h),className:"space-y-4",children:[o.jsx(Ft,{control:f.control,name:"identifier",rules:{required:"Usuario o email es requerido"},render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Usuario o Email"}),o.jsx(Rt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(mv,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{className:"pl-10",placeholder:"presidencia@jpusap.com",autoComplete:"username",...x})]})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:f.control,name:"password",rules:{required:"La contraseña es requerida"},render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Contraseña"}),o.jsx(Rt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(hv,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{className:"pl-10",type:"password",placeholder:"••••••••",autoComplete:"current-password",...x})]})}),o.jsx(Ut,{})]})}),r&&o.jsx(ap,{variant:"destructive",children:o.jsx(ip,{children:r})}),o.jsxs(_e,{type:"submit",className:"w-full",disabled:e,children:[e&&o.jsx(Ul,{className:"mr-2 h-4 w-4 animate-spin"}),"Iniciar Sesión"]})]})})})]})})}const Mpe=Vm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function pt({className:e,variant:t,...r}){return o.jsx("div",{className:Ye(Mpe({variant:t}),e),...r})}const Fpe=()=>{const e=[],t=[],r=n=>{switch(n){case"programada":return"secondary";case"convocada":return"default";case"realizada":return"outline";default:return"secondary"}};return o.jsxs("div",{className:"min-h-screen bg-background pb-20 md:pb-0",children:[o.jsx(Jd,{}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>window.location.href="/",className:"gap-2",children:[o.jsx(Wi,{className:"w-4 h-4"}),"Inicio"]}),o.jsx("div",{className:"h-6 w-px bg-border"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Sesiones y Asambleas"}),o.jsx("p",{className:"text-muted-foreground",children:"Convocatorias, quórum y acuerdos"})]})]}),o.jsxs(_e,{className:"bg-primary hover:bg-primary-hover",children:[o.jsx(gs,{className:"h-4 w-4 mr-2"}),"Nueva Sesión"]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs(_e,{variant:"outline",className:"h-auto p-4 flex flex-col space-y-2",children:[o.jsx(gs,{className:"h-6 w-6"}),o.jsx("span",{className:"text-sm",children:"Programar Sesión"})]}),o.jsxs(_e,{variant:"outline",className:"h-auto p-4 flex flex-col space-y-2",children:[o.jsx(aa,{className:"h-6 w-6"}),o.jsx("span",{className:"text-sm",children:"Convocar"})]}),o.jsxs(_e,{variant:"outline",className:"h-auto p-4 flex flex-col space-y-2",children:[o.jsx(dv,{className:"h-6 w-6"}),o.jsx("span",{className:"text-sm",children:"Asistencia"})]}),o.jsxs(_e,{variant:"outline",className:"h-auto p-4 flex flex-col space-y-2",children:[o.jsx(Ll,{className:"h-6 w-6"}),o.jsx("span",{className:"text-sm",children:"Votaciones"})]})]}),o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center space-x-2",children:[o.jsx(gs,{className:"h-5 w-5"}),o.jsx("span",{children:"Próximas Sesiones"})]})}),o.jsx(Ae,{children:o.jsx("div",{className:"space-y-4",children:e.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(gs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No hay sesiones programadas"})]}):e.map(n=>o.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:n.tipo}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.fecha," - ",n.hora]})]}),o.jsx(pt,{variant:r(n.estado),children:n.estado})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(aa,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{children:[n.asistentes," confirmados"]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(dv,{className:`h-4 w-4 ${n.asistentes>=n.quorum?"text-success":"text-warning"}`}),o.jsxs("span",{children:["Quórum: ",n.quorum]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(_e,{size:"sm",variant:"outline",children:"Ver Agenda"}),o.jsx(_e,{size:"sm",variant:"outline",children:"Gestionar"})]})]},n.id))})})]}),o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsx(Ze,{children:"Historial de Sesiones"})}),o.jsx(Ae,{children:o.jsx("div",{className:"space-y-4",children:t.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ll,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No hay sesiones realizadas"})]}):t.map(n=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",children:n.tipo}),o.jsx("p",{className:"text-xs text-muted-foreground",children:n.fecha})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-medium",children:n.acuerdos}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"acuerdos"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-medium",children:n.asistencia}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"asistencia"})]}),o.jsx(_e,{size:"sm",variant:"outline",children:"Ver Acta"})]})]},n.id))})})]})]}),o.jsx(_m,{})]})},Lpe=()=>{const e=ec();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function pC(e,[t,r]){return Math.min(r,Math.max(t,e))}var $pe=w.createContext(void 0);function cb(e){const t=w.useContext($pe);return e||t||"ltr"}var FE=0;function Wj(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??WM()),document.body.insertAdjacentElement("beforeend",e[1]??WM()),FE++,()=>{FE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),FE--}},[])}function WM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var LE="focusScope.autoFocusOnMount",$E="focusScope.autoFocusOnUnmount",VM={bubbles:!1,cancelable:!0},Upe="FocusScope",ub=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=w.useState(null),u=Nn(s),d=Nn(a),f=w.useRef(null),h=Ht(t,m=>c(m)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let m=function(S){if(p.paused||!l)return;const E=S.target;l.contains(E)?f.current=E:Ec(f.current,{select:!0})},g=function(S){if(p.paused||!l)return;const E=S.relatedTarget;E!==null&&(l.contains(E)||Ec(f.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&Ec(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const y=new MutationObserver(_);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),y.disconnect()}}},[n,l,p.paused]),w.useEffect(()=>{if(l){HM.add(p);const m=document.activeElement;if(!l.contains(m)){const _=new CustomEvent(LE,VM);l.addEventListener(LE,u),l.dispatchEvent(_),_.defaultPrevented||(Bpe(Ype(k9(l)),{select:!0}),document.activeElement===m&&Ec(l))}return()=>{l.removeEventListener(LE,u),setTimeout(()=>{const _=new CustomEvent($E,VM);l.addEventListener($E,d),l.dispatchEvent(_),_.defaultPrevented||Ec(m??document.body,{select:!0}),l.removeEventListener($E,d),HM.remove(p)},0)}}},[l,u,d,p]);const x=w.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,_=document.activeElement;if(g&&_){const y=m.currentTarget,[S,E]=Wpe(y);S&&E?!m.shiftKey&&_===E?(m.preventDefault(),r&&Ec(S,{select:!0})):m.shiftKey&&_===S&&(m.preventDefault(),r&&Ec(E,{select:!0})):_===y&&m.preventDefault()}},[r,n,p.paused]);return o.jsx(dt.div,{tabIndex:-1,...i,ref:h,onKeyDown:x})});ub.displayName=Upe;function Bpe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ec(n,{select:t}),document.activeElement!==r)return}function Wpe(e){const t=k9(e),r=zM(t,e),n=zM(t.reverse(),e);return[r,n]}function k9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zM(e,t){for(const r of e)if(!Vpe(r,{upTo:t}))return r}function Vpe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zpe(e){return e instanceof HTMLInputElement&&"select"in e}function Ec(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zpe(e)&&t&&e.select()}}var HM=Hpe();function Hpe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=YM(e,t),e.unshift(t)},remove(t){var r;e=YM(e,t),(r=e[0])==null||r.resume()}}}function YM(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Ype(e){return e.filter(t=>t.tagName!=="A")}function j9(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Gpe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gf=new WeakMap,s1=new WeakMap,a1={},UE=0,A9=function(e){return e&&(e.host||A9(e.parentNode))},qpe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=A9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Kpe=function(e,t,r,n){var s=qpe(t,Array.isArray(e)?e:[e]);a1[r]||(a1[r]=new WeakMap);var a=a1[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),x=p!==null&&p!=="false",m=(Gf.get(h)||0)+1,g=(a.get(h)||0)+1;Gf.set(h,m),a.set(h,g),i.push(h),m===1&&x&&s1.set(h,!0),g===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",h,_)}})};return d(t),l.clear(),UE++,function(){i.forEach(function(f){var h=Gf.get(f)-1,p=a.get(f)-1;Gf.set(f,h),a.set(f,p),h||(s1.has(f)||f.removeAttribute(n),s1.delete(f)),p||f.removeAttribute(r)}),UE--,UE||(Gf=new WeakMap,Gf=new WeakMap,s1=new WeakMap,a1={})}},Vj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=Gpe(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Kpe(n,s,r,"aria-hidden")):function(){return null}},yo=function(){return yo=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},yo.apply(this,arguments)};function P9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Xpe(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Q1="right-scroll-bar-position",Z1="width-before-scroll-bar",Qpe="with-scroll-bars-hidden",Zpe="--removed-body-scroll-bar-size";function BE(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Jpe(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var e0e=typeof window<"u"?w.useLayoutEffect:w.useEffect,GM=new WeakMap;function t0e(e,t){var r=Jpe(null,function(n){return e.forEach(function(s){return BE(s,n)})});return e0e(function(){var n=GM.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||BE(l,null)}),a.forEach(function(l){s.has(l)||BE(l,i)})}GM.set(r,e)},[e]),r}function r0e(e){return e}function n0e(e,t){t===void 0&&(t=r0e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function s0e(e){e===void 0&&(e={});var t=n0e(null);return t.options=yo({async:!0,ssr:!1},e),t}var O9=function(e){var t=e.sideCar,r=P9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,yo({},r))};O9.isSideCarExport=!0;function a0e(e,t){return e.useMedium(t),O9}var D9=s0e(),WE=function(){},db=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:WE,onWheelCapture:WE,onTouchMoveCapture:WE}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,x=e.noIsolation,m=e.inert,g=e.allowPinchZoom,_=e.as,y=_===void 0?"div":_,S=e.gapMode,E=P9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,P=t0e([r,t]),N=yo(yo({},E),s);return w.createElement(w.Fragment,null,d&&w.createElement(C,{sideCar:D9,removeScrollBar:u,shards:f,noRelative:p,noIsolation:x,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:S}),i?w.cloneElement(w.Children.only(l),yo(yo({},N),{ref:P})):w.createElement(y,yo({},N,{className:c,ref:P}),l))});db.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};db.classNames={fullWidth:Z1,zeroRight:Q1};var i0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o0e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=i0e();return t&&e.setAttribute("nonce",t),e}function l0e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function c0e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var u0e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=o0e())&&(l0e(t,r),c0e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},d0e=function(){var e=u0e();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},R9=function(){var e=d0e(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},f0e={left:0,top:0,right:0,gap:0},VE=function(e){return parseInt(e||"",10)||0},h0e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[VE(r),VE(n),VE(s)]},m0e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return f0e;var t=h0e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},p0e=R9(),Fh="data-scroll-locked",v0e=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Qpe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Fh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Q1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Z1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Q1," .").concat(Q1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Z1," .").concat(Z1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Fh,`] {
    `).concat(Zpe,": ").concat(l,`px;
  }
`)},qM=function(){var e=parseInt(document.body.getAttribute(Fh)||"0",10);return isFinite(e)?e:0},g0e=function(){w.useEffect(function(){return document.body.setAttribute(Fh,(qM()+1).toString()),function(){var e=qM()-1;e<=0?document.body.removeAttribute(Fh):document.body.setAttribute(Fh,e.toString())}},[])},x0e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;g0e();var a=w.useMemo(function(){return m0e(s)},[s]);return w.createElement(p0e,{styles:v0e(a,!t,s,r?"":"!important")})},vC=!1;if(typeof window<"u")try{var i1=Object.defineProperty({},"passive",{get:function(){return vC=!0,!0}});window.addEventListener("test",i1,i1),window.removeEventListener("test",i1,i1)}catch{vC=!1}var qf=vC?{passive:!1}:!1,y0e=function(e){return e.tagName==="TEXTAREA"},I9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!y0e(e)&&r[t]==="visible")},_0e=function(e){return I9(e,"overflowY")},w0e=function(e){return I9(e,"overflowX")},KM=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=M9(e,n);if(s){var a=F9(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},b0e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},S0e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},M9=function(e,t){return e==="v"?_0e(t):w0e(t)},F9=function(e,t){return e==="v"?b0e(t):S0e(t)},E0e=function(e,t){return e==="h"&&t==="rtl"?-1:1},T0e=function(e,t,r,n,s){var a=E0e(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var p=F9(e,l),x=p[0],m=p[1],g=p[2],_=m-g-a*x;(x||_)&&M9(e,l)&&(f+=_,h+=x);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},o1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},XM=function(e){return[e.deltaX,e.deltaY]},QM=function(e){return e&&"current"in e?e.current:e},C0e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},N0e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},k0e=0,Kf=[];function j0e(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),s=w.useState(k0e++)[0],a=w.useState(R9)[0],i=w.useRef(e);w.useEffect(function(){i.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Xpe([e.lockRef.current],(e.shards||[]).map(QM),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var _=o1(m),y=r.current,S="deltaX"in m?m.deltaX:y[0]-_[0],E="deltaY"in m?m.deltaY:y[1]-_[1],C,P=m.target,N=Math.abs(S)>Math.abs(E)?"h":"v";if("touches"in m&&N==="h"&&P.type==="range")return!1;var A=KM(N,P);if(!A)return!0;if(A?C=N:(C=N==="v"?"h":"v",A=KM(N,P)),!A)return!1;if(!n.current&&"changedTouches"in m&&(S||E)&&(n.current=C),!C)return!0;var j=n.current||C;return T0e(j,g,m,j==="h"?S:E,!0)},[]),c=w.useCallback(function(m){var g=m;if(!(!Kf.length||Kf[Kf.length-1]!==a)){var _="deltaY"in g?XM(g):o1(g),y=t.current.filter(function(C){return C.name===g.type&&(C.target===g.target||g.target===C.shadowParent)&&C0e(C.delta,_)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var S=(i.current.shards||[]).map(QM).filter(Boolean).filter(function(C){return C.contains(g.target)}),E=S.length>0?l(g,S[0]):!i.current.noIsolation;E&&g.cancelable&&g.preventDefault()}}},[]),u=w.useCallback(function(m,g,_,y){var S={name:m,delta:g,target:_,should:y,shadowParent:A0e(_)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(E){return E!==S})},1)},[]),d=w.useCallback(function(m){r.current=o1(m),n.current=void 0},[]),f=w.useCallback(function(m){u(m.type,XM(m),m.target,l(m,e.lockRef.current))},[]),h=w.useCallback(function(m){u(m.type,o1(m),m.target,l(m,e.lockRef.current))},[]);w.useEffect(function(){return Kf.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,qf),document.addEventListener("touchmove",c,qf),document.addEventListener("touchstart",d,qf),function(){Kf=Kf.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,qf),document.removeEventListener("touchmove",c,qf),document.removeEventListener("touchstart",d,qf)}},[]);var p=e.removeScrollBar,x=e.inert;return w.createElement(w.Fragment,null,x?w.createElement(a,{styles:N0e(s)}):null,p?w.createElement(x0e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function A0e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const P0e=a0e(D9,j0e);var fb=w.forwardRef(function(e,t){return w.createElement(db,yo({},e,{ref:t,sideCar:P0e}))});fb.classNames=db.classNames;var O0e=[" ","Enter","ArrowUp","ArrowDown"],D0e=[" ","Enter"],ef="Select",[hb,mb,R0e]=ok(ef),[lp,TZe]=ha(ef,[R0e,Gm]),pb=Gm(),[I0e,Uu]=lp(ef),[M0e,F0e]=lp(ef),L9=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:x}=e,m=pb(t),[g,_]=w.useState(null),[y,S]=w.useState(null),[E,C]=w.useState(!1),P=cb(u),[N,A]=mu({prop:n,defaultProp:s??!1,onChange:a,caller:ef}),[j,O]=mu({prop:i,defaultProp:l,onChange:c,caller:ef}),W=w.useRef(null),z=g?x||!!g.closest("form"):!0,[Y,J]=w.useState(new Set),ie=Array.from(Y).map(oe=>oe.props.value).join(";");return o.jsx(a8,{...m,children:o.jsxs(I0e,{required:p,scope:t,trigger:g,onTriggerChange:_,valueNode:y,onValueNodeChange:S,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:Sl(),value:j,onValueChange:O,open:N,onOpenChange:A,dir:P,triggerPointerDownPosRef:W,disabled:h,children:[o.jsx(hb.Provider,{scope:t,children:o.jsx(M0e,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(oe=>{J(re=>new Set(re).add(oe))},[]),onNativeOptionRemove:w.useCallback(oe=>{J(re=>{const Z=new Set(re);return Z.delete(oe),Z})},[]),children:r})}),z?o.jsxs(l7,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:j,onChange:oe=>O(oe.target.value),disabled:h,form:x,children:[j===void 0?o.jsx("option",{value:""}):null,Array.from(Y)]},ie):null]})})};L9.displayName=ef;var $9="SelectTrigger",U9=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=pb(r),i=Uu($9,r),l=i.disabled||n,c=Ht(t,i.onTriggerChange),u=mb(r),d=w.useRef("touch"),[f,h,p]=u7(m=>{const g=u().filter(S=>!S.disabled),_=g.find(S=>S.value===i.value),y=d7(g,m,_);y!==void 0&&i.onValueChange(y.value)}),x=m=>{l||(i.onOpenChange(!0),p()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(Nw,{asChild:!0,...a,children:o.jsx(dt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":c7(i.value)?"":void 0,...s,ref:c,onClick:it(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&x(m)}),onPointerDown:it(s.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:it(s.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&O0e.includes(m.key)&&(x(),m.preventDefault())})})})});U9.displayName=$9;var B9="SelectValue",W9=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=Uu(B9,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Ht(t,c.onValueNodeChange);return wn(()=>{u(d)},[u,d]),o.jsx(dt.span,{...l,ref:f,style:{pointerEvents:"none"},children:c7(c.value)?o.jsx(o.Fragment,{children:i}):a})});W9.displayName=B9;var L0e="SelectIcon",V9=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(dt.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});V9.displayName=L0e;var $0e="SelectPortal",z9=e=>o.jsx(xg,{asChild:!0,...e});z9.displayName=$0e;var tf="SelectContent",H9=w.forwardRef((e,t)=>{const r=Uu(tf,e.__scopeSelect),[n,s]=w.useState();if(wn(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?yf.createPortal(o.jsx(Y9,{scope:e.__scopeSelect,children:o.jsx(hb.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(G9,{...e,ref:t})});H9.displayName=tf;var Ti=10,[Y9,Bu]=lp(tf),U0e="SelectContentImpl",B0e=Bd("SelectContent.RemoveScroll"),G9=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:g,..._}=e,y=Uu(tf,r),[S,E]=w.useState(null),[C,P]=w.useState(null),N=Ht(t,X=>E(X)),[A,j]=w.useState(null),[O,W]=w.useState(null),z=mb(r),[Y,J]=w.useState(!1),ie=w.useRef(!1);w.useEffect(()=>{if(S)return Vj(S)},[S]),Wj();const oe=w.useCallback(X=>{const[de,...ye]=z().map(We=>We.ref.current),[me]=ye.slice(-1),Ue=document.activeElement;for(const We of X)if(We===Ue||(We==null||We.scrollIntoView({block:"nearest"}),We===de&&C&&(C.scrollTop=0),We===me&&C&&(C.scrollTop=C.scrollHeight),We==null||We.focus(),document.activeElement!==Ue))return},[z,C]),re=w.useCallback(()=>oe([A,S]),[oe,A,S]);w.useEffect(()=>{Y&&re()},[Y,re]);const{onOpenChange:Z,triggerPointerDownPosRef:ae}=y;w.useEffect(()=>{if(S){let X={x:0,y:0};const de=me=>{var Ue,We;X={x:Math.abs(Math.round(me.pageX)-(((Ue=ae.current)==null?void 0:Ue.x)??0)),y:Math.abs(Math.round(me.pageY)-(((We=ae.current)==null?void 0:We.y)??0))}},ye=me=>{X.x<=10&&X.y<=10?me.preventDefault():S.contains(me.target)||Z(!1),document.removeEventListener("pointermove",de),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ye,{capture:!0})}}},[S,Z,ae]),w.useEffect(()=>{const X=()=>Z(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[Z]);const[ge,se]=u7(X=>{const de=z().filter(Ue=>!Ue.disabled),ye=de.find(Ue=>Ue.ref.current===document.activeElement),me=d7(de,X,ye);me&&setTimeout(()=>me.ref.current.focus())}),R=w.useCallback((X,de,ye)=>{const me=!ie.current&&!ye;(y.value!==void 0&&y.value===de||me)&&(j(X),me&&(ie.current=!0))},[y.value]),F=w.useCallback(()=>S==null?void 0:S.focus(),[S]),L=w.useCallback((X,de,ye)=>{const me=!ie.current&&!ye;(y.value!==void 0&&y.value===de||me)&&W(X)},[y.value]),I=n==="popper"?gC:q9,U=I===gC?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:g}:{};return o.jsx(Y9,{scope:r,content:S,viewport:C,onViewportChange:P,itemRefCallback:R,selectedItem:A,onItemLeave:F,itemTextRefCallback:L,focusSelectedItem:re,selectedItemText:O,position:n,isPositioned:Y,searchRef:ge,children:o.jsx(fb,{as:B0e,allowPinchZoom:!0,children:o.jsx(ub,{asChild:!0,trapped:y.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:it(s,X=>{var de;(de=y.trigger)==null||de.focus({preventScroll:!0}),X.preventDefault()}),children:o.jsx(Wm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(I,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:X=>X.preventDefault(),..._,...U,onPlaced:()=>J(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:it(_.onKeyDown,X=>{const de=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!de&&X.key.length===1&&se(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let me=z().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(X.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Ue=X.target,We=me.indexOf(Ue);me=me.slice(We+1)}setTimeout(()=>oe(me)),X.preventDefault()}})})})})})})});G9.displayName=U0e;var W0e="SelectItemAlignedPosition",q9=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Uu(tf,r),i=Bu(tf,r),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Ht(t,N=>d(N)),h=mb(r),p=w.useRef(!1),x=w.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:_,focusSelectedItem:y}=i,S=w.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&m&&g&&_){const N=a.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),j=a.valueNode.getBoundingClientRect(),O=_.getBoundingClientRect();if(a.dir!=="rtl"){const Ue=O.left-A.left,We=j.left-Ue,mt=N.left-We,lt=N.width+mt,Kt=Math.max(lt,A.width),ut=window.innerWidth-Ti,Ie=pC(We,[Ti,Math.max(Ti,ut-Kt)]);l.style.minWidth=lt+"px",l.style.left=Ie+"px"}else{const Ue=A.right-O.right,We=window.innerWidth-j.right-Ue,mt=window.innerWidth-N.right-We,lt=N.width+mt,Kt=Math.max(lt,A.width),ut=window.innerWidth-Ti,Ie=pC(We,[Ti,Math.max(Ti,ut-Kt)]);l.style.minWidth=lt+"px",l.style.right=Ie+"px"}const W=h(),z=window.innerHeight-Ti*2,Y=m.scrollHeight,J=window.getComputedStyle(u),ie=parseInt(J.borderTopWidth,10),oe=parseInt(J.paddingTop,10),re=parseInt(J.borderBottomWidth,10),Z=parseInt(J.paddingBottom,10),ae=ie+oe+Y+Z+re,ge=Math.min(g.offsetHeight*5,ae),se=window.getComputedStyle(m),R=parseInt(se.paddingTop,10),F=parseInt(se.paddingBottom,10),L=N.top+N.height/2-Ti,I=z-L,U=g.offsetHeight/2,X=g.offsetTop+U,de=ie+oe+X,ye=ae-de;if(de<=L){const Ue=W.length>0&&g===W[W.length-1].ref.current;l.style.bottom="0px";const We=u.clientHeight-m.offsetTop-m.offsetHeight,mt=Math.max(I,U+(Ue?F:0)+We+re),lt=de+mt;l.style.height=lt+"px"}else{const Ue=W.length>0&&g===W[0].ref.current;l.style.top="0px";const mt=Math.max(L,ie+m.offsetTop+(Ue?R:0)+U)+ye;l.style.height=mt+"px",m.scrollTop=de-L+m.offsetTop}l.style.margin=`${Ti}px 0`,l.style.minHeight=ge+"px",l.style.maxHeight=z+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,m,g,_,a.dir,n]);wn(()=>S(),[S]);const[E,C]=w.useState();wn(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const P=w.useCallback(N=>{N&&x.current===!0&&(S(),y==null||y(),x.current=!1)},[S,y]);return o.jsx(z0e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:o.jsx(dt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});q9.displayName=W0e;var V0e="SelectPopperPosition",gC=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ti,...a}=e,i=pb(r);return o.jsx(Tk,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gC.displayName=V0e;var[z0e,zj]=lp(tf,{}),xC="SelectViewport",K9=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Bu(xC,r),i=zj(xC,r),l=Ht(t,a.onViewportChange),c=w.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(hb.Slot,{scope:r,children:o.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:it(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-Ti*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),_=Math.max(m,g);if(_<x){const y=_+p,S=Math.min(x,y),E=y-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});K9.displayName=xC;var X9="SelectGroup",[H0e,Y0e]=lp(X9),G0e=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Sl();return o.jsx(H0e,{scope:r,id:s,children:o.jsx(dt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});G0e.displayName=X9;var Q9="SelectLabel",Z9=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Y0e(Q9,r);return o.jsx(dt.div,{id:s.id,...n,ref:t})});Z9.displayName=Q9;var g_="SelectItem",[q0e,J9]=lp(g_),e7=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=Uu(g_,r),c=Bu(g_,r),u=l.value===n,[d,f]=w.useState(a??""),[h,p]=w.useState(!1),x=Ht(t,y=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,y,n,s)}),m=Sl(),g=w.useRef("touch"),_=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(q0e,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:w.useCallback(y=>{f(S=>S||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx(hb.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(dt.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:it(i.onFocus,()=>p(!0)),onBlur:it(i.onBlur,()=>p(!1)),onClick:it(i.onClick,()=>{g.current!=="mouse"&&_()}),onPointerUp:it(i.onPointerUp,()=>{g.current==="mouse"&&_()}),onPointerDown:it(i.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:it(i.onPointerMove,y=>{var S;g.current=y.pointerType,s?(S=c.onItemLeave)==null||S.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:it(i.onPointerLeave,y=>{var S;y.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:it(i.onKeyDown,y=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&y.key===" "||(D0e.includes(y.key)&&_(),y.key===" "&&y.preventDefault())})})})})});e7.displayName=g_;var m0="SelectItemText",t7=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=Uu(m0,r),l=Bu(m0,r),c=J9(m0,r),u=F0e(m0,r),[d,f]=w.useState(null),h=Ht(t,_=>f(_),c.onItemTextChange,_=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,_,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=w.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return wn(()=>(m(x),()=>g(x)),[m,g,x]),o.jsxs(o.Fragment,{children:[o.jsx(dt.span,{id:c.textId,...a,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?yf.createPortal(a.children,i.valueNode):null]})});t7.displayName=m0;var r7="SelectItemIndicator",n7=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return J9(r7,r).isSelected?o.jsx(dt.span,{"aria-hidden":!0,...n,ref:t}):null});n7.displayName=r7;var yC="SelectScrollUpButton",s7=w.forwardRef((e,t)=>{const r=Bu(yC,e.__scopeSelect),n=zj(yC,e.__scopeSelect),[s,a]=w.useState(!1),i=Ht(t,n.onScrollButtonChange);return wn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(i7,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});s7.displayName=yC;var _C="SelectScrollDownButton",a7=w.forwardRef((e,t)=>{const r=Bu(_C,e.__scopeSelect),n=zj(_C,e.__scopeSelect),[s,a]=w.useState(!1),i=Ht(t,n.onScrollButtonChange);return wn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(i7,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});a7.displayName=_C;var i7=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Bu("SelectScrollButton",r),i=w.useRef(null),l=mb(r),c=w.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),wn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(dt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:it(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:it(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:it(s.onPointerLeave,()=>{c()})})}),K0e="SelectSeparator",o7=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(dt.div,{"aria-hidden":!0,...n,ref:t})});o7.displayName=K0e;var wC="SelectArrow",X0e=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=pb(r),a=Uu(wC,r),i=Bu(wC,r);return a.open&&i.position==="popper"?o.jsx(Ck,{...s,...n,ref:t}):null});X0e.displayName=wC;var Q0e="SelectBubbleInput",l7=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=w.useRef(null),a=Ht(n,s),i=j9(t);return w.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(dt.select,{...r,style:{...X5,...r.style},ref:a,defaultValue:t})});l7.displayName=Q0e;function c7(e){return e===""||e===void 0}function u7(e){const t=Nn(e),r=w.useRef(""),n=w.useRef(0),s=w.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function d7(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=Z0e(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Z0e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var J0e=L9,f7=U9,eve=W9,tve=V9,rve=z9,h7=H9,nve=K9,m7=Z9,p7=e7,sve=t7,ave=n7,v7=s7,g7=a7,x7=o7;const hr=J0e,mr=eve,dr=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(f7,{ref:n,className:Ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(tve,{asChild:!0,children:o.jsx(_$,{className:"h-4 w-4 opacity-50"})})]}));dr.displayName=f7.displayName;const y7=w.forwardRef(({className:e,...t},r)=>o.jsx(v7,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(dre,{className:"h-4 w-4"})}));y7.displayName=v7.displayName;const _7=w.forwardRef(({className:e,...t},r)=>o.jsx(g7,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(_$,{className:"h-4 w-4"})}));_7.displayName=g7.displayName;const fr=w.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(rve,{children:o.jsxs(h7,{ref:s,className:Ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(y7,{}),o.jsx(nve,{className:Ye("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(_7,{})]})}));fr.displayName=h7.displayName;const ive=w.forwardRef(({className:e,...t},r)=>o.jsx(m7,{ref:r,className:Ye("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ive.displayName=m7.displayName;const Te=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(p7,{ref:n,className:Ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(ave,{children:o.jsx(y$,{className:"h-4 w-4"})})}),o.jsx(sve,{children:t})]}));Te.displayName=p7.displayName;const ove=w.forwardRef(({className:e,...t},r)=>o.jsx(x7,{ref:r,className:Ye("-mx-1 my-1 h-px bg-muted",e),...t}));ove.displayName=x7.displayName;const lve=({module:e,level:t,children:r,fallback:n=null})=>{const{can:s}=sp();return s(e,t)?o.jsx(o.Fragment,{children:r}):o.jsx(o.Fragment,{children:n})};function ZM(){const{user:e,profile:t}=ui(),{isPresidencia:r}=sp(),n=Vo(),[s,a]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState(!0),[d,f]=w.useState({search:"",roleId:"",activo:""});w.useEffect(()=>{if(!e){n("/login");return}if(!r){n("/inicio");return}h()},[e,r,n]);const h=async()=>{try{u(!0);const[_,y]=await Promise.all([bme(),Dj()]);a(_),l(y)}catch(_){console.error("Error loading data:",_),gt({title:"Error",description:"Error al cargar los datos",variant:"destructive"})}finally{u(!1)}},p=async(_,y)=>{if(e!=null&&e.uid)try{await wme(_,y,e.uid),await h(),gt({title:y?"Usuario activado":"Usuario suspendido",description:`El usuario ha sido ${y?"activado":"suspendido"} exitosamente.`})}catch(S){console.error("Error toggling user status:",S),gt({title:"Error",description:"Error al cambiar el estado del usuario",variant:"destructive"})}},x=async _=>{try{await Gme(_),gt({title:"Email enviado",description:"Se ha enviado un email para restablecer la contraseña."})}catch(y){console.error("Error sending reset email:",y),gt({title:"Error",description:"Error al enviar el email de restablecimiento",variant:"destructive"})}},m=s.filter(_=>{var C;const y=!d.search||_.displayName.toLowerCase().includes(d.search.toLowerCase())||_.email.toLowerCase().includes(d.search.toLowerCase())||((C=_.username)==null?void 0:C.toLowerCase().includes(d.search.toLowerCase())),S=!d.roleId||d.roleId==="all"||_.roleId===d.roleId,E=d.activo===""||d.activo==="all"||_.activo.toString()===d.activo;return y&&S&&E}),g=_=>{var y;return((y=i.find(S=>S.id===_))==null?void 0:y.nombre)||_};return c?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ul,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Cargando usuarios..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:[o.jsx("div",{className:"border-b bg-background/80 backdrop-blur-sm sticky top-0 z-10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>n("/inicio"),className:"gap-2",children:[o.jsx(Wi,{className:"w-4 h-4"}),"Inicio"]}),o.jsx("div",{className:"h-6 w-px bg-border"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(aa,{className:"w-5 h-5 text-primary"}),o.jsx("h1",{className:"text-xl font-semibold",children:"Gestión de Usuarios"})]})]}),o.jsx(lve,{module:"usuarios",level:"write",children:o.jsx(_e,{asChild:!0,children:o.jsxs(El,{to:"/admin/users/new",className:"gap-2",children:[o.jsx(Vi,{className:"w-4 h-4"}),"Nuevo Usuario"]})})})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto p-4 space-y-6",children:[o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(fk,{className:"w-5 h-5"}),"Filtros"]})}),o.jsx(Ae,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ou,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{placeholder:"Buscar por nombre, email o usuario...",value:d.search,onChange:_=>f(y=>({...y,search:_.target.value})),className:"pl-10"})]}),o.jsxs(hr,{value:d.roleId,onValueChange:_=>f(y=>({...y,roleId:_})),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Filtrar por rol"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"all",children:"Todos los roles"}),i.map(_=>o.jsx(Te,{value:_.id,children:_.nombre},_.id))]})]}),o.jsxs(hr,{value:d.activo,onValueChange:_=>f(y=>({...y,activo:_})),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Filtrar por estado"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"all",children:"Todos los estados"}),o.jsx(Te,{value:"true",children:"Activos"}),o.jsx(Te,{value:"false",children:"Suspendidos"})]})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(ke,{children:o.jsx(Ae,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsx(aa,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:s.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Usuarios"})]})]})})}),o.jsx(ke,{children:o.jsx(Ae,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx($R,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:s.filter(_=>_.activo).length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Activos"})]})]})})}),o.jsx(ke,{children:o.jsx(Ae,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx(LR,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:s.filter(_=>!_.activo).length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Suspendidos"})]})]})})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(_=>o.jsxs(ke,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(Qe,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx(Ze,{className:"text-lg",children:_.displayName}),o.jsxs(Qt,{className:"flex items-center gap-2",children:[o.jsx(mv,{className:"w-3 h-3"}),_.email]}),_.username&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["@",_.username]})]}),o.jsx(pt,{variant:_.activo?"default":"destructive",children:_.activo?"Activo":"Suspendido"})]})}),o.jsx(Ae,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Rol"}),o.jsx(pt,{variant:"outline",children:g(_.roleId)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(_e,{variant:"outline",size:"sm",asChild:!0,className:"flex-1",children:o.jsxs(El,{to:`/admin/users/${_.uid}/permissions`,children:[o.jsx(dm,{className:"w-3 h-3 mr-1"}),"Permisos"]})}),o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>x(_.email),children:o.jsx(mv,{className:"w-3 h-3"})}),o.jsx(_e,{variant:_.activo?"destructive":"default",size:"sm",onClick:()=>p(_.uid,!_.activo),children:_.activo?o.jsx(LR,{className:"w-3 h-3"}):o.jsx($R,{className:"w-3 h-3"})})]})]})})]},_.uid))}),m.length===0&&o.jsx(ke,{children:o.jsxs(Ae,{className:"p-8 text-center",children:[o.jsx(aa,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No se encontraron usuarios"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No hay usuarios que coincidan con los filtros aplicados."}),o.jsx(_e,{asChild:!0,children:o.jsxs(El,{to:"/admin/users/new",children:[o.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Crear Primer Usuario"]})})]})})]})]})}var vb="Switch",[cve,CZe]=ha(vb),[uve,dve]=cve(vb),w7=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=w.useState(null),x=Ht(t,S=>p(S)),m=w.useRef(!1),g=h?d||!!h.closest("form"):!0,[_,y]=mu({prop:s,defaultProp:a??!1,onChange:u,caller:vb});return o.jsxs(uve,{scope:r,checked:_,disabled:l,children:[o.jsx(dt.button,{type:"button",role:"switch","aria-checked":_,"aria-required":i,"data-state":T7(_),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:it(e.onClick,S=>{y(E=>!E),g&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),g&&o.jsx(E7,{control:h,bubbles:!m.current,name:n,value:c,checked:_,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});w7.displayName=vb;var b7="SwitchThumb",S7=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=dve(b7,r);return o.jsx(dt.span,{"data-state":T7(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});S7.displayName=b7;var fve="SwitchBubbleInput",E7=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const i=w.useRef(null),l=Ht(i,a),c=j9(r),u=K$(t);return w.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const x=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(x)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});E7.displayName=fve;function T7(e){return e?"checked":"unchecked"}var C7=w7,hve=S7;const Is=w.forwardRef(({className:e,...t},r)=>o.jsx(C7,{className:Ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(hve,{className:Ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Is.displayName=C7.displayName;function mve(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var Hj="ScrollArea",[N7,NZe]=ha(Hj),[pve,di]=N7(Hj),k7=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(null),[p,x]=w.useState(null),[m,g]=w.useState(null),[_,y]=w.useState(0),[S,E]=w.useState(0),[C,P]=w.useState(!1),[N,A]=w.useState(!1),j=Ht(t,W=>c(W)),O=cb(s);return o.jsx(pve,{scope:r,type:n,dir:O,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:C,onScrollbarXEnabledChange:P,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:N,onScrollbarYEnabledChange:A,onCornerWidthChange:y,onCornerHeightChange:E,children:o.jsx(dt.div,{dir:O,...i,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});k7.displayName=Hj;var j7="ScrollAreaViewport",A7=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,i=di(j7,r),l=w.useRef(null),c=Ht(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(dt.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});A7.displayName=j7;var Ho="ScrollAreaScrollbar",Yj=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=di(Ho,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return w.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(vve,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(gve,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(P7,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(Gj,{...n,ref:t}):null});Yj.displayName=Ho;var vve=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=di(Ho,e.__scopeScrollArea),[a,i]=w.useState(!1);return w.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx($a,{present:r||a,children:o.jsx(P7,{"data-state":a?"visible":"hidden",...n,ref:t})})}),gve=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=di(Ho,e.__scopeScrollArea),a=e.orientation==="horizontal",i=xb(()=>c("SCROLL_END"),100),[l,c]=mve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),w.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),i()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,i]),o.jsx($a,{present:r||l!=="hidden",children:o.jsx(Gj,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:it(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:it(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),P7=w.forwardRef((e,t)=>{const r=di(Ho,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=w.useState(!1),l=e.orientation==="horizontal",c=xb(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return wm(r.viewport,c),wm(r.content,c),o.jsx($a,{present:n||a,children:o.jsx(Gj,{"data-state":a?"visible":"hidden",...s,ref:t})})}),Gj=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=di(Ho,e.__scopeScrollArea),a=w.useRef(null),i=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=M7(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,p){return Sve(h,i.current,l,p)}return r==="horizontal"?o.jsx(xve,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,p=JM(h,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?o.jsx(yve,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,p=JM(h,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),xve=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=di(Ho,e.__scopeScrollArea),[i,l]=w.useState(),c=w.useRef(null),u=Ht(t,c,a.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(D7,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),L7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:y_(i.paddingLeft),paddingEnd:y_(i.paddingRight)}})}})}),yve=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=di(Ho,e.__scopeScrollArea),[i,l]=w.useState(),c=w.useRef(null),u=Ht(t,c,a.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(D7,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),L7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:y_(i.paddingTop),paddingEnd:y_(i.paddingBottom)}})}})}),[_ve,O7]=N7(Ho),D7=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=di(Ho,r),[x,m]=w.useState(null),g=Ht(t,j=>m(j)),_=w.useRef(null),y=w.useRef(""),S=p.viewport,E=n.content-n.viewport,C=Nn(d),P=Nn(c),N=xb(f,10);function A(j){if(_.current){const O=j.clientX-_.current.left,W=j.clientY-_.current.top;u({x:O,y:W})}}return w.useEffect(()=>{const j=O=>{const W=O.target;(x==null?void 0:x.contains(W))&&C(O,E)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[S,x,E,C]),w.useEffect(P,[n,P]),wm(x,N),wm(p.content,N),o.jsx(_ve,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:Nn(a),onThumbPointerUp:Nn(i),onThumbPositionChange:P,onThumbPointerDown:Nn(l),children:o.jsx(dt.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:it(e.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),_.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(j))}),onPointerMove:it(e.onPointerMove,A),onPointerUp:it(e.onPointerUp,j=>{const O=j.target;O.hasPointerCapture(j.pointerId)&&O.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),_.current=null})})})}),x_="ScrollAreaThumb",R7=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=O7(x_,e.__scopeScrollArea);return o.jsx($a,{present:r||s.hasThumb,children:o.jsx(wve,{ref:t,...n})})}),wve=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=di(x_,r),i=O7(x_,r),{onThumbPositionChange:l}=i,c=Ht(t,f=>i.onThumbChange(f)),u=w.useRef(void 0),d=xb(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Eve(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),o.jsx(dt.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:it(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,m=f.clientY-p.top;i.onThumbPointerDown({x,y:m})}),onPointerUp:it(e.onPointerUp,i.onThumbPointerUp)})});R7.displayName=x_;var qj="ScrollAreaCorner",I7=w.forwardRef((e,t)=>{const r=di(qj,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(bve,{...e,ref:t}):null});I7.displayName=qj;var bve=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=di(qj,r),[a,i]=w.useState(0),[l,c]=w.useState(0),u=!!(a&&l);return wm(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),wm(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(dt.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function y_(e){return e?parseInt(e,10):0}function M7(e,t){const r=e/t;return isNaN(r)?0:r}function gb(e){const t=M7(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Sve(e,t,r,n="ltr"){const s=gb(r),a=s/2,i=t||a,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return F7([c,u],f)(e)}function JM(e,t,r="ltr"){const n=gb(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=pC(e,c);return F7([0,i],[0,l])(u)}function F7(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function L7(e,t){return e>0&&e<t}var Eve=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function xb(e,t){const r=Nn(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function wm(e,t){const r=Nn(t);wn(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var $7=k7,Tve=A7,Cve=I7;const U7=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs($7,{ref:n,className:Ye("relative overflow-hidden",e),...r,children:[o.jsx(Tve,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(B7,{}),o.jsx(Cve,{})]}));U7.displayName=$7.displayName;const B7=w.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(Yj,{ref:n,orientation:t,className:Ye("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(R7,{className:"relative flex-1 rounded-full bg-border"})}));B7.displayName=Yj.displayName;var W7={exports:{}},V7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm=w;function Nve(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kve=typeof Object.is=="function"?Object.is:Nve,jve=bm.useState,Ave=bm.useEffect,Pve=bm.useLayoutEffect,Ove=bm.useDebugValue;function Dve(e,t){var r=t(),n=jve({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return Pve(function(){s.value=r,s.getSnapshot=t,zE(s)&&a({inst:s})},[e,r,t]),Ave(function(){return zE(s)&&a({inst:s}),e(function(){zE(s)&&a({inst:s})})},[e]),Ove(r),r}function zE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kve(e,r)}catch{return!0}}function Rve(e,t){return t()}var Ive=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Rve:Dve;V7.useSyncExternalStore=bm.useSyncExternalStore!==void 0?bm.useSyncExternalStore:Ive;W7.exports=V7;var Mve=W7.exports;function Fve(){return Mve.useSyncExternalStore(Lve,()=>!0,()=>!1)}function Lve(){return()=>{}}var Kj="Avatar",[$ve,kZe]=ha(Kj),[Uve,z7]=$ve(Kj),H7=w.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=w.useState("idle");return o.jsx(Uve,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(dt.span,{...n,ref:t})})});H7.displayName=Kj;var Y7="AvatarImage",G7=w.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,i=z7(Y7,r),l=Bve(n,a),c=Nn(u=>{s(u),i.onImageLoadingStatusChange(u)});return wn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(dt.img,{...a,ref:t,src:n}):null});G7.displayName=Y7;var q7="AvatarFallback",K7=w.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=z7(q7,r),[i,l]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(dt.span,{...s,ref:t}):null});K7.displayName=q7;function e4(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Bve(e,{referrerPolicy:t,crossOrigin:r}){const n=Fve(),s=w.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[i,l]=w.useState(()=>e4(a,e));return wn(()=>{l(e4(a,e))},[a,e]),wn(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),i}var X7=H7,Q7=G7,Z7=K7;const bC=w.forwardRef(({className:e,...t},r)=>o.jsx(X7,{ref:r,className:Ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));bC.displayName=X7.displayName;const Wve=w.forwardRef(({className:e,...t},r)=>o.jsx(Q7,{ref:r,className:Ye("aspect-square h-full w-full",e),...t}));Wve.displayName=Q7.displayName;const SC=w.forwardRef(({className:e,...t},r)=>o.jsx(Z7,{ref:r,className:Ye("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));SC.displayName=Z7.displayName;const Vve=({value:e,onChange:t,onClear:r,placeholder:n="Buscar empadronado..."})=>{const[s,a]=w.useState(""),[i,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState(null),[h,p]=w.useState(!1),[x,m]=w.useState(!1);w.useEffect(()=>{g()},[]),w.useEffect(()=>{if(e&&i.length>0){const E=i.find(C=>C.id===e);f(E||null)}},[e,i]),w.useEffect(()=>{if(!s.trim()){u([]);return}const E=i.filter(C=>C.nombre.toLowerCase().includes(s.toLowerCase())||C.apellidos.toLowerCase().includes(s.toLowerCase())||C.dni.includes(s)||C.numeroPadron.includes(s));u(E.slice(0,10))},[s,i]);const g=async()=>{m(!0);try{const E=await Tf();l(E.filter(C=>C.habilitado))}catch(E){console.error("Error loading empadronados:",E)}finally{m(!1)}},_=E=>{f(E),t(E.id,E),a(""),p(!1)},y=()=>{f(null),a(""),r==null||r()},S=(E,C)=>`${E.charAt(0)}${C.charAt(0)}`.toUpperCase();return o.jsx("div",{className:"space-y-2",children:d?o.jsx(ke,{children:o.jsx(Ae,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(bC,{children:o.jsx(SC,{children:S(d.nombre,d.apellidos)})}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:[d.nombre," ",d.apellidos]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["DNI: ",d.dni," • Padrón: ",d.numeroPadron]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(pt,{variant:"secondary",className:"text-xs",children:d.familia}),d.manzana&&o.jsxs(pt,{variant:"outline",className:"text-xs",children:["Manzana ",d.manzana]})]})]})]}),o.jsx(_e,{variant:"outline",size:"sm",onClick:y,children:"Cambiar"})]})})}):o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ou,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{className:"pl-10",placeholder:n,value:s,onChange:E=>{a(E.target.value),p(!0)},onFocus:()=>p(!0)})]}),h&&s.trim()&&o.jsx(ke,{className:"absolute top-full mt-1 w-full z-50 shadow-lg",children:o.jsx(U7,{className:"max-h-64",children:o.jsx("div",{className:"p-2",children:x?o.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Cargando..."}):c.length>0?o.jsx("div",{className:"space-y-1",children:c.map(E=>o.jsx(_e,{variant:"ghost",className:"w-full justify-start h-auto p-3",onClick:()=>_(E),children:o.jsxs("div",{className:"flex items-center gap-3 text-left",children:[o.jsx(bC,{className:"w-8 h-8",children:o.jsx(SC,{className:"text-xs",children:S(E.nombre,E.apellidos)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"font-medium text-sm",children:[E.nombre," ",E.apellidos]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["DNI: ",E.dni," • Padrón: ",E.numeroPadron]}),o.jsx("div",{className:"flex items-center gap-1 mt-1",children:o.jsx(pt,{variant:"secondary",className:"text-xs",children:E.familia})})]})]})},E.id))}):o.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No se encontraron empadronados"})})})})]})})};function zve(){const{user:e}=ui(),{isPresidencia:t}=sp(),r=Vo(),[n,s]=w.useState([]),[a,i]=w.useState(!1),[l,c]=w.useState(null),[u,d]=w.useState(null),f=$u({defaultValues:{displayName:"",email:"",username:"",phone:"",roleId:"",activo:!0,password:"",confirmPassword:"",empadronadoId:"",tipoUsuario:"asociado",fechaInicioMandato:void 0,fechaFinMandato:void 0}});w.useEffect(()=>{if(!e){r("/login");return}if(!t){r("/inicio");return}h()},[e,t,r]);const h=async()=>{try{const x=await Dj();s(x)}catch(x){console.error("Error loading roles:",x),gt({title:"Error",description:"Error al cargar los roles",variant:"destructive"})}},p=async x=>{var m;if(x.password!==x.confirmPassword){f.setError("confirmPassword",{message:"Las contraseñas no coinciden"});return}if(x.password.length<6){f.setError("password",{message:"La contraseña debe tener al menos 6 caracteres"});return}i(!0),c(null);try{const{confirmPassword:g,..._}=x;let y=_.email.trim();const S=(m=_.username)==null?void 0:m.trim();!y&&S&&(y=`${S}@jpusap.local`);const E=await op({..._,email:y,username:S||void 0,phone:_.phone||void 0});gt({title:"Usuario creado",description:"El usuario ha sido creado exitosamente."}),r(`/admin/users/${E}/permissions`)}catch(g){console.error("Error creating user:",g);let _="Error al crear el usuario";g.message.includes("email-already-in-use")?_="El email ya está registrado":g.message.includes("weak-password")?_="La contraseña es muy débil":g.message.includes("invalid-email")?_="Email inválido":g.message.includes("ya está en uso")&&(_=g.message),c(_)}finally{i(!1)}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:[o.jsx("div",{className:"border-b bg-background/80 backdrop-blur-sm sticky top-0 z-10",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>r("/"),className:"gap-2",children:[o.jsx(Wi,{className:"w-4 h-4"}),"Inicio"]}),o.jsx("div",{className:"h-6 w-px bg-border"}),o.jsx(_e,{variant:"ghost",size:"sm",asChild:!0,children:o.jsxs(El,{to:"/admin/users",className:"gap-2",children:[o.jsx(dk,{className:"w-4 h-4"}),"Volver"]})}),o.jsx("div",{className:"h-6 w-px bg-border"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vi,{className:"w-5 h-5 text-primary"}),o.jsx("h1",{className:"text-xl font-semibold",children:"Nuevo Usuario"})]})]})})}),o.jsx("div",{className:"max-w-4xl mx-auto p-4",children:o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(si,{className:"w-5 h-5"}),"Crear Nuevo Usuario"]}),o.jsx(Qt,{children:"Complete los datos del nuevo usuario. Se enviará un email de confirmación."})]}),o.jsx(Ae,{children:o.jsx(ob,{...f,children:o.jsxs("form",{onSubmit:f.handleSubmit(p),className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Datos Personales"}),o.jsx(Ft,{control:f.control,name:"displayName",rules:{required:"El nombre es requerido"},render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Nombre Completo"}),o.jsx(Rt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Du,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{className:"pl-10",placeholder:"Juan Pérez",...x})]})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:f.control,name:"email",rules:{pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Email inválido"}},render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Email (opcional)"}),o.jsx(Rt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(mv,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{className:"pl-10",placeholder:"usuario@jpusap.local (auto-generado)",type:"email",...x})]})}),o.jsx(Ut,{}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Si se deja vacío, se auto-generará basado en el usuario"})]})}),o.jsx(Ft,{control:f.control,name:"username",render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Usuario (opcional)"}),o.jsx(Rt,{children:o.jsx(Ce,{placeholder:"juan.perez",...x})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:f.control,name:"phone",render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Teléfono (opcional)"}),o.jsx(Rt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Cre,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{className:"pl-10",placeholder:"+51 999 999 999",...x})]})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:f.control,name:"empadronadoId",render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Empadronado Asociado (opcional)"}),o.jsx(Rt,{children:o.jsx(Vve,{value:x.value,onChange:(m,g)=>{var _;x.onChange(m),d(g),f.getValues("displayName")||f.setValue("displayName",`${g.nombre} ${g.apellidos}`),!f.getValues("phone")&&((_=g.telefonos)!=null&&_[0])&&f.setValue("phone",g.telefonos[0].numero)},onClear:()=>{x.onChange(""),d(null)},placeholder:"Buscar empadronado por nombre, DNI o padrón..."})}),o.jsx(Ut,{})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Configuración de Cuenta"}),o.jsx(Ft,{control:f.control,name:"tipoUsuario",rules:{required:"El tipo de usuario es requerido"},render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Tipo de Usuario"}),o.jsxs(hr,{onValueChange:x.onChange,defaultValue:x.value,children:[o.jsx(Rt,{children:o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar tipo"})})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"administrador",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Administrador"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Acceso total al sistema"})]})}),o.jsx(Te,{value:"presidente",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Presidente"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Presidencia de JPUSAP"})]})}),o.jsx(Te,{value:"directivo",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Directivo"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Miembro de junta directiva"})]})}),o.jsx(Te,{value:"delegado",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Delegado"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Delegado por sector/manzana"})]})}),o.jsx(Te,{value:"asociado",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Asociado"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Usuario básico del sistema"})]})})]})]}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:f.control,name:"roleId",rules:{required:"El rol es requerido"},render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Rol Funcional"}),o.jsxs(hr,{onValueChange:x.onChange,defaultValue:x.value,children:[o.jsx(Rt,{children:o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar rol"})})}),o.jsx(fr,{children:n.map(m=>o.jsx(Te,{value:m.id,children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:m.nombre}),o.jsx("div",{className:"text-xs text-muted-foreground",children:m.descripcion})]})},m.id))})]}),o.jsx(Ut,{})]})}),(f.watch("tipoUsuario")==="directivo"||f.watch("tipoUsuario")==="delegado")&&o.jsxs(o.Fragment,{children:[o.jsx(Ft,{control:f.control,name:"fechaInicioMandato",render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Inicio del Mandato"}),o.jsx(Rt,{children:o.jsx(Ce,{type:"date",...x,value:x.value?new Date(x.value).toISOString().split("T")[0]:"",onChange:m=>x.onChange(m.target.value?new Date(m.target.value).getTime():void 0)})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:f.control,name:"fechaFinMandato",render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Fin del Mandato"}),o.jsx(Rt,{children:o.jsx(Ce,{type:"date",...x,value:x.value?new Date(x.value).toISOString().split("T")[0]:"",onChange:m=>x.onChange(m.target.value?new Date(m.target.value).getTime():void 0)})}),o.jsx(Ut,{})]})})]}),o.jsx(Ft,{control:f.control,name:"password",rules:{required:"La contraseña es requerida",minLength:{value:6,message:"Mínimo 6 caracteres"}},render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Contraseña Temporal"}),o.jsx(Rt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(hv,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{className:"pl-10",type:"password",placeholder:"••••••••",...x})]})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:f.control,name:"confirmPassword",rules:{required:"Confirma la contraseña"},render:({field:x})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Confirmar Contraseña"}),o.jsx(Rt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(hv,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),o.jsx(Ce,{className:"pl-10",type:"password",placeholder:"••••••••",...x})]})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:f.control,name:"activo",render:({field:x})=>o.jsxs(Ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Dt,{className:"text-base",children:"Usuario Activo"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"El usuario podrá acceder al sistema"})]}),o.jsx(Rt,{children:o.jsx(Is,{checked:x.value,onCheckedChange:x.onChange})})]})})]})]}),l&&o.jsx(ap,{variant:"destructive",children:o.jsx(ip,{children:l})}),o.jsxs("div",{className:"flex gap-4 pt-6",children:[o.jsx(_e,{type:"button",variant:"outline",asChild:!0,className:"flex-1",children:o.jsx(El,{to:"/admin/users",children:"Cancelar"})}),o.jsxs(_e,{type:"submit",disabled:a,className:"flex-1",children:[a&&o.jsx(Ul,{className:"mr-2 h-4 w-4 animate-spin"}),"Crear y Asignar Permisos"]})]})]})})})]})})]})}const Hve={none:{label:"Sin acceso",icon:si,color:"text-muted-foreground",bgColor:"bg-muted/30"},read:{label:"Lectura",icon:Wd,color:"text-blue-600",bgColor:"bg-blue-50 border-blue-200"},write:{label:"Escritura",icon:hk,color:"text-green-600",bgColor:"bg-green-50 border-green-200"},approve:{label:"Aprobación",icon:dv,color:"text-orange-600",bgColor:"bg-orange-50 border-orange-200"},admin:{label:"Administrador",icon:hre,color:"text-purple-600",bgColor:"bg-purple-50 border-purple-200"}},Yve=({value:e,onChange:t,disabled:r=!1,showAdmin:n=!1,size:s="md"})=>{const a=n?["none","read","write","approve","admin"]:["none","read","write","approve"],i={sm:"p-2 text-xs",md:"p-3 text-sm",lg:"p-4 text-base"};return o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.map(l=>{const c=Hve[l],u=c.icon,d=e===l;return o.jsxs("button",{type:"button",onClick:()=>!r&&t(l),disabled:r,className:Ye("relative flex items-center justify-center gap-2 rounded-lg border-2 transition-all duration-200","hover:scale-105 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-primary/20",i[s],d?Ye(c.bgColor,"border-current ring-2 ring-primary/20"):"bg-background border-border hover:border-muted-foreground/30",r&&"opacity-50 cursor-not-allowed hover:scale-100 hover:shadow-none",c.color),children:[o.jsx(u,{className:Ye(s==="sm"?"w-3 h-3":s==="md"?"w-4 h-4":"w-5 h-5")}),o.jsx("span",{className:"font-medium",children:c.label}),d&&o.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-primary rounded-full border-2 border-background"})]},l)})})})};function Gve(){const{uid:e}=N8(),{user:t}=ui(),{isPresidencia:r}=sp(),n=Vo(),[s,a]=w.useState(null),[i,l]=w.useState([]),[c,u]=w.useState({}),[d,f]=w.useState(!0),[h,p]=w.useState(!1);w.useEffect(()=>{if(!t){n("/login");return}if(!r){n("/inicio");return}if(!e){n("/admin/users");return}x()},[t,r,e,n]);const x=async()=>{if(e)try{f(!0);const[_,y,S]=await Promise.all([rb(e),nb(e),sb()]);if(!_){gt({title:"Usuario no encontrado",variant:"destructive"}),n("/admin/users");return}a(_),u(y),l(S)}catch(_){console.error("Error loading user permissions:",_),gt({title:"Error",description:"Error al cargar los permisos del usuario",variant:"destructive"})}finally{f(!1)}},m=async(_,y)=>{var S;if(!(!e||!(t!=null&&t.uid)))try{p(!0),await Sme(e,_,y,t.uid),u(E=>({...E,[_]:y})),gt({title:"Permiso actualizado",description:`Permiso para ${(S=i.find(E=>E.id===_))==null?void 0:S.nombre} actualizado.`})}catch(E){console.error("Error updating permission:",E),gt({title:"Error",description:"Error al actualizar el permiso",variant:"destructive"})}finally{p(!1)}},g=async()=>{if(!e||!(t!=null&&t.uid))return;const _={sesiones:"read",actas:"read",archivos:"read",comunicaciones:"read",auditoria:"read"};try{p(!0),await Oj(e,_,t.uid),u(y=>({...y,..._})),gt({title:"Permisos espejo aplicados",description:"Se han aplicado los permisos de lectura básicos."})}catch(y){console.error("Error applying mirror permissions:",y),gt({title:"Error",description:"Error al aplicar permisos espejo",variant:"destructive"})}finally{p(!1)}};return d?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ul,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Cargando permisos..."})]})}):s?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:[o.jsx("div",{className:"border-b bg-background/80 backdrop-blur-sm sticky top-0 z-10",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>n("/"),className:"gap-2",children:[o.jsx(Wi,{className:"w-4 h-4"}),"Inicio"]}),o.jsx("div",{className:"h-6 w-px bg-border"}),o.jsx(_e,{variant:"ghost",size:"sm",asChild:!0,children:o.jsxs(El,{to:"/admin/users",className:"gap-2",children:[o.jsx(dk,{className:"w-4 h-4"}),"Volver"]})}),o.jsx("div",{className:"h-6 w-px bg-border"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dm,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold",children:"Permisos de Usuario"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.displayName," • ",s.email]})]})]})]}),o.jsxs(_e,{onClick:g,variant:"outline",disabled:h,className:"gap-2",children:[o.jsx(E$,{className:"w-4 h-4"}),"Aplicar Espejo"]})]})})}),o.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(si,{className:"w-5 h-5"}),"Información del Usuario"]})}),o.jsx(Ae,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre"}),o.jsx("p",{className:"text-base",children:s.displayName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),o.jsx("p",{className:"text-base",children:s.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Estado"}),o.jsx(pt,{variant:s.activo?"default":"destructive",children:s.activo?"Activo":"Suspendido"})]})]})})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Permisos por Módulo"}),o.jsx(Qt,{children:"Configure los niveles de acceso para cada módulo del sistema."})]}),o.jsx(Ae,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(_=>{const y=c[_.id]||"none";return o.jsx(ke,{className:"p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:o.jsx(si,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:_.nombre}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Orden: ",_.orden]})]})]}),o.jsx(Yve,{value:y,onChange:S=>m(_.id,S),disabled:h,showAdmin:r,size:"sm"}),_.requiereAprobacion&&o.jsx("div",{className:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded",children:"Requiere aprobación"})]})},_.id)})})})]}),o.jsxs(ap,{children:[o.jsx(si,{className:"h-4 w-4"}),o.jsxs(ip,{children:[o.jsx("strong",{children:"Niveles de permiso:"}),o.jsx("br",{}),"• ",o.jsx("strong",{children:"Sin acceso:"})," No puede ver el módulo",o.jsx("br",{}),"• ",o.jsx("strong",{children:"Lectura:"})," Solo puede ver información",o.jsx("br",{}),"• ",o.jsx("strong",{children:"Escritura:"})," Puede crear y editar",o.jsx("br",{}),"• ",o.jsx("strong",{children:"Aprobación:"})," Puede aprobar documentos",o.jsx("br",{}),"• ",o.jsx("strong",{children:"Administrador:"})," Control total (solo para Presidencia)"]})]})]})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(ke,{className:"w-full max-w-md",children:o.jsxs(Ae,{className:"p-8 text-center",children:[o.jsx(Du,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Usuario no encontrado"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No se pudo cargar la información del usuario."}),o.jsx(_e,{asChild:!0,children:o.jsx(El,{to:"/admin/users",children:"Volver a Usuarios"})})]})})})}const Xj=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:Ye("w-full caption-bottom text-sm",e),...t})}));Xj.displayName="Table";const Qj=w.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:Ye("[&_tr]:border-b",e),...t}));Qj.displayName="TableHeader";const Zj=w.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:Ye("[&_tr:last-child]:border-0",e),...t}));Zj.displayName="TableBody";const qve=w.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:Ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));qve.displayName="TableFooter";const yd=w.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:Ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));yd.displayName="TableRow";const Jn=w.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:Ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Jn.displayName="TableHead";const Dn=w.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:Ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Dn.displayName="TableCell";const Kve=w.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:Ye("mt-4 text-sm text-muted-foreground",e),...t}));Kve.displayName="TableCaption";var yb="Dialog",[J7,eW]=ha(yb),[Xve,no]=J7(yb),tW=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=mu({prop:n,defaultProp:s??!1,onChange:a,caller:yb});return o.jsx(Xve,{scope:t,triggerRef:l,contentRef:c,contentId:Sl(),titleId:Sl(),descriptionId:Sl(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};tW.displayName=yb;var rW="DialogTrigger",nW=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=no(rW,r),a=Ht(t,s.triggerRef);return o.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":tA(s.open),...n,ref:a,onClick:it(e.onClick,s.onOpenToggle)})});nW.displayName=rW;var Jj="DialogPortal",[Qve,sW]=J7(Jj,{forceMount:void 0}),aW=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=no(Jj,t);return o.jsx(Qve,{scope:t,forceMount:r,children:w.Children.map(n,i=>o.jsx($a,{present:r||a.open,children:o.jsx(xg,{asChild:!0,container:s,children:i})}))})};aW.displayName=Jj;var __="DialogOverlay",iW=w.forwardRef((e,t)=>{const r=sW(__,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=no(__,e.__scopeDialog);return a.modal?o.jsx($a,{present:n||a.open,children:o.jsx(Jve,{...s,ref:t})}):null});iW.displayName=__;var Zve=Bd("DialogOverlay.RemoveScroll"),Jve=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=no(__,r);return o.jsx(fb,{as:Zve,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(dt.div,{"data-state":tA(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),rf="DialogContent",oW=w.forwardRef((e,t)=>{const r=sW(rf,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=no(rf,e.__scopeDialog);return o.jsx($a,{present:n||a.open,children:a.modal?o.jsx(ege,{...s,ref:t}):o.jsx(tge,{...s,ref:t})})});oW.displayName=rf;var ege=w.forwardRef((e,t)=>{const r=no(rf,e.__scopeDialog),n=w.useRef(null),s=Ht(t,r.contentRef,n);return w.useEffect(()=>{const a=n.current;if(a)return Vj(a)},[]),o.jsx(lW,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:it(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:it(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:it(e.onFocusOutside,a=>a.preventDefault())})}),tge=w.forwardRef((e,t)=>{const r=no(rf,e.__scopeDialog),n=w.useRef(!1),s=w.useRef(!1);return o.jsx(lW,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),lW=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=no(rf,r),c=w.useRef(null),u=Ht(t,c);return Wj(),o.jsxs(o.Fragment,{children:[o.jsx(ub,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Wm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tA(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(nge,{titleId:l.titleId}),o.jsx(age,{contentRef:c,descriptionId:l.descriptionId})]})]})}),eA="DialogTitle",cW=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=no(eA,r);return o.jsx(dt.h2,{id:s.titleId,...n,ref:t})});cW.displayName=eA;var uW="DialogDescription",dW=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=no(uW,r);return o.jsx(dt.p,{id:s.descriptionId,...n,ref:t})});dW.displayName=uW;var fW="DialogClose",hW=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=no(fW,r);return o.jsx(dt.button,{type:"button",...n,ref:t,onClick:it(e.onClick,()=>s.onOpenChange(!1))})});hW.displayName=fW;function tA(e){return e?"open":"closed"}var mW="DialogTitleWarning",[rge,pW]=mte(mW,{contentName:rf,titleName:eA,docsSlug:"dialog"}),nge=({titleId:e})=>{const t=pW(mW),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},sge="DialogDescriptionWarning",age=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pW(sge).contentName}}.`;return w.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},rA=tW,vW=nW,nA=aW,Lg=iW,$g=oW,Ug=cW,Bg=dW,_b=hW;const fi=rA,ige=nA,gW=w.forwardRef(({className:e,...t},r)=>o.jsx(Lg,{ref:r,className:Ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));gW.displayName=Lg.displayName;const Ua=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(ige,{children:[o.jsx(gW,{}),o.jsxs($g,{ref:n,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(_b,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Ah,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ua.displayName=$g.displayName;const Ba=({className:e,...t})=>o.jsx("div",{className:Ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ba.displayName="DialogHeader";const Wu=({className:e,...t})=>o.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wu.displayName="DialogFooter";const Wa=w.forwardRef(({className:e,...t},r)=>o.jsx(Ug,{ref:r,className:Ye("text-lg font-semibold leading-none tracking-tight",e),...t}));Wa.displayName=Ug.displayName;const Cf=w.forwardRef(({className:e,...t},r)=>o.jsx(Bg,{ref:r,className:Ye("text-sm text-muted-foreground",e),...t}));Cf.displayName=Bg.displayName;var xW="AlertDialog",[oge,jZe]=ha(xW,[eW]),ac=eW(),yW=e=>{const{__scopeAlertDialog:t,...r}=e,n=ac(t);return o.jsx(rA,{...n,...r,modal:!0})};yW.displayName=xW;var lge="AlertDialogTrigger",_W=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ac(r);return o.jsx(vW,{...s,...n,ref:t})});_W.displayName=lge;var cge="AlertDialogPortal",wW=e=>{const{__scopeAlertDialog:t,...r}=e,n=ac(t);return o.jsx(nA,{...n,...r})};wW.displayName=cge;var uge="AlertDialogOverlay",bW=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ac(r);return o.jsx(Lg,{...s,...n,ref:t})});bW.displayName=uge;var Lh="AlertDialogContent",[dge,fge]=oge(Lh),hge=H5("AlertDialogContent"),SW=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=ac(r),i=w.useRef(null),l=Ht(t,i),c=w.useRef(null);return o.jsx(rge,{contentName:Lh,titleName:EW,docsSlug:"alert-dialog",children:o.jsx(dge,{scope:r,cancelRef:c,children:o.jsxs($g,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:it(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(hge,{children:n}),o.jsx(pge,{contentRef:i})]})})})});SW.displayName=Lh;var EW="AlertDialogTitle",TW=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ac(r);return o.jsx(Ug,{...s,...n,ref:t})});TW.displayName=EW;var CW="AlertDialogDescription",NW=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ac(r);return o.jsx(Bg,{...s,...n,ref:t})});NW.displayName=CW;var mge="AlertDialogAction",kW=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ac(r);return o.jsx(_b,{...s,...n,ref:t})});kW.displayName=mge;var jW="AlertDialogCancel",AW=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=fge(jW,r),a=ac(r),i=Ht(t,s);return o.jsx(_b,{...a,...n,ref:i})});AW.displayName=jW;var pge=({contentRef:e})=>{const t=`\`${Lh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Lh}\` by passing a \`${CW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Lh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},vge=yW,gge=_W,xge=wW,PW=bW,OW=SW,DW=kW,RW=AW,IW=TW,MW=NW;const yge=vge,_ge=gge,wge=xge,FW=w.forwardRef(({className:e,...t},r)=>o.jsx(PW,{className:Ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));FW.displayName=PW.displayName;const LW=w.forwardRef(({className:e,...t},r)=>o.jsxs(wge,{children:[o.jsx(FW,{}),o.jsx(OW,{ref:r,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));LW.displayName=OW.displayName;const $W=({className:e,...t})=>o.jsx("div",{className:Ye("flex flex-col space-y-2 text-center sm:text-left",e),...t});$W.displayName="AlertDialogHeader";const UW=({className:e,...t})=>o.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});UW.displayName="AlertDialogFooter";const BW=w.forwardRef(({className:e,...t},r)=>o.jsx(IW,{ref:r,className:Ye("text-lg font-semibold",e),...t}));BW.displayName=IW.displayName;const WW=w.forwardRef(({className:e,...t},r)=>o.jsx(MW,{ref:r,className:Ye("text-sm text-muted-foreground",e),...t}));WW.displayName=MW.displayName;const VW=w.forwardRef(({className:e,...t},r)=>o.jsx(DW,{ref:r,className:Ye(Mv(),e),...t}));VW.displayName=DW.displayName;const zW=w.forwardRef(({className:e,...t},r)=>o.jsx(RW,{ref:r,className:Ye(Mv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));zW.displayName=RW.displayName;const bge=rA,Sge=vW,Ege=nA,HW=w.forwardRef(({className:e,...t},r)=>o.jsx(Lg,{className:Ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));HW.displayName=Lg.displayName;const Tge=Vm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),YW=w.forwardRef(({side:e="right",className:t,children:r,...n},s)=>o.jsxs(Ege,{children:[o.jsx(HW,{}),o.jsxs($g,{ref:s,className:Ye(Tge({side:e}),t),...n,children:[r,o.jsxs(_b,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(Ah,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));YW.displayName=$g.displayName;const GW=({className:e,...t})=>o.jsx("div",{className:Ye("flex flex-col space-y-2 text-center sm:text-left",e),...t});GW.displayName="SheetHeader";const qW=w.forwardRef(({className:e,...t},r)=>o.jsx(Ug,{ref:r,className:Ye("text-lg font-semibold text-foreground",e),...t}));qW.displayName=Ug.displayName;const KW=w.forwardRef(({className:e,...t},r)=>o.jsx(Bg,{ref:r,className:Ye("text-sm text-muted-foreground",e),...t}));KW.displayName=Bg.displayName;const ai=w.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:Ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ai.displayName="Textarea";var Cge="Separator",t4="horizontal",Nge=["horizontal","vertical"],XW=w.forwardRef((e,t)=>{const{decorative:r,orientation:n=t4,...s}=e,a=kge(n)?n:t4,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(dt.div,{"data-orientation":a,...l,...s,ref:t})});XW.displayName=Cge;function kge(e){return Nge.includes(e)}var QW=XW;const Xs=w.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(QW,{ref:s,decorative:r,orientation:t,className:Ye("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Xs.displayName=QW.displayName;/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var w_={};w_.version="0.18.5";var ZW=1252,jge=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],JW=function(e){jge.indexOf(e)!=-1&&(ZW=e)};function Age(){JW(1252)}var Fv=function(e){JW(e)};function Pge(){Fv(1200),Age()}var l1=function(t){return String.fromCharCode(t)},r4=function(t){return String.fromCharCode(t)},dd,Hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Lv(e){for(var t="",r=0,n=0,s=0,a=0,i=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,s=e.charCodeAt(u++),l=(n&15)<<2|s>>6,c=s&63,isNaN(n)?l=c=64:isNaN(s)&&(c=64),t+=Hc.charAt(a)+Hc.charAt(i)+Hc.charAt(l)+Hc.charAt(c);return t}function Yl(e){var t="",r=0,n=0,s=0,a=0,i=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=Hc.indexOf(e.charAt(u++)),i=Hc.indexOf(e.charAt(u++)),r=a<<2|i>>4,t+=String.fromCharCode(r),l=Hc.indexOf(e.charAt(u++)),n=(i&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Hc.indexOf(e.charAt(u++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var ur=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ic=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function nf(e){return ur?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function n4(e){return ur?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ii=function(t){return ur?ic(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function wb(e){if(typeof ArrayBuffer>"u")return Ii(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Wg(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Oge(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var ts=ur?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ic(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Dge(e){for(var t=[],r=0,n=e.length+250,s=nf(e.length+255),a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i<128)s[r++]=i;else if(i<2048)s[r++]=192|i>>6&31,s[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=e.charCodeAt(++a)&1023;s[r++]=240|i>>8&7,s[r++]=128|i>>2&63,s[r++]=128|l>>6&15|(i&3)<<4,s[r++]=128|l&63}else s[r++]=224|i>>12&15,s[r++]=128|i>>6&63,s[r++]=128|i&63;r>n&&(t.push(s.slice(0,r)),r=0,s=nf(65535),n=65530)}return t.push(s.slice(0,r)),ts(t)}var L0=/\u0000/g,c1=/[\u0001-\u0006]/g;function $h(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Li(e,t){var r=""+e;return r.length>=t?r:on("0",t-r.length)+r}function sA(e,t){var r=""+e;return r.length>=t?r:on(" ",t-r.length)+r}function b_(e,t){var r=""+e;return r.length>=t?r:r+on(" ",t-r.length)}function Rge(e,t){var r=""+Math.round(e);return r.length>=t?r:on("0",t-r.length)+r}function Ige(e,t){var r=""+e;return r.length>=t?r:on("0",t-r.length)+r}var s4=Math.pow(2,32);function Xf(e,t){if(e>s4||e<-s4)return Rge(e,t);var r=Math.round(e);return Ige(r,t)}function S_(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var a4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],HE=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Mge(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var un={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},i4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Fge={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function E_(e,t,r){for(var n=e<0?-1:1,s=e*n,a=0,i=1,l=0,c=1,u=0,d=0,f=Math.floor(s);u<t&&(f=Math.floor(s),l=f*i+a,d=f*u+c,!(s-f<5e-8));)s=1/(s-f),a=i,i=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=a):(d=u,l=i)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function u1(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),a=0,i=[],l={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++n,++l.D)),n===60)i=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=zge(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=a,l}var eV=new Date(1899,11,31,0,0,0),Lge=eV.getTime(),$ge=new Date(1900,2,1,0,0,0);function tV(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=$ge&&(r+=24*60*60*1e3),(r-(Lge+(e.getTimezoneOffset()-eV.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function aA(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Uge(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Bge(e){var t=e<0?12:11,r=aA(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Wge(e){var t=aA(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Vge(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Bge(e):t===10?r=e.toFixed(10).substr(0,12):r=Wge(e),aA(Uge(r.toUpperCase()))}function EC(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Vge(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return bu(14,tV(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function zge(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Hge(e,t,r,n){var s="",a=0,i=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return HE[r.m-1][1];case 5:return HE[r.m-1][0];default:return HE[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return a4[r.q][0];default:return a4[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Li(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,a=Math.round(i*(r.S+r.u)),a>=60*i&&(a=0),t==="s"?a===0?"0":""+a/i:(s=Li(a,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?Li(c,u):"";return d}function Yc(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var rV=/%/g;function Yge(e,t,r){var n=t.replace(rV,""),s=t.length-n.length;return kl(e,n,r*Math.pow(10,2*s))+on("%",s)}function Gge(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return kl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function nV(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+nV(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(s+a)%s)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var sV=/# (\?+)( ?)\/( ?)(\d+)/;function qge(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),a=Math.floor(s/n),i=s-a*n,l=n;return r+(a===0?"":""+a)+" "+(i===0?on(" ",e[1].length+1+e[4].length):sA(i,e[1].length)+e[2]+"/"+e[3]+Li(l,e[4].length))}function Kge(e,t,r){return r+(t===0?"":""+t)+on(" ",e[1].length+2+e[4].length)}var aV=/^#*0*\.([0#]+)/,iV=/\).*[0#]/,oV=/\(###\) ###\\?-####/;function As(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function o4(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function l4(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Xge(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Qge(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ya(e,t,r){if(e.charCodeAt(0)===40&&!t.match(iV)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ya("n",n,r):"("+Ya("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Gge(e,t,r);if(t.indexOf("%")!==-1)return Yge(e,t,r);if(t.indexOf("E")!==-1)return nV(t,r);if(t.charCodeAt(0)===36)return"$"+Ya(e,t.substr(t.charAt(1)==" "?2:1),r);var s,a,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Xf(c,t.length);if(t.match(/^[#?]+$/))return s=Xf(r,0),s==="0"&&(s=""),s.length>t.length?s:As(t.substr(0,t.length-s.length))+s;if(a=t.match(sV))return qge(a,c,u);if(t.match(/^#+0+$/))return u+Xf(c,t.length-t.indexOf("0"));if(a=t.match(aV))return s=o4(r,a[1].length).replace(/^([^\.]+)$/,"$1."+As(a[1])).replace(/\.$/,"."+As(a[1])).replace(/\.(\d*)$/,function(x,m){return"."+m+on("0",As(a[1]).length-m.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+o4(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Yc(Xf(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ya(e,t,-r):Yc(""+(Math.floor(r)+Xge(r,a[1].length)))+"."+Li(l4(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Ya(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=$h(Ya(e,t.replace(/[\\-]/g,""),r)),i=0,$h($h(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return i<s.length?s.charAt(i++):x==="0"?"0":""}));if(t.match(oV))return s=Ya(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),l=E_(c,Math.pow(10,i)-1,!1),s=""+u,d=kl("n",a[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],d=b_(l[2],i),d.length<a[4].length&&(d=As(a[4].substr(a[4].length-d.length))+d),s+=d,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),l=E_(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?sA(l[1],i)+a[2]+"/"+a[3]+b_(l[2],i):on(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=Xf(r,0),t.length<=s.length?s:As(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var f=t.indexOf(".")-i,h=t.length-s.length-f;return As(t.substr(0,f)+s+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return i=l4(r,a[1].length),r<0?"-"+Ya(e,t,-r):Yc(Qge(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Li(0,3-x.length):"")+x})+"."+Li(i,a[1].length);switch(t){case"###,##0.00":return Ya(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Yc(Xf(c,0));return p!=="0"?u+p:"";case"###,###.00":return Ya(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ya(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Zge(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return kl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Jge(e,t,r){var n=t.replace(rV,""),s=t.length-n.length;return kl(e,n,r*Math.pow(10,2*s))+on("%",s)}function lV(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+lV(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(s+a)%s)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function co(e,t,r){if(e.charCodeAt(0)===40&&!t.match(iV)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?co("n",n,r):"("+co("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Zge(e,t,r);if(t.indexOf("%")!==-1)return Jge(e,t,r);if(t.indexOf("E")!==-1)return lV(t,r);if(t.charCodeAt(0)===36)return"$"+co(e,t.substr(t.charAt(1)==" "?2:1),r);var s,a,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Li(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:As(t.substr(0,t.length-s.length))+s;if(a=t.match(sV))return Kge(a,c,u);if(t.match(/^#+0+$/))return u+Li(c,t.length-t.indexOf("0"));if(a=t.match(aV))return s=(""+r).replace(/^([^\.]+)$/,"$1."+As(a[1])).replace(/\.$/,"."+As(a[1])),s=s.replace(/\.(\d*)$/,function(x,m){return"."+m+on("0",As(a[1]).length-m.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Yc(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+co(e,t,-r):Yc(""+r)+"."+on("0",a[1].length);if(a=t.match(/^#,#*,#0/))return co(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=$h(co(e,t.replace(/[\\-]/g,""),r)),i=0,$h($h(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return i<s.length?s.charAt(i++):x==="0"?"0":""}));if(t.match(oV))return s=co(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),l=E_(c,Math.pow(10,i)-1,!1),s=""+u,d=kl("n",a[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],d=b_(l[2],i),d.length<a[4].length&&(d=As(a[4].substr(a[4].length-d.length))+d),s+=d,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),l=E_(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?sA(l[1],i)+a[2]+"/"+a[3]+b_(l[2],i):on(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:As(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var f=t.indexOf(".")-i,h=t.length-s.length-f;return As(t.substr(0,f)+s+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+co(e,t,-r):Yc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Li(0,3-x.length):"")+x})+"."+Li(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Yc(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return co(e,t.slice(0,t.lastIndexOf(".")),r)+As(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function kl(e,t,r){return(r|0)===r?co(e,t,r):Ya(e,t,r)}function exe(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var cV=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function uV(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":S_(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(cV))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function txe(e,t,r,n){for(var s=[],a="",i=0,l="",c="t",u,d,f,h="H";i<e.length;)switch(l=e.charAt(i)){case"G":if(!S_(e,i))throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"G",v:"General"},i+=7;break;case'"':for(a="";(f=e.charCodeAt(++i))!==34&&i<e.length;)a+=String.fromCharCode(f);s[s.length]={t:"t",v:a},++i;break;case"\\":var p=e.charAt(++i),x=p==="("||p===")"?p:"t";s[s.length]={t:x,v:p},++i;break;case"_":s[s.length]={t:"t",v:" "},i+=2;break;case"@":s[s.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=u1(t,r,e.charAt(i+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=u1(t,r),u==null))return"";for(a=l;++i<e.length&&e.charAt(i).toLowerCase()===l;)a+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),s[s.length]={t:l,v:a},c=l;break;case"A":case"a":case"上":var m={t:l,v:l};if(u==null&&(u=u1(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="上午/下午"?(u!=null&&(m.v=u.H>=12?"下午":"上午"),m.t="T",i+=5,h="h"):(m.t="t",++i),u==null&&m.t==="T")return"";s[s.length]=m,c=l;break;case"[":for(a=l;e.charAt(i++)!=="]"&&i<e.length;)a+=e.charAt(i);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(cV)){if(u==null&&(u=u1(t,r),u==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",uV(e)||(s[s.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=l;++i<e.length&&(l=e.charAt(i))==="0";)a+=l;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++i<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(i))>-1;)a+=l;s[s.length]={t:"n",v:a};break;case"?":for(a=l;e.charAt(++i)===l;)a+=l;s[s.length]={t:l,v:a},c=l;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":s[s.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)a+=e.charAt(i);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:l,v:l},++i;break;case"$":s[s.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"t",v:l},++i;break}var g=0,_=0,y;for(i=s.length-1,c="t";i>=0;--i)switch(s[i].t){case"h":case"H":s[i].t=h,c="h",g<1&&(g=1);break;case"s":(y=s[i].v.match(/\.0+$/))&&(_=Math.max(_,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=s[i].t;break;case"m":c==="s"&&(s[i].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&s[i].v.match(/[Hh]/)&&(g=1),g<2&&s[i].v.match(/[Mm]/)&&(g=2),g<3&&s[i].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var S="",E;for(i=0;i<s.length;++i)switch(s[i].t){case"t":case"T":case" ":case"D":break;case"X":s[i].v="",s[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[i].v=Hge(s[i].t.charCodeAt(0),s[i].v,u,_),s[i].t="t";break;case"n":case"?":for(E=i+1;s[E]!=null&&((l=s[E].t)==="?"||l==="D"||(l===" "||l==="t")&&s[E+1]!=null&&(s[E+1].t==="?"||s[E+1].t==="t"&&s[E+1].v==="/")||s[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[E].v==="/"||s[E].v===" "&&s[E+1]!=null&&s[E+1].t=="?"));)s[i].v+=s[E].v,s[E]={v:"",t:";"},++E;S+=s[i].v,i=E-1;break;case"G":s[i].t="t",s[i].v=EC(t,r);break}var C="",P,N;if(S.length>0){S.charCodeAt(0)==40?(P=t<0&&S.charCodeAt(0)===45?-t:t,N=kl("n",S,P)):(P=t<0&&n>1?-t:t,N=kl("n",S,P),P<0&&s[0]&&s[0].t=="t"&&(N=N.substr(1),s[0].v="-"+s[0].v)),E=N.length-1;var A=s.length;for(i=0;i<s.length;++i)if(s[i]!=null&&s[i].t!="t"&&s[i].v.indexOf(".")>-1){A=i;break}var j=s.length;if(A===s.length&&N.indexOf("E")===-1){for(i=s.length-1;i>=0;--i)s[i]==null||"n?".indexOf(s[i].t)===-1||(E>=s[i].v.length-1?(E-=s[i].v.length,s[i].v=N.substr(E+1,s[i].v.length)):E<0?s[i].v="":(s[i].v=N.substr(0,E+1),E=-1),s[i].t="t",j=i);E>=0&&j<s.length&&(s[j].v=N.substr(0,E+1)+s[j].v)}else if(A!==s.length&&N.indexOf("E")===-1){for(E=N.indexOf(".")-1,i=A;i>=0;--i)if(!(s[i]==null||"n?".indexOf(s[i].t)===-1)){for(d=s[i].v.indexOf(".")>-1&&i===A?s[i].v.indexOf(".")-1:s[i].v.length-1,C=s[i].v.substr(d+1);d>=0;--d)E>=0&&(s[i].v.charAt(d)==="0"||s[i].v.charAt(d)==="#")&&(C=N.charAt(E--)+C);s[i].v=C,s[i].t="t",j=i}for(E>=0&&j<s.length&&(s[j].v=N.substr(0,E+1)+s[j].v),E=N.indexOf(".")+1,i=A;i<s.length;++i)if(!(s[i]==null||"n?(".indexOf(s[i].t)===-1&&i!==A)){for(d=s[i].v.indexOf(".")>-1&&i===A?s[i].v.indexOf(".")+1:0,C=s[i].v.substr(0,d);d<s[i].v.length;++d)E<N.length&&(C+=N.charAt(E++));s[i].v=C,s[i].t="t",j=i}}}for(i=0;i<s.length;++i)s[i]!=null&&"n?".indexOf(s[i].t)>-1&&(P=n>1&&t<0&&i>0&&s[i-1].v==="-"?-t:t,s[i].v=kl(s[i].t,s[i].v,P),s[i].t="t");var O="";for(i=0;i!==s.length;++i)s[i]!=null&&(O+=s[i].v);return O}var c4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function u4(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function rxe(e,t){var r=exe(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(c4),l=r[1].match(c4);return u4(t,i)?[n,r[0]]:u4(t,l)?[n,r[1]]:[n,r[i!=null&&l!=null?2:1]]}return[n,a]}function bu(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:un)[e],n==null&&(n=r.table&&r.table[i4[e]]||un[i4[e]]),n==null&&(n=Fge[e]||"General");break}if(S_(n,0))return EC(t,r);t instanceof Date&&(t=tV(t,r.date1904));var s=rxe(n,t);if(S_(s[1]))return EC(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return txe(s[1],t,r,s[0])}function dV(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(un[r]==null){t<0&&(t=r);continue}if(un[r]==e){t=r;break}}t<0&&(t=391)}return un[t]=e,t}function bb(e){for(var t=0;t!=392;++t)e[t]!==void 0&&dV(e[t],t)}function Sb(){un=Mge()}var fV=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nxe(e){var t=typeof e=="number"?un[e]:e;return t=t.replace(fV,"(\\d+)"),new RegExp("^"+t+"$")}function sxe(e,t,r){var n=-1,s=-1,a=-1,i=-1,l=-1,c=-1;(t.match(fV)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":a=p;break;case"h":i=p;break;case"s":c=p;break;case"m":i>=0?l=p:s=p;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?u:n==-1&&s==-1&&a==-1?d:u+"T"+d}var axe=function(){var e={};e.version="1.2.0";function t(){for(var N=0,A=new Array(256),j=0;j!=256;++j)N=j,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,A[j]=N;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(N){var A=0,j=0,O=0,W=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)W[O]=N[O];for(O=0;O!=256;++O)for(j=N[O],A=256+O;A<4096;A+=256)j=W[A]=j>>>8^N[j&255];var z=[];for(O=1;O!=16;++O)z[O-1]=typeof Int32Array<"u"?W.subarray(O*256,O*256+256):W.slice(O*256,O*256+256);return z}var s=n(r),a=s[0],i=s[1],l=s[2],c=s[3],u=s[4],d=s[5],f=s[6],h=s[7],p=s[8],x=s[9],m=s[10],g=s[11],_=s[12],y=s[13],S=s[14];function E(N,A){for(var j=A^-1,O=0,W=N.length;O<W;)j=j>>>8^r[(j^N.charCodeAt(O++))&255];return~j}function C(N,A){for(var j=A^-1,O=N.length-15,W=0;W<O;)j=S[N[W++]^j&255]^y[N[W++]^j>>8&255]^_[N[W++]^j>>16&255]^g[N[W++]^j>>>24]^m[N[W++]]^x[N[W++]]^p[N[W++]]^h[N[W++]]^f[N[W++]]^d[N[W++]]^u[N[W++]]^c[N[W++]]^l[N[W++]]^i[N[W++]]^a[N[W++]]^r[N[W++]];for(O+=15;W<O;)j=j>>>8^r[(j^N[W++])&255];return~j}function P(N,A){for(var j=A^-1,O=0,W=N.length,z=0,Y=0;O<W;)z=N.charCodeAt(O++),z<128?j=j>>>8^r[(j^z)&255]:z<2048?(j=j>>>8^r[(j^(192|z>>6&31))&255],j=j>>>8^r[(j^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,Y=N.charCodeAt(O++)&1023,j=j>>>8^r[(j^(240|z>>8&7))&255],j=j>>>8^r[(j^(128|z>>2&63))&255],j=j>>>8^r[(j^(128|Y>>6&15|(z&3)<<4))&255],j=j>>>8^r[(j^(128|Y&63))&255]):(j=j>>>8^r[(j^(224|z>>12&15))&255],j=j>>>8^r[(j^(128|z>>6&63))&255],j=j>>>8^r[(j^(128|z&63))&255]);return~j}return e.table=r,e.bstr=E,e.buf=C,e.str=P,e}(),Cr=function(){var t={};t.version="1.2.1";function r(D,G){for(var B=D.split("/"),V=G.split("/"),q=0,K=0,le=Math.min(B.length,V.length);q<le;++q){if(K=B[q].length-V[q].length)return K;if(B[q]!=V[q])return B[q]<V[q]?-1:1}return B.length-V.length}function n(D){if(D.charAt(D.length-1)=="/")return D.slice(0,-1).indexOf("/")===-1?D:n(D.slice(0,-1));var G=D.lastIndexOf("/");return G===-1?D:D.slice(0,G+1)}function s(D){if(D.charAt(D.length-1)=="/")return s(D.slice(0,-1));var G=D.lastIndexOf("/");return G===-1?D:D.slice(G+1)}function a(D,G){typeof G=="string"&&(G=new Date(G));var B=G.getHours();B=B<<6|G.getMinutes(),B=B<<5|G.getSeconds()>>>1,D.write_shift(2,B);var V=G.getFullYear()-1980;V=V<<4|G.getMonth()+1,V=V<<5|G.getDate(),D.write_shift(2,V)}function i(D){var G=D.read_shift(2)&65535,B=D.read_shift(2)&65535,V=new Date,q=B&31;B>>>=5;var K=B&15;B>>>=4,V.setMilliseconds(0),V.setFullYear(B+1980),V.setMonth(K-1),V.setDate(q);var le=G&31;G>>>=5;var we=G&63;return G>>>=6,V.setHours(G),V.setMinutes(we),V.setSeconds(le<<1),V}function l(D){_a(D,0);for(var G={},B=0;D.l<=D.length-4;){var V=D.read_shift(2),q=D.read_shift(2),K=D.l+q,le={};switch(V){case 21589:B=D.read_shift(1),B&1&&(le.mtime=D.read_shift(4)),q>5&&(B&2&&(le.atime=D.read_shift(4)),B&4&&(le.ctime=D.read_shift(4))),le.mtime&&(le.mt=new Date(le.mtime*1e3));break}D.l=K,G[V]=le}return G}var c;function u(){return c||(c={})}function d(D,G){if(D[0]==80&&D[1]==75)return Qu(D,G);if((D[0]|32)==109&&(D[1]|32)==105)return jr(D,G);if(D.length<512)throw new Error("CFB file size "+D.length+" < 512");var B=3,V=512,q=0,K=0,le=0,we=0,ce=0,ue=[],fe=D.slice(0,512);_a(fe,0);var Pe=f(fe);switch(B=Pe[0],B){case 3:V=512;break;case 4:V=4096;break;case 0:if(Pe[1]==0)return Qu(D,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+B)}V!==512&&(fe=D.slice(0,V),_a(fe,28));var Ve=D.slice(0,V);h(fe,B);var Je=fe.read_shift(4,"i");if(B===3&&Je!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Je);fe.l+=4,le=fe.read_shift(4,"i"),fe.l+=4,fe.chk("00100000","Mini Stream Cutoff Size: "),we=fe.read_shift(4,"i"),q=fe.read_shift(4,"i"),ce=fe.read_shift(4,"i"),K=fe.read_shift(4,"i");for(var Fe=-1,et=0;et<109&&(Fe=fe.read_shift(4,"i"),!(Fe<0));++et)ue[et]=Fe;var Et=p(D,V);g(ce,K,Et,V,ue);var Ir=y(Et,le,ue,V);Ir[le].name="!Directory",q>0&&we!==Y&&(Ir[we].name="!MiniFAT"),Ir[ue[0]].name="!FAT",Ir.fat_addrs=ue,Ir.ssz=V;var Tt={},bn=[],Zu=[],dc=[];S(le,Ir,Et,bn,q,Tt,Zu,we),x(Zu,dc,bn),bn.shift();var fc={FileIndex:Zu,FullPaths:dc};return G&&G.raw&&(fc.raw={header:Ve,sectors:Et}),fc}function f(D){if(D[D.l]==80&&D[D.l+1]==75)return[0,0];D.chk(J,"Header Signature: "),D.l+=16;var G=D.read_shift(2,"u");return[D.read_shift(2,"u"),G]}function h(D,G){var B=9;switch(D.l+=2,B=D.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+B);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+B);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+B)}D.chk("0600","Mini Sector Shift: "),D.chk("000000000000","Reserved: ")}function p(D,G){for(var B=Math.ceil(D.length/G)-1,V=[],q=1;q<B;++q)V[q-1]=D.slice(q*G,(q+1)*G);return V[B-1]=D.slice(B*G),V}function x(D,G,B){for(var V=0,q=0,K=0,le=0,we=0,ce=B.length,ue=[],fe=[];V<ce;++V)ue[V]=fe[V]=V,G[V]=B[V];for(;we<fe.length;++we)V=fe[we],q=D[V].L,K=D[V].R,le=D[V].C,ue[V]===V&&(q!==-1&&ue[q]!==q&&(ue[V]=ue[q]),K!==-1&&ue[K]!==K&&(ue[V]=ue[K])),le!==-1&&(ue[le]=V),q!==-1&&V!=ue[V]&&(ue[q]=ue[V],fe.lastIndexOf(q)<we&&fe.push(q)),K!==-1&&V!=ue[V]&&(ue[K]=ue[V],fe.lastIndexOf(K)<we&&fe.push(K));for(V=1;V<ce;++V)ue[V]===V&&(K!==-1&&ue[K]!==K?ue[V]=ue[K]:q!==-1&&ue[q]!==q&&(ue[V]=ue[q]));for(V=1;V<ce;++V)if(D[V].type!==0){if(we=V,we!=ue[we])do we=ue[we],G[V]=G[we]+"/"+G[V];while(we!==0&&ue[we]!==-1&&we!=ue[we]);ue[V]=-1}for(G[0]+="/",V=1;V<ce;++V)D[V].type!==2&&(G[V]+="/")}function m(D,G,B){for(var V=D.start,q=D.size,K=[],le=V;B&&q>0&&le>=0;)K.push(G.slice(le*z,le*z+z)),q-=z,le=fd(B,le*4);return K.length===0?xe(0):ts(K).slice(0,D.size)}function g(D,G,B,V,q){var K=Y;if(D===Y){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(D!==-1){var le=B[D],we=(V>>>2)-1;if(!le)return;for(var ce=0;ce<we&&(K=fd(le,ce*4))!==Y;++ce)q.push(K);g(fd(le,V-4),G-1,B,V,q)}}function _(D,G,B,V,q){var K=[],le=[];q||(q=[]);var we=V-1,ce=0,ue=0;for(ce=G;ce>=0;){q[ce]=!0,K[K.length]=ce,le.push(D[ce]);var fe=B[Math.floor(ce*4/V)];if(ue=ce*4&we,V<4+ue)throw new Error("FAT boundary crossed: "+ce+" 4 "+V);if(!D[fe])break;ce=fd(D[fe],ue)}return{nodes:K,data:x4([le])}}function y(D,G,B,V){var q=D.length,K=[],le=[],we=[],ce=[],ue=V-1,fe=0,Pe=0,Ve=0,Je=0;for(fe=0;fe<q;++fe)if(we=[],Ve=fe+G,Ve>=q&&(Ve-=q),!le[Ve]){ce=[];var Fe=[];for(Pe=Ve;Pe>=0;){Fe[Pe]=!0,le[Pe]=!0,we[we.length]=Pe,ce.push(D[Pe]);var et=B[Math.floor(Pe*4/V)];if(Je=Pe*4&ue,V<4+Je)throw new Error("FAT boundary crossed: "+Pe+" 4 "+V);if(!D[et]||(Pe=fd(D[et],Je),Fe[Pe]))break}K[Ve]={nodes:we,data:x4([ce])}}return K}function S(D,G,B,V,q,K,le,we){for(var ce=0,ue=V.length?2:0,fe=G[D].data,Pe=0,Ve=0,Je;Pe<fe.length;Pe+=128){var Fe=fe.slice(Pe,Pe+128);_a(Fe,64),Ve=Fe.read_shift(2),Je=uA(Fe,0,Ve-ue),V.push(Je);var et={name:Je,type:Fe.read_shift(1),color:Fe.read_shift(1),L:Fe.read_shift(4,"i"),R:Fe.read_shift(4,"i"),C:Fe.read_shift(4,"i"),clsid:Fe.read_shift(16),state:Fe.read_shift(4,"i"),start:0,size:0},Et=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);Et!==0&&(et.ct=E(Fe,Fe.l-8));var Ir=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);Ir!==0&&(et.mt=E(Fe,Fe.l-8)),et.start=Fe.read_shift(4,"i"),et.size=Fe.read_shift(4,"i"),et.size<0&&et.start<0&&(et.size=et.type=0,et.start=Y,et.name=""),et.type===5?(ce=et.start,q>0&&ce!==Y&&(G[ce].name="!StreamData")):et.size>=4096?(et.storage="fat",G[et.start]===void 0&&(G[et.start]=_(B,et.start,G.fat_addrs,G.ssz)),G[et.start].name=et.name,et.content=G[et.start].data.slice(0,et.size)):(et.storage="minifat",et.size<0?et.size=0:ce!==Y&&et.start!==Y&&G[ce]&&(et.content=m(et,G[ce].data,(G[we]||{}).data))),et.content&&_a(et.content,0),K[Je]=et,le.push(et)}}function E(D,G){return new Date((Sa(D,G+4)/1e7*Math.pow(2,32)+Sa(D,G)/1e7-11644473600)*1e3)}function C(D,G){return u(),d(c.readFileSync(D),G)}function P(D,G){var B=G&&G.type;switch(B||ur&&Buffer.isBuffer(D)&&(B="buffer"),B||"base64"){case"file":return C(D,G);case"base64":return d(Ii(Yl(D)),G);case"binary":return d(Ii(D),G)}return d(D,G)}function N(D,G){var B=G||{},V=B.root||"Root Entry";if(D.FullPaths||(D.FullPaths=[]),D.FileIndex||(D.FileIndex=[]),D.FullPaths.length!==D.FileIndex.length)throw new Error("inconsistent CFB structure");D.FullPaths.length===0&&(D.FullPaths[0]=V+"/",D.FileIndex[0]={name:V,type:5}),B.CLSID&&(D.FileIndex[0].clsid=B.CLSID),A(D)}function A(D){var G="Sh33tJ5";if(!Cr.find(D,"/"+G)){var B=xe(4);B[0]=55,B[1]=B[3]=50,B[2]=54,D.FileIndex.push({name:G,type:2,content:B,size:4,L:69,R:69,C:69}),D.FullPaths.push(D.FullPaths[0]+G),j(D)}}function j(D,G){N(D);for(var B=!1,V=!1,q=D.FullPaths.length-1;q>=0;--q){var K=D.FileIndex[q];switch(K.type){case 0:V?B=!0:(D.FileIndex.pop(),D.FullPaths.pop());break;case 1:case 2:case 5:V=!0,isNaN(K.R*K.L*K.C)&&(B=!0),K.R>-1&&K.L>-1&&K.R==K.L&&(B=!0);break;default:B=!0;break}}if(!(!B&&!G)){var le=new Date(1987,1,19),we=0,ce=Object.create?Object.create(null):{},ue=[];for(q=0;q<D.FullPaths.length;++q)ce[D.FullPaths[q]]=!0,D.FileIndex[q].type!==0&&ue.push([D.FullPaths[q],D.FileIndex[q]]);for(q=0;q<ue.length;++q){var fe=n(ue[q][0]);V=ce[fe],V||(ue.push([fe,{name:s(fe).replace("/",""),type:1,clsid:oe,ct:le,mt:le,content:null}]),ce[fe]=!0)}for(ue.sort(function(Je,Fe){return r(Je[0],Fe[0])}),D.FullPaths=[],D.FileIndex=[],q=0;q<ue.length;++q)D.FullPaths[q]=ue[q][0],D.FileIndex[q]=ue[q][1];for(q=0;q<ue.length;++q){var Pe=D.FileIndex[q],Ve=D.FullPaths[q];if(Pe.name=s(Ve).replace("/",""),Pe.L=Pe.R=Pe.C=-(Pe.color=1),Pe.size=Pe.content?Pe.content.length:0,Pe.start=0,Pe.clsid=Pe.clsid||oe,q===0)Pe.C=ue.length>1?1:-1,Pe.size=0,Pe.type=5;else if(Ve.slice(-1)=="/"){for(we=q+1;we<ue.length&&n(D.FullPaths[we])!=Ve;++we);for(Pe.C=we>=ue.length?-1:we,we=q+1;we<ue.length&&n(D.FullPaths[we])!=n(Ve);++we);Pe.R=we>=ue.length?-1:we,Pe.type=1}else n(D.FullPaths[q+1]||"")==n(Ve)&&(Pe.R=q+1),Pe.type=2}}}function O(D,G){var B=G||{};if(B.fileType=="mad")return _t(D,B);switch(j(D),B.fileType){case"zip":return Ha(D,B)}var V=function(Je){for(var Fe=0,et=0,Et=0;Et<Je.FileIndex.length;++Et){var Ir=Je.FileIndex[Et];if(Ir.content){var Tt=Ir.content.length;Tt>0&&(Tt<4096?Fe+=Tt+63>>6:et+=Tt+511>>9)}}for(var bn=Je.FullPaths.length+3>>2,Zu=Fe+7>>3,dc=Fe+127>>7,fc=Zu+et+bn+dc,Qo=fc+127>>7,Ap=Qo<=109?0:Math.ceil((Qo-109)/127);fc+Qo+Ap+127>>7>Qo;)Ap=++Qo<=109?0:Math.ceil((Qo-109)/127);var yi=[1,Ap,Qo,dc,bn,et,Fe,0];return Je.FileIndex[0].size=Fe<<6,yi[7]=(Je.FileIndex[0].start=yi[0]+yi[1]+yi[2]+yi[3]+yi[4]+yi[5])+(yi[6]+7>>3),yi}(D),q=xe(V[7]<<9),K=0,le=0;{for(K=0;K<8;++K)q.write_shift(1,ie[K]);for(K=0;K<8;++K)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),K=0;K<3;++K)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,V[2]),q.write_shift(4,V[0]+V[1]+V[2]+V[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,V[3]?V[0]+V[1]+V[2]-1:Y),q.write_shift(4,V[3]),q.write_shift(-4,V[1]?V[0]-1:Y),q.write_shift(4,V[1]),K=0;K<109;++K)q.write_shift(-4,K<V[2]?V[1]+K:-1)}if(V[1])for(le=0;le<V[1];++le){for(;K<236+le*127;++K)q.write_shift(-4,K<V[2]?V[1]+K:-1);q.write_shift(-4,le===V[1]-1?Y:le+1)}var we=function(Je){for(le+=Je;K<le-1;++K)q.write_shift(-4,K+1);Je&&(++K,q.write_shift(-4,Y))};for(le=K=0,le+=V[1];K<le;++K)q.write_shift(-4,re.DIFSECT);for(le+=V[2];K<le;++K)q.write_shift(-4,re.FATSECT);we(V[3]),we(V[4]);for(var ce=0,ue=0,fe=D.FileIndex[0];ce<D.FileIndex.length;++ce)fe=D.FileIndex[ce],fe.content&&(ue=fe.content.length,!(ue<4096)&&(fe.start=le,we(ue+511>>9)));for(we(V[6]+7>>3);q.l&511;)q.write_shift(-4,re.ENDOFCHAIN);for(le=K=0,ce=0;ce<D.FileIndex.length;++ce)fe=D.FileIndex[ce],fe.content&&(ue=fe.content.length,!(!ue||ue>=4096)&&(fe.start=le,we(ue+63>>6)));for(;q.l&511;)q.write_shift(-4,re.ENDOFCHAIN);for(K=0;K<V[4]<<2;++K){var Pe=D.FullPaths[K];if(!Pe||Pe.length===0){for(ce=0;ce<17;++ce)q.write_shift(4,0);for(ce=0;ce<3;++ce)q.write_shift(4,-1);for(ce=0;ce<12;++ce)q.write_shift(4,0);continue}fe=D.FileIndex[K],K===0&&(fe.start=fe.size?fe.start-1:Y);var Ve=K===0&&B.root||fe.name;if(ue=2*(Ve.length+1),q.write_shift(64,Ve,"utf16le"),q.write_shift(2,ue),q.write_shift(1,fe.type),q.write_shift(1,fe.color),q.write_shift(-4,fe.L),q.write_shift(-4,fe.R),q.write_shift(-4,fe.C),fe.clsid)q.write_shift(16,fe.clsid,"hex");else for(ce=0;ce<4;++ce)q.write_shift(4,0);q.write_shift(4,fe.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,fe.start),q.write_shift(4,fe.size),q.write_shift(4,0)}for(K=1;K<D.FileIndex.length;++K)if(fe=D.FileIndex[K],fe.size>=4096)if(q.l=fe.start+1<<9,ur&&Buffer.isBuffer(fe.content))fe.content.copy(q,q.l,0,fe.size),q.l+=fe.size+511&-512;else{for(ce=0;ce<fe.size;++ce)q.write_shift(1,fe.content[ce]);for(;ce&511;++ce)q.write_shift(1,0)}for(K=1;K<D.FileIndex.length;++K)if(fe=D.FileIndex[K],fe.size>0&&fe.size<4096)if(ur&&Buffer.isBuffer(fe.content))fe.content.copy(q,q.l,0,fe.size),q.l+=fe.size+63&-64;else{for(ce=0;ce<fe.size;++ce)q.write_shift(1,fe.content[ce]);for(;ce&63;++ce)q.write_shift(1,0)}if(ur)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function W(D,G){var B=D.FullPaths.map(function(ce){return ce.toUpperCase()}),V=B.map(function(ce){var ue=ce.split("/");return ue[ue.length-(ce.slice(-1)=="/"?2:1)]}),q=!1;G.charCodeAt(0)===47?(q=!0,G=B[0].slice(0,-1)+G):q=G.indexOf("/")!==-1;var K=G.toUpperCase(),le=q===!0?B.indexOf(K):V.indexOf(K);if(le!==-1)return D.FileIndex[le];var we=!K.match(c1);for(K=K.replace(L0,""),we&&(K=K.replace(c1,"!")),le=0;le<B.length;++le)if((we?B[le].replace(c1,"!"):B[le]).replace(L0,"")==K||(we?V[le].replace(c1,"!"):V[le]).replace(L0,"")==K)return D.FileIndex[le];return null}var z=64,Y=-2,J="d0cf11e0a1b11ae1",ie=[208,207,17,224,161,177,26,225],oe="00000000000000000000000000000000",re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Y,FREESECT:-1,HEADER_SIGNATURE:J,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:oe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Z(D,G,B){u();var V=O(D,B);c.writeFileSync(G,V)}function ae(D){for(var G=new Array(D.length),B=0;B<D.length;++B)G[B]=String.fromCharCode(D[B]);return G.join("")}function ge(D,G){var B=O(D,G);switch(G&&G.type||"buffer"){case"file":return u(),c.writeFileSync(G.filename,B),B;case"binary":return typeof B=="string"?B:ae(B);case"base64":return Lv(typeof B=="string"?B:ae(B));case"buffer":if(ur)return Buffer.isBuffer(B)?B:ic(B);case"array":return typeof B=="string"?Ii(B):B}return B}var se;function R(D){try{var G=D.InflateRaw,B=new G;if(B._processChunk(new Uint8Array([3,0]),B._finishFlushFlag),B.bytesRead)se=D;else throw new Error("zlib does not expose bytesRead")}catch(V){console.error("cannot use native zlib: "+(V.message||V))}}function F(D,G){if(!se)return Ko(D,G);var B=se.InflateRaw,V=new B,q=V._processChunk(D.slice(D.l),V._finishFlushFlag);return D.l+=V.bytesRead,q}function L(D){return se?se.deflateRawSync(D):$t(D)}var I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],X=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(D){var G=(D<<1|D<<11)&139536|(D<<5|D<<15)&558144;return(G>>16|G>>8|G)&255}for(var ye=typeof Uint8Array<"u",me=ye?new Uint8Array(256):[],Ue=0;Ue<256;++Ue)me[Ue]=de(Ue);function We(D,G){var B=me[D&255];return G<=8?B>>>8-G:(B=B<<8|me[D>>8&255],G<=16?B>>>16-G:(B=B<<8|me[D>>16&255],B>>>24-G))}function mt(D,G){var B=G&7,V=G>>>3;return(D[V]|(B<=6?0:D[V+1]<<8))>>>B&3}function lt(D,G){var B=G&7,V=G>>>3;return(D[V]|(B<=5?0:D[V+1]<<8))>>>B&7}function Kt(D,G){var B=G&7,V=G>>>3;return(D[V]|(B<=4?0:D[V+1]<<8))>>>B&15}function ut(D,G){var B=G&7,V=G>>>3;return(D[V]|(B<=3?0:D[V+1]<<8))>>>B&31}function Ie(D,G){var B=G&7,V=G>>>3;return(D[V]|(B<=1?0:D[V+1]<<8))>>>B&127}function ht(D,G,B){var V=G&7,q=G>>>3,K=(1<<B)-1,le=D[q]>>>V;return B<8-V||(le|=D[q+1]<<8-V,B<16-V)||(le|=D[q+2]<<16-V,B<24-V)||(le|=D[q+3]<<24-V),le&K}function wt(D,G,B){var V=G&7,q=G>>>3;return V<=5?D[q]|=(B&7)<<V:(D[q]|=B<<V&255,D[q+1]=(B&7)>>8-V),G+3}function Q(D,G,B){var V=G&7,q=G>>>3;return B=(B&1)<<V,D[q]|=B,G+1}function ne(D,G,B){var V=G&7,q=G>>>3;return B<<=V,D[q]|=B&255,B>>>=8,D[q+1]=B,G+8}function te(D,G,B){var V=G&7,q=G>>>3;return B<<=V,D[q]|=B&255,B>>>=8,D[q+1]=B&255,D[q+2]=B>>>8,G+16}function he(D,G){var B=D.length,V=2*B>G?2*B:G+5,q=0;if(B>=G)return D;if(ur){var K=n4(V);if(D.copy)D.copy(K);else for(;q<D.length;++q)K[q]=D[q];return K}else if(ye){var le=new Uint8Array(V);if(le.set)le.set(D);else for(;q<B;++q)le[q]=D[q];return le}return D.length=V,D}function pe(D){for(var G=new Array(D),B=0;B<D;++B)G[B]=0;return G}function je(D,G,B){var V=1,q=0,K=0,le=0,we=0,ce=D.length,ue=ye?new Uint16Array(32):pe(32);for(K=0;K<32;++K)ue[K]=0;for(K=ce;K<B;++K)D[K]=0;ce=D.length;var fe=ye?new Uint16Array(ce):pe(ce);for(K=0;K<ce;++K)ue[q=D[K]]++,V<q&&(V=q),fe[K]=0;for(ue[0]=0,K=1;K<=V;++K)ue[K+16]=we=we+ue[K-1]<<1;for(K=0;K<ce;++K)we=D[K],we!=0&&(fe[K]=ue[we+16]++);var Pe=0;for(K=0;K<ce;++K)if(Pe=D[K],Pe!=0)for(we=We(fe[K],V)>>V-Pe,le=(1<<V+4-Pe)-1;le>=0;--le)G[we|le<<Pe]=Pe&15|K<<4;return V}var Me=ye?new Uint16Array(512):pe(512),bt=ye?new Uint16Array(32):pe(32);if(!ye){for(var jt=0;jt<512;++jt)Me[jt]=0;for(jt=0;jt<32;++jt)bt[jt]=0}(function(){for(var D=[],G=0;G<32;G++)D.push(5);je(D,bt,32);var B=[];for(G=0;G<=143;G++)B.push(8);for(;G<=255;G++)B.push(9);for(;G<=279;G++)B.push(7);for(;G<=287;G++)B.push(8);je(B,Me,288)})();var pn=function(){for(var G=ye?new Uint8Array(32768):[],B=0,V=0;B<X.length-1;++B)for(;V<X[B+1];++V)G[V]=B;for(;V<32768;++V)G[V]=29;var q=ye?new Uint8Array(259):[];for(B=0,V=0;B<U.length-1;++B)for(;V<U[B+1];++V)q[V]=B;function K(we,ce){for(var ue=0;ue<we.length;){var fe=Math.min(65535,we.length-ue),Pe=ue+fe==we.length;for(ce.write_shift(1,+Pe),ce.write_shift(2,fe),ce.write_shift(2,~fe&65535);fe-- >0;)ce[ce.l++]=we[ue++]}return ce.l}function le(we,ce){for(var ue=0,fe=0,Pe=ye?new Uint16Array(32768):[];fe<we.length;){var Ve=Math.min(65535,we.length-fe);if(Ve<10){for(ue=wt(ce,ue,+(fe+Ve==we.length)),ue&7&&(ue+=8-(ue&7)),ce.l=ue/8|0,ce.write_shift(2,Ve),ce.write_shift(2,~Ve&65535);Ve-- >0;)ce[ce.l++]=we[fe++];ue=ce.l*8;continue}ue=wt(ce,ue,+(fe+Ve==we.length)+2);for(var Je=0;Ve-- >0;){var Fe=we[fe];Je=(Je<<5^Fe)&32767;var et=-1,Et=0;if((et=Pe[Je])&&(et|=fe&-32768,et>fe&&(et-=32768),et<fe))for(;we[et+Et]==we[fe+Et]&&Et<250;)++Et;if(Et>2){Fe=q[Et],Fe<=22?ue=ne(ce,ue,me[Fe+1]>>1)-1:(ne(ce,ue,3),ue+=5,ne(ce,ue,me[Fe-23]>>5),ue+=3);var Ir=Fe<8?0:Fe-4>>2;Ir>0&&(te(ce,ue,Et-U[Fe]),ue+=Ir),Fe=G[fe-et],ue=ne(ce,ue,me[Fe]>>3),ue-=3;var Tt=Fe<4?0:Fe-2>>1;Tt>0&&(te(ce,ue,fe-et-X[Fe]),ue+=Tt);for(var bn=0;bn<Et;++bn)Pe[Je]=fe&32767,Je=(Je<<5^we[fe])&32767,++fe;Ve-=Et-1}else Fe<=143?Fe=Fe+48:ue=Q(ce,ue,1),ue=ne(ce,ue,me[Fe]),Pe[Je]=fe&32767,++fe}ue=ne(ce,ue,0)-1}return ce.l=(ue+7)/8|0,ce.l}return function(ce,ue){return ce.length<8?K(ce,ue):le(ce,ue)}}();function $t(D){var G=xe(50+Math.floor(D.length*1.1)),B=pn(D,G);return G.slice(0,B)}var cs=ye?new Uint16Array(32768):pe(32768),ao=ye?new Uint16Array(32768):pe(32768),Es=ye?new Uint16Array(128):pe(128),qn=1,za=1;function Un(D,G){var B=ut(D,G)+257;G+=5;var V=ut(D,G)+1;G+=5;var q=Kt(D,G)+4;G+=4;for(var K=0,le=ye?new Uint8Array(19):pe(19),we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ce=1,ue=ye?new Uint8Array(8):pe(8),fe=ye?new Uint8Array(8):pe(8),Pe=le.length,Ve=0;Ve<q;++Ve)le[I[Ve]]=K=lt(D,G),ce<K&&(ce=K),ue[K]++,G+=3;var Je=0;for(ue[0]=0,Ve=1;Ve<=ce;++Ve)fe[Ve]=Je=Je+ue[Ve-1]<<1;for(Ve=0;Ve<Pe;++Ve)(Je=le[Ve])!=0&&(we[Ve]=fe[Je]++);var Fe=0;for(Ve=0;Ve<Pe;++Ve)if(Fe=le[Ve],Fe!=0){Je=me[we[Ve]]>>8-Fe;for(var et=(1<<7-Fe)-1;et>=0;--et)Es[Je|et<<Fe]=Fe&7|Ve<<3}var Et=[];for(ce=1;Et.length<B+V;)switch(Je=Es[Ie(D,G)],G+=Je&7,Je>>>=3){case 16:for(K=3+mt(D,G),G+=2,Je=Et[Et.length-1];K-- >0;)Et.push(Je);break;case 17:for(K=3+lt(D,G),G+=3;K-- >0;)Et.push(0);break;case 18:for(K=11+Ie(D,G),G+=7;K-- >0;)Et.push(0);break;default:Et.push(Je),ce<Je&&(ce=Je);break}var Ir=Et.slice(0,B),Tt=Et.slice(B);for(Ve=B;Ve<286;++Ve)Ir[Ve]=0;for(Ve=V;Ve<30;++Ve)Tt[Ve]=0;return qn=je(Ir,cs,286),za=je(Tt,ao,30),G}function io(D,G){if(D[0]==3&&!(D[1]&3))return[nf(G),2];for(var B=0,V=0,q=n4(G||1<<18),K=0,le=q.length>>>0,we=0,ce=0;!(V&1);){if(V=lt(D,B),B+=3,V>>>1)V>>1==1?(we=9,ce=5):(B=Un(D,B),we=qn,ce=za);else{B&7&&(B+=8-(B&7));var ue=D[B>>>3]|D[(B>>>3)+1]<<8;if(B+=32,ue>0)for(!G&&le<K+ue&&(q=he(q,K+ue),le=q.length);ue-- >0;)q[K++]=D[B>>>3],B+=8;continue}for(;;){!G&&le<K+32767&&(q=he(q,K+32767),le=q.length);var fe=ht(D,B,we),Pe=V>>>1==1?Me[fe]:cs[fe];if(B+=Pe&15,Pe>>>=4,!(Pe>>>8&255))q[K++]=Pe;else{if(Pe==256)break;Pe-=257;var Ve=Pe<8?0:Pe-4>>2;Ve>5&&(Ve=0);var Je=K+U[Pe];Ve>0&&(Je+=ht(D,B,Ve),B+=Ve),fe=ht(D,B,ce),Pe=V>>>1==1?bt[fe]:ao[fe],B+=Pe&15,Pe>>>=4;var Fe=Pe<4?0:Pe-2>>1,et=X[Pe];for(Fe>0&&(et+=ht(D,B,Fe),B+=Fe),!G&&le<Je&&(q=he(q,Je+100),le=q.length);K<Je;)q[K]=q[K-et],++K}}}return G?[q,B+7>>>3]:[q.slice(0,K),B+7>>>3]}function Ko(D,G){var B=D.slice(D.l||0),V=io(B,G);return D.l+=V[1],V[0]}function oo(D,G){if(D)typeof console<"u"&&console.error(G);else throw new Error(G)}function Qu(D,G){var B=D;_a(B,0);var V=[],q=[],K={FileIndex:V,FullPaths:q};N(K,{root:G.root});for(var le=B.length-4;(B[le]!=80||B[le+1]!=75||B[le+2]!=5||B[le+3]!=6)&&le>=0;)--le;B.l=le+4,B.l+=4;var we=B.read_shift(2);B.l+=6;var ce=B.read_shift(4);for(B.l=ce,le=0;le<we;++le){B.l+=20;var ue=B.read_shift(4),fe=B.read_shift(4),Pe=B.read_shift(2),Ve=B.read_shift(2),Je=B.read_shift(2);B.l+=8;var Fe=B.read_shift(4),et=l(B.slice(B.l+Pe,B.l+Pe+Ve));B.l+=Pe+Ve+Je;var Et=B.l;B.l=Fe+4,Xo(B,ue,fe,K,et),B.l=Et}return K}function Xo(D,G,B,V,q){D.l+=2;var K=D.read_shift(2),le=D.read_shift(2),we=i(D);if(K&8257)throw new Error("Unsupported ZIP encryption");for(var ce=D.read_shift(4),ue=D.read_shift(4),fe=D.read_shift(4),Pe=D.read_shift(2),Ve=D.read_shift(2),Je="",Fe=0;Fe<Pe;++Fe)Je+=String.fromCharCode(D[D.l++]);if(Ve){var et=l(D.slice(D.l,D.l+Ve));(et[21589]||{}).mt&&(we=et[21589].mt),((q||{})[21589]||{}).mt&&(we=q[21589].mt)}D.l+=Ve;var Et=D.slice(D.l,D.l+ue);switch(le){case 8:Et=F(D,fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+le)}var Ir=!1;K&8&&(ce=D.read_shift(4),ce==134695760&&(ce=D.read_shift(4),Ir=!0),ue=D.read_shift(4),fe=D.read_shift(4)),ue!=G&&oo(Ir,"Bad compressed size: "+G+" != "+ue),fe!=B&&oo(Ir,"Bad uncompressed size: "+B+" != "+fe),Ct(V,Je,Et,{unsafe:!0,mt:we})}function Ha(D,G){var B=G||{},V=[],q=[],K=xe(1),le=B.compression?8:0,we=0,ce=0,ue=0,fe=0,Pe=0,Ve=D.FullPaths[0],Je=Ve,Fe=D.FileIndex[0],et=[],Et=0;for(ce=1;ce<D.FullPaths.length;++ce)if(Je=D.FullPaths[ce].slice(Ve.length),Fe=D.FileIndex[ce],!(!Fe.size||!Fe.content||Je=="Sh33tJ5")){var Ir=fe,Tt=xe(Je.length);for(ue=0;ue<Je.length;++ue)Tt.write_shift(1,Je.charCodeAt(ue)&127);Tt=Tt.slice(0,Tt.l),et[Pe]=axe.buf(Fe.content,0);var bn=Fe.content;le==8&&(bn=L(bn)),K=xe(30),K.write_shift(4,67324752),K.write_shift(2,20),K.write_shift(2,we),K.write_shift(2,le),Fe.mt?a(K,Fe.mt):K.write_shift(4,0),K.write_shift(-4,et[Pe]),K.write_shift(4,bn.length),K.write_shift(4,Fe.content.length),K.write_shift(2,Tt.length),K.write_shift(2,0),fe+=K.length,V.push(K),fe+=Tt.length,V.push(Tt),fe+=bn.length,V.push(bn),K=xe(46),K.write_shift(4,33639248),K.write_shift(2,0),K.write_shift(2,20),K.write_shift(2,we),K.write_shift(2,le),K.write_shift(4,0),K.write_shift(-4,et[Pe]),K.write_shift(4,bn.length),K.write_shift(4,Fe.content.length),K.write_shift(2,Tt.length),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(4,0),K.write_shift(4,Ir),Et+=K.l,q.push(K),Et+=Tt.length,q.push(Tt),++Pe}return K=xe(22),K.write_shift(4,101010256),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,Pe),K.write_shift(2,Pe),K.write_shift(4,Et),K.write_shift(4,fe),K.write_shift(2,0),ts([ts(V),ts(q),K])}var Kn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function uc(D,G){if(D.ctype)return D.ctype;var B=D.name||"",V=B.match(/\.([^\.]+)$/);return V&&Kn[V[1]]||G&&(V=(B=G).match(/[\.\\]([^\.\\])+$/),V&&Kn[V[1]])?Kn[V[1]]:"application/octet-stream"}function Ee(D){for(var G=Lv(D),B=[],V=0;V<G.length;V+=76)B.push(G.slice(V,V+76));return B.join(`\r
`)+`\r
`}function rr(D){var G=D.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var fe=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(fe.length==1?"0"+fe:fe)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var B=[],V=G.split(`\r
`),q=0;q<V.length;++q){var K=V[q];if(K.length==0){B.push("");continue}for(var le=0;le<K.length;){var we=76,ce=K.slice(le,le+we);ce.charAt(we-1)=="="?we--:ce.charAt(we-2)=="="?we-=2:ce.charAt(we-3)=="="&&(we-=3),ce=K.slice(le,le+we),le+=we,le<K.length&&(ce+="="),B.push(ce)}}return B.join(`\r
`)}function Er(D){for(var G=[],B=0;B<D.length;++B){for(var V=D[B];B<=D.length&&V.charAt(V.length-1)=="=";)V=V.slice(0,V.length-1)+D[++B];G.push(V)}for(var q=0;q<G.length;++q)G[q]=G[q].replace(/[=][0-9A-Fa-f]{2}/g,function(K){return String.fromCharCode(parseInt(K.slice(1),16))});return Ii(G.join(`\r
`))}function Zr(D,G,B){for(var V="",q="",K="",le,we=0;we<10;++we){var ce=G[we];if(!ce||ce.match(/^\s*$/))break;var ue=ce.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":V=ue[2].trim();break;case"content-type":K=ue[2].trim();break;case"content-transfer-encoding":q=ue[2].trim();break}}switch(++we,q.toLowerCase()){case"base64":le=Ii(Yl(G.slice(we).join("")));break;case"quoted-printable":le=Er(G.slice(we));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var fe=Ct(D,V.slice(B.length),le,{unsafe:!0});K&&(fe.ctype=K)}function jr(D,G){if(ae(D.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var B=G&&G.root||"",V=(ur&&Buffer.isBuffer(D)?D.toString("binary"):ae(D)).split(`\r
`),q=0,K="";for(q=0;q<V.length;++q)if(K=V[q],!!/^Content-Location:/i.test(K)&&(K=K.slice(K.indexOf("file")),B||(B=K.slice(0,K.lastIndexOf("/")+1)),K.slice(0,B.length)!=B))for(;B.length>0&&(B=B.slice(0,B.length-1),B=B.slice(0,B.lastIndexOf("/")+1),K.slice(0,B.length)!=B););var le=(V[1]||"").match(/boundary="(.*?)"/);if(!le)throw new Error("MAD cannot find boundary");var we="--"+(le[1]||""),ce=[],ue=[],fe={FileIndex:ce,FullPaths:ue};N(fe);var Pe,Ve=0;for(q=0;q<V.length;++q){var Je=V[q];Je!==we&&Je!==we+"--"||(Ve++&&Zr(fe,V.slice(Pe,q),B),Pe=q)}return fe}function _t(D,G){var B=G||{},V=B.boundary||"SheetJS";V="------="+V;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+V.slice(2)+'"',"","",""],K=D.FullPaths[0],le=K,we=D.FileIndex[0],ce=1;ce<D.FullPaths.length;++ce)if(le=D.FullPaths[ce].slice(K.length),we=D.FileIndex[ce],!(!we.size||!we.content||le=="Sh33tJ5")){le=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Et){return"_x"+Et.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Et){return"_u"+Et.charCodeAt(0).toString(16)+"_"});for(var ue=we.content,fe=ur&&Buffer.isBuffer(ue)?ue.toString("binary"):ae(ue),Pe=0,Ve=Math.min(1024,fe.length),Je=0,Fe=0;Fe<=Ve;++Fe)(Je=fe.charCodeAt(Fe))>=32&&Je<128&&++Pe;var et=Pe>=Ve*4/5;q.push(V),q.push("Content-Location: "+(B.root||"file:///C:/SheetJS/")+le),q.push("Content-Transfer-Encoding: "+(et?"quoted-printable":"base64")),q.push("Content-Type: "+uc(we,le)),q.push(""),q.push(et?rr(fe):Ee(fe))}return q.push(V+`--\r
`),q.join(`\r
`)}function ma(D){var G={};return N(G,D),G}function Ct(D,G,B,V){var q=V&&V.unsafe;q||N(D);var K=!q&&Cr.find(D,G);if(!K){var le=D.FullPaths[0];G.slice(0,le.length)==le?le=G:(le.slice(-1)!="/"&&(le+="/"),le=(le+G).replace("//","/")),K={name:s(G),type:2},D.FileIndex.push(K),D.FullPaths.push(le),q||Cr.utils.cfb_gc(D)}return K.content=B,K.size=B?B.length:0,V&&(V.CLSID&&(K.clsid=V.CLSID),V.mt&&(K.mt=V.mt),V.ct&&(K.ct=V.ct)),K}function us(D,G){N(D);var B=Cr.find(D,G);if(B){for(var V=0;V<D.FileIndex.length;++V)if(D.FileIndex[V]==B)return D.FileIndex.splice(V,1),D.FullPaths.splice(V,1),!0}return!1}function SS(D,G,B){N(D);var V=Cr.find(D,G);if(V){for(var q=0;q<D.FileIndex.length;++q)if(D.FileIndex[q]==V)return D.FileIndex[q].name=s(B),D.FullPaths[q]=B,!0}return!1}function Lf(D){j(D,!0)}return t.find=W,t.read=P,t.parse=d,t.write=ge,t.writeFile=Z,t.utils={cfb_new:ma,cfb_add:Ct,cfb_del:us,cfb_mov:SS,cfb_gc:Lf,ReadShift:U0,CheckField:AV,prep_blob:_a,bconcat:ts,use_zlib:R,_deflateRaw:$t,_inflateRaw:Ko,consts:re},t}();function ixe(e){return typeof e=="string"?wb(e):Array.isArray(e)?Oge(e):e}function Vg(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=wb(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Uv(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([ixe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=e,i.href=a,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Wg(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function os(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function d4(e,t){for(var r=[],n=os(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function iA(e){for(var t=[],r=os(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Eb(e){for(var t=[],r=os(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function oxe(e){for(var t=[],r=os(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var T_=new Date(1899,11,30,0,0,0);function da(e,t){var r=e.getTime(),n=T_.getTime()+(e.getTimezoneOffset()-T_.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var hV=new Date,lxe=T_.getTime()+(hV.getTimezoneOffset()-T_.getTimezoneOffset())*6e4,f4=hV.getTimezoneOffset();function mV(e){var t=new Date;return t.setTime(e*24*60*60*1e3+lxe),t.getTimezoneOffset()!==f4&&t.setTime(t.getTime()+(t.getTimezoneOffset()-f4)*6e4),t}var h4=new Date("2017-02-19T19:06:09.000Z"),pV=isNaN(h4.getFullYear())?new Date("2/19/17"):h4,cxe=pV.getFullYear()==2017;function Ls(e,t){var r=new Date(e);if(cxe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(pV.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Tb(e,t){if(ur&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return r[a]||a})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function fa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=fa(e[r]));return t}function on(e,t){for(var r="";r.length<t;)r+=e;return r}function jl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var uxe=["january","february","march","april","may","june","july","august","september","october","november","december"];function $v(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&uxe.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Lt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return ur?n=ic(r):n=Dge(r),Cr.utils.cfb_add(e,t,n)}Cr.utils.cfb_add(e,t,r)}else e.file(t,r)}function oA(){return Cr.utils.cfb_new()}var jn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,dxe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},lA=iA(dxe),cA=/[&<>'"]/g,fxe=/[\u0000-\u0008\u000b-\u001f]/g;function _r(e){var t=e+"";return t.replace(cA,function(r){return lA[r]}).replace(fxe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function m4(e){return _r(e).replace(/ /g,"_x0020_")}var vV=/[\u0000-\u001f]/g;function hxe(e){var t=e+"";return t.replace(cA,function(r){return lA[r]}).replace(/\n/g,"<br/>").replace(vV,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function mxe(e){var t=e+"";return t.replace(cA,function(r){return lA[r]}).replace(vV,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function pxe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function vxe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function YE(e){for(var t="",r=0,n=0,s=0,a=0,i=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=s&63,t+=String.fromCharCode(i);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}i=e.charCodeAt(r++),l=((n&7)<<18|(s&63)<<12|(a&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function p4(e){var t=nf(2*e.length),r,n,s=1,a=0,i=0,l;for(n=0;n<e.length;n+=s)s=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),s=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[a++]=i&255,t[a++]=i>>>8,i=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function v4(e){return ic(e,"binary").toString("utf8")}var d1="foo bar bazâð£",$0=ur&&(v4(d1)==YE(d1)&&v4||p4(d1)==YE(d1)&&p4)||YE,Uv=ur?function(e){return ic(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},gxe=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}}(),gV=/(^\s|\s$|\n)/;function rs(e,t){return"<"+e+(t.match(gV)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Bv(e){return os(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ze(e,t,r){return"<"+e+(r!=null?Bv(r):"")+(t!=null?(t.match(gV)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function TC(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function xxe(e,t){switch(typeof e){case"string":var r=ze("vt:lpwstr",_r(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ze((e|0)==e?"vt:i4":"vt:r8",_r(String(e)));case"boolean":return ze("vt:bool",e?"true":"false")}if(e instanceof Date)return ze("vt:filetime",TC(e));throw new Error("Unable to serialize "+e)}var zn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},cp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ba={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function yxe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,a=5;a>=0;--a)s=s*256+e[t+a];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function _xe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,a=0,i=n?-t:t;isFinite(i)?i==0?s=a=0:(s=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(t)?26985:0);for(var l=0;l<=5;++l,a/=256)e[r+l]=a&255;e[r+6]=(s&15)<<4|a&15,e[r+7]=s>>4|n}var g4=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,a=e[0][n].length;s<a;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},x4=ur?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ic(t)})):g4(e)}:g4,y4=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(p0(e,s)));return n.join("").replace(L0,"")},uA=ur?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(L0,""):y4(e,t,r)}:y4,_4=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},xV=ur?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):_4(e,t,r)}:_4,w4=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(sh(e,s)));return n.join("")},zg=ur?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):w4(t,r,n)}:w4,yV=function(e,t){var r=Sa(e,t);return r>0?zg(e,t+4,t+4+r-1):""},_V=yV,wV=function(e,t){var r=Sa(e,t);return r>0?zg(e,t+4,t+4+r-1):""},bV=wV,SV=function(e,t){var r=2*Sa(e,t);return r>0?zg(e,t+4,t+4+r-1):""},EV=SV,TV=function(t,r){var n=Sa(t,r);return n>0?uA(t,r+4,r+4+n):""},CV=TV,NV=function(e,t){var r=Sa(e,t);return r>0?zg(e,t+4,t+4+r):""},kV=NV,jV=function(e,t){return yxe(e,t)},C_=jV,dA=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ur&&(_V=function(t,r){if(!Buffer.isBuffer(t))return yV(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},bV=function(t,r){if(!Buffer.isBuffer(t))return wV(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},EV=function(t,r){if(!Buffer.isBuffer(t))return SV(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},CV=function(t,r){if(!Buffer.isBuffer(t))return TV(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},kV=function(t,r){if(!Buffer.isBuffer(t))return NV(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},C_=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):jV(t,r)},dA=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var sh=function(e,t){return e[t]},p0=function(e,t){return e[t+1]*256+e[t]},wxe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Sa=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},fd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},bxe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function U0(e,t){var r="",n,s,a=[],i,l,c,u;switch(t){case"dbcs":if(u=this.l,ur&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(p0(this,u)),u+=2;e*=2;break;case"utf8":r=zg(this,this.l,this.l+e);break;case"utf16le":e*=2,r=uA(this,this.l,this.l+e);break;case"wstr":return U0.call(this,e,"dbcs");case"lpstr-ansi":r=_V(this,this.l),e=4+Sa(this,this.l);break;case"lpstr-cp":r=bV(this,this.l),e=4+Sa(this,this.l);break;case"lpwstr":r=EV(this,this.l),e=4+2*Sa(this,this.l);break;case"lpp4":e=4+Sa(this,this.l),r=CV(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Sa(this,this.l),r=kV(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=sh(this,this.l+e++))!==0;)a.push(l1(i));r=a.join("");break;case"_wstr":for(e=0,r="";(i=p0(this,this.l+e))!==0;)a.push(l1(i)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=sh(this,u),this.l=u+1,l=U0.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(l1(p0(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=sh(this,u),this.l=u+1,l=U0.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(l1(sh(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=sh(this,this.l),this.l++,n;case 2:return n=(t==="i"?wxe:p0)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?fd:bxe)(this,this.l),this.l+=4,n):(s=Sa(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=C_(this,this.l):s=C_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=xV(this,this.l,e);break}}return this.l+=e,r}var Sxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Exe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Txe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Cxe(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)Txe(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var i=t.charCodeAt(s);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Sxe(this,t,this.l);break;case 8:if(n=8,r==="f"){_xe(this,t,this.l);break}case 16:break;case-4:n=4,Exe(this,t,this.l);break}return this.l+=n,this}function AV(e,t){var r=xV(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function _a(e,t){e.l=t,e.read_shift=U0,e.chk=AV,e.write_shift=Cxe}function Lo(e,t){e.l+=t}function xe(e){var t=nf(e);return _a(t,0),t}function ia(){var e=[],t=ur?256:2048,r=function(u){var d=xe(u);return _a(d,0),d},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(s(),n=r(Math.max(u+1,t)))},i=function(){return s(),ts(e)},l=function(u){s(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:l,end:i,_bufs:e}}function Ne(e,t,r,n){var s=+t,a;if(!isNaN(s)){n||(n=ySe[s].p||(r||[]).length||0),a=1+(s>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var i=e.next(a);s<=127?i.write_shift(1,s):(i.write_shift(1,(s&127)+128),i.write_shift(1,s>>7));for(var l=0;l!=4;++l)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&dA(r)&&e.push(r)}}function B0(e,t,r){var n=fa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function b4(e,t,r){var n=fa(e);return n.s=B0(n.s,t.s,r),n.e=B0(n.e,t.s,r),n}function W0(e,t){if(e.cRel&&e.c<0)for(e=fa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=fa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=br(e);return!e.cRel&&e.cRel!=null&&(r=jxe(r)),!e.rRel&&e.rRel!=null&&(r=Nxe(r)),r}function GE(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+xs(e.s.c)+":"+(e.e.cRel?"":"$")+xs(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ss(e.s.r)+":"+(e.e.rRel?"":"$")+ss(e.e.r):W0(e.s,t.biff)+":"+W0(e.e,t.biff)}function fA(e){return parseInt(kxe(e),10)-1}function ss(e){return""+(e+1)}function Nxe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function kxe(e){return e.replace(/\$(\d+)$/,"$1")}function hA(e){for(var t=Axe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function xs(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function jxe(e){return e.replace(/^([A-Z])/,"$$$1")}function Axe(e){return e.replace(/^\$([A-Z])/,"$1")}function Pxe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Hn(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function br(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Oa(e){var t=e.indexOf(":");return t==-1?{s:Hn(e),e:Hn(e)}:{s:Hn(e.slice(0,t)),e:Hn(e.slice(t+1))}}function kn(e,t){return typeof t>"u"||typeof t=="number"?kn(e.s,e.e):(typeof e!="string"&&(e=br(e)),typeof t!="string"&&(t=br(t)),e==t?e:e+":"+t)}function zr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=e.length;for(r=0;n<a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===a||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function S4(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=bu(e.z,r?da(t):t)}catch{}try{return e.w=bu((e.XF||{}).numFmtId||(r?14:0),r?da(t):t)}catch{return""+t}}function Gl(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Hg[e.v]||e.v:t==null?S4(e,e.v):S4(e,t))}function Nf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function PV(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,a=e||(s?[]:{}),i=0,l=0;if(a&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?Hn(n.origin):n.origin;i=c.r,l=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=zr(a["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},x=i+f,m=l+h;if(u.s.r>x&&(u.s.r=x),u.s.c>m&&(u.s.c=m),u.e.r<x&&(u.e.r=x),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||un[14],n.cellDates?(p.t="d",p.w=bu(p.z,da(p.v))):(p.t="n",p.v=da(p.v),p.w=bu(p.z,p.v))):p.t="s";if(s)a[x]||(a[x]=[]),a[x][m]&&a[x][m].z&&(p.z=a[x][m].z),a[x][m]=p;else{var g=br({c:m,r:x});a[g]&&a[g].z&&(p.z=a[g].z),a[g]=p}}}return u.s.c<1e7&&(a["!ref"]=kn(u)),a}function up(e,t){return PV(null,e,t)}function Oxe(e){return e.read_shift(4,"i")}function Hi(e,t){return t||(t=xe(4)),t.write_shift(4,e),t}function ys(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Yn(e,t){var r=!1;return t==null&&(r=!0,t=xe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Dxe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Rxe(e,t){return t||(t=xe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function mA(e,t){var r=e.l,n=e.read_shift(1),s=ys(e),a=[],i={t:s,h:s};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)a.push(Dxe(e));i.r=a}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}function Ixe(e,t){var r=!1;return t==null&&(r=!0,t=xe(15+4*e.t.length)),t.write_shift(1,0),Yn(e.t,t),r?t.slice(0,t.l):t}var Mxe=mA;function Fxe(e,t){var r=!1;return t==null&&(r=!0,t=xe(23+4*e.t.length)),t.write_shift(1,1),Yn(e.t,t),t.write_shift(4,1),Rxe({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function hi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function kf(e,t){return t==null&&(t=xe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function jf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Af(e,t){return t==null&&(t=xe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Lxe=ys,OV=Yn;function pA(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function N_(e,t){var r=!1;return t==null&&(r=!0,t=xe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var $xe=ys,CC=pA,vA=N_;function DV(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?C_([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):fd(t,0)>>2;return r?s/100:s}function RV(e,t){t==null&&(t=xe(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:s==(s|0)&&s>=-(1<<29)&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function IV(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Uxe(e,t){return t||(t=xe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Pf=IV,dp=Uxe;function fp(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function sf(e,t){return(t||xe(8)).write_shift(8,e,"f")}function Bxe(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var u=Xxe[s];u&&(t.rgb=R4(u));break;case 2:t.rgb=R4([i,l,c]);break;case 3:t.theme=s;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function k_(e,t){if(t||(t=xe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Wxe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Vxe(e,t){t||(t=xe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var MV=2,ga=3,f1=11,j_=19,h1=64,zxe=65,Hxe=71,Yxe=4108,Gxe=4126,Zn=80,E4={1:{n:"CodePage",t:MV},2:{n:"Category",t:Zn},3:{n:"PresentationFormat",t:Zn},4:{n:"ByteCount",t:ga},5:{n:"LineCount",t:ga},6:{n:"ParagraphCount",t:ga},7:{n:"SlideCount",t:ga},8:{n:"NoteCount",t:ga},9:{n:"HiddenCount",t:ga},10:{n:"MultimediaClipCount",t:ga},11:{n:"ScaleCrop",t:f1},12:{n:"HeadingPairs",t:Yxe},13:{n:"TitlesOfParts",t:Gxe},14:{n:"Manager",t:Zn},15:{n:"Company",t:Zn},16:{n:"LinksUpToDate",t:f1},17:{n:"CharacterCount",t:ga},19:{n:"SharedDoc",t:f1},22:{n:"HyperlinksChanged",t:f1},23:{n:"AppVersion",t:ga,p:"version"},24:{n:"DigSig",t:zxe},26:{n:"ContentType",t:Zn},27:{n:"ContentStatus",t:Zn},28:{n:"Language",t:Zn},29:{n:"Version",t:Zn},255:{},2147483648:{n:"Locale",t:j_},2147483651:{n:"Behavior",t:j_},1919054434:{}},T4={1:{n:"CodePage",t:MV},2:{n:"Title",t:Zn},3:{n:"Subject",t:Zn},4:{n:"Author",t:Zn},5:{n:"Keywords",t:Zn},6:{n:"Comments",t:Zn},7:{n:"Template",t:Zn},8:{n:"LastAuthor",t:Zn},9:{n:"RevNumber",t:Zn},10:{n:"EditTime",t:h1},11:{n:"LastPrinted",t:h1},12:{n:"CreatedDate",t:h1},13:{n:"ModifiedDate",t:h1},14:{n:"PageCount",t:ga},15:{n:"WordCount",t:ga},16:{n:"CharCount",t:ga},17:{n:"Thumbnail",t:Hxe},18:{n:"Application",t:Zn},19:{n:"DocSecurity",t:ga},255:{},2147483648:{n:"Locale",t:j_},2147483651:{n:"Behavior",t:j_},1919054434:{}};function qxe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Kxe=qxe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Xxe=fa(Kxe),Hg={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Qxe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},m1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function FV(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function LV(e,t){var r=oxe(Qxe),n=[],s;n[n.length]=jn,n[n.length]=ze("Types",null,{xmlns:zn.CT,"xmlns:xsd":zn.xsd,"xmlns:xsi":zn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ze("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){e[c]&&e[c].length>0&&(s=e[c][0],n[n.length]=ze("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:m1[c][t.bookType]||m1[c].xlsx}))},i=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ze("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:m1[c][t.bookType]||m1[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ze("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return a("workbooks"),i("sheets"),i("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),i("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ar={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function $V(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Uh(e){var t=[jn,ze("Relationships",null,{xmlns:zn.RELS})];return os(e["!id"]).forEach(function(r){t[t.length]=ze("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function yr(e,t,r,n,s,a){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[ar.HLINK,ar.XPATH,ar.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function Zxe(e){var t=[jn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function C4(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Jxe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function e1e(e){var t=[jn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(C4(e[r][0],e[r][1])),t.push(Jxe("",e[r][0]));return t.push(C4("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function UV(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+w_.version+"</meta:generator></office:meta></office:document-meta>"}var Ad=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function qE(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=_r(t),n[n.length]=r?ze(e,t,r):rs(e,t))}function BV(e,t){var r=t||{},n=[jn,ze("cp:coreProperties",null,{"xmlns:cp":zn.CORE_PROPS,"xmlns:dc":zn.dc,"xmlns:dcterms":zn.dcterms,"xmlns:dcmitype":zn.dcmitype,"xmlns:xsi":zn.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&qE("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:TC(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&qE("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:TC(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var a=0;a!=Ad.length;++a){var i=Ad[a],l=r.Props&&r.Props[i[1]]!=null?r.Props[i[1]]:e?e[i[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&qE(i[0],l,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Bh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],WV=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function VV(e){var t=[],r=ze;return e||(e={}),e.Application="SheetJS",t[t.length]=jn,t[t.length]=ze("Properties",null,{xmlns:zn.EXT_PROPS,"xmlns:vt":zn.vt}),Bh.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=_r(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+_r(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function zV(e){var t=[jn,ze("Properties",null,{xmlns:zn.CUST_PROPS,"xmlns:vt":zn.vt})];if(!e)return t.join("");var r=1;return os(e).forEach(function(s){++r,t[t.length]=ze("property",xxe(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:_r(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var N4={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function t1e(e,t){var r=[];return os(N4).map(function(n){for(var s=0;s<Ad.length;++s)if(Ad[s][1]==n)return Ad[s];for(s=0;s<Bh.length;++s)if(Bh[s][1]==n)return Bh[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(rs(N4[n[1]]||n[1],s))}}),ze("DocumentProperties",r.join(""),{xmlns:ba.o})}function r1e(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&os(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var i=0;i<Ad.length;++i)if(a==Ad[i][1])return;for(i=0;i<Bh.length;++i)if(a==Bh[i][1])return;for(i=0;i<r.length;++i)if(a==r[i])return;var l=e[a],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),s.push(ze(m4(a),l,{"dt:dt":c}))}}),t&&os(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var i=t[a],l="string";typeof i=="number"?(l="float",i=String(i)):i===!0||i===!1?(l="boolean",i=i?"1":"0"):i instanceof Date?(l="dateTime.tz",i=i.toISOString()):i=String(i),s.push(ze(m4(a),i,{"dt:dt":l}))}}),"<"+n+' xmlns="'+ba.o+'">'+s.join("")+"</"+n+">"}function n1e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),s+=a);var i=xe(8);return i.write_shift(4,n),i.write_shift(4,s),i}function k4(e,t){var r=xe(4),n=xe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=xe(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=n1e(t);break;case 31:case 80:for(n=xe(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ts([r,n])}var HV=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function s1e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function j4(e,t,r){var n=xe(8),s=[],a=[],i=8,l=0,c=xe(8),u=xe(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),a.push(c),s.push(u),i+=8+c.length,!t){u=xe(8),u.write_shift(4,0),s.unshift(u);var d=[xe(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=xe(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=ts(d),a.unshift(c),i+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(HV.indexOf(e[l][0])>-1||WV.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],p=0;if(t){p=+t[e[l][0]];var x=r[p];if(x.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}c=k4(x.t,h)}else{var g=s1e(h);g==-1&&(g=31,h=String(h)),c=k4(g,h)}a.push(c),u=xe(8),u.write_shift(4,t?p:2+l),s.push(u),i+=8+c.length}var _=8*(a.length+1);for(l=0;l<a.length;++l)s[l].write_shift(4,_),_+=a[l].length;return n.write_shift(4,i),n.write_shift(4,a.length),ts([n].concat(s).concat(a))}function A4(e,t,r,n,s,a){var i=xe(s?68:48),l=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,Cr.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,s?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,s?68:48);var c=j4(e,r,n);if(l.push(c),s){var u=j4(s,null,null);i.write_shift(16,a,"hex"),i.write_shift(4,68+c.length),l.push(u)}return ts(l)}function a1e(e,t){t||(t=xe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function i1e(e,t){return e.read_shift(t)===1}function Ps(e,t){return t||(t=xe(2)),t.write_shift(2,+!!e),t}function YV(e){return e.read_shift(2,"u")}function qa(e,t){return t||(t=xe(2)),t.write_shift(2,e),t}function GV(e,t,r){return r||(r=xe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function qV(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var i=n?e.read_shift(n,s):"";return i}function o1e(e){var t=e.t||"",r=xe(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=xe(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return ts(s)}function l1e(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function c1e(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):l1e(e,n,r)}function u1e(e,t,r){if(r.biff>5)return c1e(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function KV(e,t,r){return r||(r=xe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function P4(e,t){t||(t=xe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function d1e(e){var t=xe(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),a=s>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(a==28)n=n.slice(1),P4(n,t);else if(a&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var l=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),a&8&&P4(s>-1?n.slice(s+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function af(e,t,r,n){return n||(n=xe(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function f1e(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),a=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[s,a,i]}function h1e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function XV(e,t){return t||(t=xe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function gA(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=xe(s);return a.write_shift(2,n),a.write_shift(2,t),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function m1e(e,t){var r=!t||t.biff==8,n=xe(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function p1e(e,t){var r=!t||t.biff>=8?2:1,n=xe(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function v1e(e,t){var r=xe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=o1e(e[s]);var a=ts([r].concat(n));return a.parts=[r.length].concat(n.map(function(i){return i.length})),a}function g1e(){var e=xe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function x1e(e){var t=xe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function y1e(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,a=xe(s);return a.write_shift(2,(e.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function _1e(e,t,r,n){var s=xe(10);return af(e,t,n,s),s.write_shift(4,r),s}function w1e(e,t,r,n,s){var a=!s||s.biff==8,i=xe(8+ +a+(1+a)*r.length);return af(e,t,n,i),i.write_shift(2,r.length),a&&i.write_shift(1,1),i.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),i}function b1e(e,t,r,n){var s=r&&r.biff==5;n||(n=xe(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function S1e(e,t){var r=t.biff==8||!t.biff?4:2,n=xe(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function O4(e,t,r,n){var s=r&&r.biff==5;n||(n=xe(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&s&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function E1e(e){var t=xe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function T1e(e,t,r,n,s,a){var i=xe(8);return af(e,t,n,i),GV(r,a,i),i}function C1e(e,t,r,n){var s=xe(14);return af(e,t,n,s),sf(r,s),s}function N1e(e,t,r){if(r.biff<8)return k1e(e,t,r);for(var n=[],s=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(f1e(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function k1e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=qV(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function j1e(e){var t=xe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)XV(e[r],t);return t}function A1e(e){var t=xe(24),r=Hn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return ts([t,d1e(e[1])])}function P1e(e){var t=e[1].Tooltip,r=xe(10+2*(t.length+1));r.write_shift(2,2048);var n=Hn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function O1e(e){return e||(e=xe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function D1e(e,t,r){if(!r.cellStyles)return Lo(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),a=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s,e:a,w:i,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function R1e(e,t){var r=xe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function I1e(e){for(var t=xe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function M1e(e,t,r){var n=xe(15);return Gg(n,e,t),n.write_shift(8,r,"f"),n}function F1e(e,t,r){var n=xe(9);return Gg(n,e,t),n.write_shift(2,r),n}var L1e=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=iA({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=nf(1);switch(c.type){case"base64":d=Ii(Yl(l));break;case"binary":d=Ii(l);break;case"buffer":case"array":d=l;break}_a(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,g=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(g=d.read_shift(2));var _=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var S=[],E={},C=Math.min(d.length,f==2?521:g-10-(p?264:0)),P=x?32:11;d.l<C&&d[d.l]!=13;)switch(E={},E.name=dd.utils.decode(y,d.slice(d.l,d.l+P)).replace(/[\u0000\r\n].*$/g,""),d.l+=P,E.type=String.fromCharCode(d.read_shift(1)),f!=2&&!x&&(E.offset=d.read_shift(4)),E.len=d.read_shift(1),f==2&&(E.offset=d.read_shift(2)),E.dec=d.read_shift(1),E.name.length&&S.push(E),f!=2&&(d.l+=x?13:14),E.type){case"B":(!p||E.len!=8)&&c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var N=0,A=0;for(u[0]=[],A=0;A!=S.length;++A)u[0][A]=S[A].name;for(;m-- >0;){if(d[d.l]===42){d.l+=_;continue}for(++d.l,u[++N]=[],A=0,A=0;A!=S.length;++A){var j=d.slice(d.l,d.l+S[A].len);d.l+=S[A].len,_a(j,0);var O=dd.utils.decode(y,j);switch(S[A].type){case"C":O.trim().length&&(u[N][A]=O.replace(/\s+$/,""));break;case"D":O.length===8?u[N][A]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):u[N][A]=O;break;case"F":u[N][A]=parseFloat(O.trim());break;case"+":case"I":u[N][A]=x?j.read_shift(-4,"i")^2147483648:j.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":u[N][A]=!0;break;case"N":case"F":u[N][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[N][A]="##MEMO##"+(x?parseInt(O.trim(),10):j.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(u[N][A]=+O||0);break;case"@":u[N][A]=new Date(j.read_shift(-8,"f")-621356832e5);break;case"T":u[N][A]=new Date((j.read_shift(4)-2440588)*864e5+j.read_shift(4));break;case"Y":u[N][A]=j.read_shift(4,"i")/1e4+j.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][A]=-j.read_shift(-8,"f");break;case"B":if(p&&S[A].len==8){u[N][A]=j.read_shift(8,"f");break}case"G":case"P":j.l+=S[A].len;break;case"0":if(S[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[A].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=S,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=up(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function s(l,c){try{return Nf(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var u=c||{};if(+u.codepage>=0&&Fv(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=ia(),f=R_(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),x=l["!cols"]||[],m=0,g=0,_=0,y=1;for(m=0;m<h.length;++m){if(((x[m]||{}).DBF||{}).name){h[m]=x[m].DBF.name,++_;continue}if(h[m]!=null){if(++_,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(g=0;g<1024;++g)if(h.indexOf(h[m]+"_"+g)==-1){h[m]+="_"+g;break}}}}var S=zr(l["!ref"]),E=[],C=[],P=[];for(m=0;m<=S.e.c-S.s.c;++m){var N="",A="",j=0,O=[];for(g=0;g<p.length;++g)p[g][m]!=null&&O.push(p[g][m]);if(O.length==0||h[m]==null){E[m]="?";continue}for(g=0;g<O.length;++g){switch(typeof O[g]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=O[g]instanceof Date?"D":"C";break;default:A="C"}j=Math.max(j,String(O[g]).length),N=N&&N!=A?"C":A}j>250&&(j=250),A=((x[m]||{}).DBF||{}).type,A=="C"&&x[m].DBF.len>j&&(j=x[m].DBF.len),N=="B"&&A=="N"&&(N="N",P[m]=x[m].DBF.dec,j=x[m].DBF.len),C[m]=N=="C"||A=="N"?j:a[N]||0,y+=C[m],E[m]=N}var W=d.next(32);for(W.write_shift(4,318902576),W.write_shift(4,p.length),W.write_shift(2,296+32*_),W.write_shift(2,y),m=0;m<4;++m)W.write_shift(4,0);for(W.write_shift(4,0|(+t[ZW]||3)<<8),m=0,g=0;m<h.length;++m)if(h[m]!=null){var z=d.next(32),Y=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,Y,"sbcs"),z.write_shift(1,E[m]=="?"?"C":E[m],"sbcs"),z.write_shift(4,g),z.write_shift(1,C[m]||a[E[m]]||0),z.write_shift(1,P[m]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),g+=C[m]||a[E[m]]||0}var J=d.next(264);for(J.write_shift(4,13),m=0;m<65;++m)J.write_shift(4,0);for(m=0;m<p.length;++m){var ie=d.next(y);for(ie.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(E[g]){case"L":ie.write_shift(1,p[m][g]==null?63:p[m][g]?84:70);break;case"B":ie.write_shift(8,p[m][g]||0,"f");break;case"N":var oe="0";for(typeof p[m][g]=="number"&&(oe=p[m][g].toFixed(P[g]||0)),_=0;_<C[g]-oe.length;++_)ie.write_shift(1,32);ie.write_shift(1,oe,"sbcs");break;case"D":p[m][g]?(ie.write_shift(4,("0000"+p[m][g].getFullYear()).slice(-4),"sbcs"),ie.write_shift(2,("00"+(p[m][g].getMonth()+1)).slice(-2),"sbcs"),ie.write_shift(2,("00"+p[m][g].getDate()).slice(-2),"sbcs")):ie.write_shift(8,"00000000","sbcs");break;case"C":var re=String(p[m][g]!=null?p[m][g]:"").slice(0,C[g]);for(ie.write_shift(1,re,"sbcs"),_=0;_<C[g]-re.length;++_)ie.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:s,to_sheet:n,from_sheet:i}}(),$1e=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+os(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var x=e[p];return typeof x=="number"?r4(x):x},n=function(h,p,x){var m=p.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return m==59?h:r4(m)};e["|"]=254;function s(h,p){switch(p.type){case"base64":return a(Yl(h),p);case"binary":return a(h,p);case"buffer":return a(ur&&Buffer.isBuffer(h)?h.toString("binary"):Wg(h),p);case"array":return a(Tb(h),p)}throw new Error("Unrecognized type "+p.type)}function a(h,p){var x=h.split(/[\n\r]+/),m=-1,g=-1,_=0,y=0,S=[],E=[],C=null,P={},N=[],A=[],j=[],O=0,W;for(+p.codepage>=0&&Fv(+p.codepage);_!==x.length;++_){O=0;var z=x[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),Y=z.replace(/;;/g,"\0").split(";").map(function(I){return I.replace(/\u0000/g,";")}),J=Y[0],ie;if(z.length>0)switch(J){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Y[1].charAt(0)=="P"&&E.push(z.slice(3).replace(/;;/g,";"));break;case"C":var oe=!1,re=!1,Z=!1,ae=!1,ge=-1,se=-1;for(y=1;y<Y.length;++y)switch(Y[y].charAt(0)){case"A":break;case"X":g=parseInt(Y[y].slice(1))-1,re=!0;break;case"Y":for(m=parseInt(Y[y].slice(1))-1,re||(g=0),W=S.length;W<=m;++W)S[W]=[];break;case"K":ie=Y[y].slice(1),ie.charAt(0)==='"'?ie=ie.slice(1,ie.length-1):ie==="TRUE"?ie=!0:ie==="FALSE"?ie=!1:isNaN(jl(ie))?isNaN($v(ie).getDate())||(ie=Ls(ie)):(ie=jl(ie),C!==null&&uV(C)&&(ie=mV(ie))),oe=!0;break;case"E":ae=!0;var R=Fye(Y[y].slice(1),{r:m,c:g});S[m][g]=[S[m][g],R];break;case"S":Z=!0,S[m][g]=[S[m][g],"S5S"];break;case"G":break;case"R":ge=parseInt(Y[y].slice(1))-1;break;case"C":se=parseInt(Y[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+z)}if(oe&&(S[m][g]&&S[m][g].length==2?S[m][g][0]=ie:S[m][g]=ie,C=null),Z){if(ae)throw new Error("SYLK shared formula cannot have own formula");var F=ge>-1&&S[ge][se];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");S[m][g][1]=Lye(F[1],{r:m-ge,c:g-se})}break;case"F":var L=0;for(y=1;y<Y.length;++y)switch(Y[y].charAt(0)){case"X":g=parseInt(Y[y].slice(1))-1,++L;break;case"Y":for(m=parseInt(Y[y].slice(1))-1,W=S.length;W<=m;++W)S[W]=[];break;case"M":O=parseInt(Y[y].slice(1))/20;break;case"F":break;case"G":break;case"P":C=E[parseInt(Y[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(j=Y[y].slice(1).split(" "),W=parseInt(j[0],10);W<=parseInt(j[1],10);++W)O=parseInt(j[2],10),A[W-1]=O===0?{hidden:!0}:{wch:O},xA(A[W-1]);break;case"C":g=parseInt(Y[y].slice(1))-1,A[g]||(A[g]={});break;case"R":m=parseInt(Y[y].slice(1))-1,N[m]||(N[m]={}),O>0?(N[m].hpt=O,N[m].hpx=tz(O)):O===0&&(N[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+z)}L<1&&(C=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+z)}}return N.length>0&&(P["!rows"]=N),A.length>0&&(P["!cols"]=A),p&&p.sheetRows&&(S=S.slice(0,p.sheetRows)),[S,P]}function i(h,p){var x=s(h,p),m=x[0],g=x[1],_=up(m,p);return os(g).forEach(function(y){_[y]=g[y]}),_}function l(h,p){return Nf(i(h,p),p)}function c(h,p,x,m){var g="C;Y"+(x+1)+";X"+(m+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+_A(h.f,{r:x,c:m}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(h,p){p.forEach(function(x,m){var g="F;W"+(m+1)+" "+(m+1)+" ";x.hidden?g+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=A_(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=P_(x.wpx)),typeof x.wch=="number"&&(g+=Math.round(x.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function d(h,p){p.forEach(function(x,m){var g="F;";x.hidden?g+="M0;":x.hpt?g+="M"+20*x.hpt+";":x.hpx&&(g+="M"+20*O_(x.hpx)+";"),g.length>2&&h.push(g+"R"+(m+1))})}function f(h,p){var x=["ID;PWXL;N;E"],m=[],g=zr(h["!ref"]),_,y=Array.isArray(h),S=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),h["!cols"]&&u(x,h["!cols"]),h["!rows"]&&d(x,h["!rows"]),x.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var E=g.s.r;E<=g.e.r;++E)for(var C=g.s.c;C<=g.e.c;++C){var P=br({r:E,c:C});_=y?(h[E]||[])[C]:h[P],!(!_||_.v==null&&(!_.f||_.F))&&m.push(c(_,h,E,C))}return x.join(S)+S+m.join(S)+S+"E"+S}return{to_workbook:l,to_sheet:i,from_sheet:f}}(),U1e=function(){function e(a,i){switch(i.type){case"base64":return t(Yl(a),i);case"binary":return t(a,i);case"buffer":return t(ur&&Buffer.isBuffer(a)?a.toString("binary"):Wg(a),i);case"array":return t(Tb(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){for(var l=a.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],x=h[1];++d;for(var m=l[d]||"";(m.match(/["]/g)||[]).length&1&&d<l.length-1;)m+=`
`+l[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(jl(x))?isNaN($v(x).getDate())?f[c][u]=x:f[c][u]=Ls(x):f[c][u]=jl(x),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(a,i){return up(e(a,i),i)}function n(a,i){return Nf(r(a,i),i)}var s=function(){var a=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},i=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=zr(c["!ref"]),f,h=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,d.e.r-d.s.r+1,""),a(u,"TUPLES",0,d.e.c-d.s.c+1,""),a(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){i(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var m=br({r:p,c:x});if(f=h?(c[p]||[])[x]:c[m],!f){i(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,g,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=bu(f.z||un[14],da(Ls(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var _=`\r
`,y=u.join(_);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),QV=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),x=-1,m=-1,g=0,_=[];g!==p.length;++g){var y=p[g].trim().split(":");if(y[0]==="cell"){var S=Hn(y[1]);if(_.length<=S.r)for(x=_.length;x<=S.r;++x)_[x]||(_[x]=[]);switch(x=S.r,m=S.c,y[2]){case"t":_[x][m]=e(y[3]);break;case"v":_[x][m]=+y[3];break;case"vtf":var E=y[y.length-1];case"vtc":switch(y[3]){case"nl":_[x][m]=!!+y[4];break;default:_[x][m]=+y[4];break}y[2]=="vtf"&&(_[x][m]=[_[x][m],E])}}}return h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),_}function n(f,h){return up(r(f,h),h)}function s(f,h){return Nf(n(f,h),h)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],x,m="",g=Oa(f["!ref"]),_=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var S=g.s.c;S<=g.e.c;++S)if(m=br({r:y,c:S}),x=_?(f[y]||[])[S]:f[m],!(!x||x.v==null||x.t==="z")){switch(p=["cell",m,"t"],x.t){case"s":case"str":p.push(t(x.v));break;case"n":x.f?(p[2]="vtf",p[3]="n",p[4]=x.v,p[5]=t(x.f)):(p[2]="v",p[3]=x.v);break;case"b":p[2]="vt"+(x.f?"f":"c"),p[3]="nl",p[4]=x.v?"1":"0",p[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var E=da(Ls(x.v));p[2]="vtc",p[3]="nd",p[4]=""+E,p[5]=x.w||bu(x.z||un[14],E);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[a,i,l,i,u(f),c].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:d}}(),B1e=function(){function e(d,f,h,p,x){x.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(jl(d))?isNaN($v(d).getDate())?f[h][p]=d:f[h][p]=Ls(d):f[h][p]=jl(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var x=d.split(/[\r\n]/),m=x.length-1;m>=0&&x[m].length===0;)--m;for(var g=10,_=0,y=0;y<=m;++y)_=x[y].indexOf(" "),_==-1?_=x[y].length:_++,g=Math.max(g,_);for(y=0;y<=m;++y){p[y]=[];var S=0;for(e(x[y].slice(0,g).trim(),p,y,S,h),S=1;S<=(x[y].length-g)/10+1;++S)e(x[y].slice(g+(S-1)*10,g+S*10).trim(),p,y,S,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(d){for(var f={},h=!1,p=0,x=0;p<d.length;++p)(x=d.charCodeAt(p))==34?h=!h:!h&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&x.push([f[p],p]);if(!x.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&x.push([f[p],p])}return x.sort(function(m,g){return m[0]-g[0]||n[m[1]]-n[g[1]]}),r[x.pop()[1]]||44}function a(d,f){var h=f||{},p="",x=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=s(d.slice(0,1024)):h&&h.FS?p=h.FS:p=s(d.slice(0,1024));var g=0,_=0,y=0,S=0,E=0,C=p.charCodeAt(0),P=!1,N=0,A=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var j=h.dateNF!=null?nxe(h.dateNF):null;function O(){var W=d.slice(S,E),z={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)z.t="z";else if(h.raw)z.t="s",z.v=W;else if(W.trim().length===0)z.t="s",z.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(z.t="s",z.v=W.slice(2,-1).replace(/""/g,'"')):$ye(W)?(z.t="n",z.f=W.slice(1)):(z.t="s",z.v=W);else if(W=="TRUE")z.t="b",z.v=!0;else if(W=="FALSE")z.t="b",z.v=!1;else if(!isNaN(y=jl(W)))z.t="n",h.cellText!==!1&&(z.w=W),z.v=y;else if(!isNaN($v(W).getDate())||j&&W.match(j)){z.z=h.dateNF||un[14];var Y=0;j&&W.match(j)&&(W=sxe(W,h.dateNF,W.match(j)||[]),Y=1),h.cellDates?(z.t="d",z.v=Ls(W,Y)):(z.t="n",z.v=da(Ls(W,Y))),h.cellText!==!1&&(z.w=bu(z.z,z.v instanceof Date?da(z.v):z.v)),h.cellNF||delete z.z}else z.t="s",z.v=W;if(z.t=="z"||(h.dense?(x[g]||(x[g]=[]),x[g][_]=z):x[br({c:_,r:g})]=z),S=E+1,A=d.charCodeAt(S),m.e.c<_&&(m.e.c=_),m.e.r<g&&(m.e.r=g),N==C)++_;else if(_=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;E<d.length;++E)switch(N=d.charCodeAt(E)){case 34:A===34&&(P=!P);break;case C:case 10:case 13:if(!P&&O())break e;break}return E-S>0&&O(),x["!ref"]=kn(m),x}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,f):up(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:JSe(d,f);switch(f.type){case"base64":h=Yl(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof dd<"u"?h=dd.utils.decode(f.codepage,d):h=ur&&Buffer.isBuffer(d)?d.toString("binary"):Wg(d);break;case"array":h=Tb(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=$0(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=$0(h):f.type=="binary"&&typeof dd<"u"&&f.codepage&&(h=dd.utils.decode(f.codepage,dd.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?QV.to_sheet(f.type=="string"?h:$0(h),f):i(h,f)}function c(d,f){return Nf(l(d,f),f)}function u(d){for(var f=[],h=zr(d["!ref"]),p,x=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var g=[],_=h.s.c;_<=h.e.c;++_){var y=br({r:m,c:_});if(p=x?(d[m]||[])[_]:d[y],!p||p.v==null){g.push("          ");continue}for(var S=(p.w||(Gl(p),p.w)||"").slice(0,10);S.length<10;)S+=" ";g.push(S+(_===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),D4=function(){function e(R,F,L){if(R){_a(R,R.l||0);for(var I=L.Enum||ge;R.l<R.length;){var U=R.read_shift(2),X=I[U]||I[65535],de=R.read_shift(2),ye=R.l+de,me=X.f&&X.f(R,de,L);if(R.l=ye,F(me,X,U))return}}}function t(R,F){switch(F.type){case"base64":return r(Ii(Yl(R)),F);case"binary":return r(Ii(R),F);case"buffer":case"array":return r(R,F)}throw"Unsupported type "+F.type}function r(R,F){if(!R)return R;var L=F||{},I=L.dense?[]:{},U="Sheet1",X="",de=0,ye={},me=[],Ue=[],We={s:{r:0,c:0},e:{r:0,c:0}},mt=L.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)L.Enum=ge,e(R,function(Ie,ht,wt){switch(wt){case 0:L.vers=Ie,Ie>=4096&&(L.qpro=!0);break;case 6:We=Ie;break;case 204:Ie&&(X=Ie);break;case 222:X=Ie;break;case 15:case 51:L.qpro||(Ie[1].v=Ie[1].v.slice(1));case 13:case 14:case 16:wt==14&&(Ie[2]&112)==112&&(Ie[2]&15)>1&&(Ie[2]&15)<15&&(Ie[1].z=L.dateNF||un[14],L.cellDates&&(Ie[1].t="d",Ie[1].v=mV(Ie[1].v))),L.qpro&&Ie[3]>de&&(I["!ref"]=kn(We),ye[U]=I,me.push(U),I=L.dense?[]:{},We={s:{r:0,c:0},e:{r:0,c:0}},de=Ie[3],U=X||"Sheet"+(de+1),X="");var Q=L.dense?(I[Ie[0].r]||[])[Ie[0].c]:I[br(Ie[0])];if(Q){Q.t=Ie[1].t,Q.v=Ie[1].v,Ie[1].z!=null&&(Q.z=Ie[1].z),Ie[1].f!=null&&(Q.f=Ie[1].f);break}L.dense?(I[Ie[0].r]||(I[Ie[0].r]=[]),I[Ie[0].r][Ie[0].c]=Ie[1]):I[br(Ie[0])]=Ie[1];break}},L);else if(R[2]==26||R[2]==14)L.Enum=se,R[2]==14&&(L.qpro=!0,R.l=0),e(R,function(Ie,ht,wt){switch(wt){case 204:U=Ie;break;case 22:Ie[1].v=Ie[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ie[3]>de&&(I["!ref"]=kn(We),ye[U]=I,me.push(U),I=L.dense?[]:{},We={s:{r:0,c:0},e:{r:0,c:0}},de=Ie[3],U="Sheet"+(de+1)),mt>0&&Ie[0].r>=mt)break;L.dense?(I[Ie[0].r]||(I[Ie[0].r]=[]),I[Ie[0].r][Ie[0].c]=Ie[1]):I[br(Ie[0])]=Ie[1],We.e.c<Ie[0].c&&(We.e.c=Ie[0].c),We.e.r<Ie[0].r&&(We.e.r=Ie[0].r);break;case 27:Ie[14e3]&&(Ue[Ie[14e3][0]]=Ie[14e3][1]);break;case 1537:Ue[Ie[0]]=Ie[1],Ie[0]==de&&(U=Ie[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(I["!ref"]=kn(We),ye[X||U]=I,me.push(X||U),!Ue.length)return{SheetNames:me,Sheets:ye};for(var lt={},Kt=[],ut=0;ut<Ue.length;++ut)ye[me[ut]]?(Kt.push(Ue[ut]||me[ut]),lt[Ue[ut]]=ye[Ue[ut]]||ye[me[ut]]):(Kt.push(Ue[ut]),lt[Ue[ut]]={"!ref":"A1"});return{SheetNames:Kt,Sheets:lt}}function n(R,F){var L=F||{};if(+L.codepage>=0&&Fv(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var I=ia(),U=zr(R["!ref"]),X=Array.isArray(R),de=[];He(I,0,a(1030)),He(I,6,c(U));for(var ye=Math.min(U.e.r,8191),me=U.s.r;me<=ye;++me)for(var Ue=ss(me),We=U.s.c;We<=U.e.c;++We){me===U.s.r&&(de[We]=xs(We));var mt=de[We]+Ue,lt=X?(R[me]||[])[We]:R[mt];if(!(!lt||lt.t=="z"))if(lt.t=="n")(lt.v|0)==lt.v&&lt.v>=-32768&&lt.v<=32767?He(I,13,p(me,We,lt.v)):He(I,14,m(me,We,lt.v));else{var Kt=Gl(lt);He(I,15,f(me,We,Kt.slice(0,239)))}}return He(I,1),I.end()}function s(R,F){var L=F||{};if(+L.codepage>=0&&Fv(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var I=ia();He(I,0,i(R));for(var U=0,X=0;U<R.SheetNames.length;++U)(R.Sheets[R.SheetNames[U]]||{})["!ref"]&&He(I,27,ae(R.SheetNames[U],X++));var de=0;for(U=0;U<R.SheetNames.length;++U){var ye=R.Sheets[R.SheetNames[U]];if(!(!ye||!ye["!ref"])){for(var me=zr(ye["!ref"]),Ue=Array.isArray(ye),We=[],mt=Math.min(me.e.r,8191),lt=me.s.r;lt<=mt;++lt)for(var Kt=ss(lt),ut=me.s.c;ut<=me.e.c;++ut){lt===me.s.r&&(We[ut]=xs(ut));var Ie=We[ut]+Kt,ht=Ue?(ye[lt]||[])[ut]:ye[Ie];if(!(!ht||ht.t=="z"))if(ht.t=="n")He(I,23,O(lt,ut,de,ht.v));else{var wt=Gl(ht);He(I,22,N(lt,ut,de,wt.slice(0,239)))}}++de}}return He(I,1),I.end()}function a(R){var F=xe(2);return F.write_shift(2,R),F}function i(R){var F=xe(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var L=0,I=0,U=0,X=0;X<R.SheetNames.length;++X){var de=R.SheetNames[X],ye=R.Sheets[de];if(!(!ye||!ye["!ref"])){++U;var me=Oa(ye["!ref"]);L<me.e.r&&(L=me.e.r),I<me.e.c&&(I=me.e.c)}}return L>8191&&(L=8191),F.write_shift(2,L),F.write_shift(1,U),F.write_shift(1,I),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function l(R,F,L){var I={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&L.qpro?(I.s.c=R.read_shift(1),R.l++,I.s.r=R.read_shift(2),I.e.c=R.read_shift(1),R.l++,I.e.r=R.read_shift(2),I):(I.s.c=R.read_shift(2),I.s.r=R.read_shift(2),F==12&&L.qpro&&(R.l+=2),I.e.c=R.read_shift(2),I.e.r=R.read_shift(2),F==12&&L.qpro&&(R.l+=2),I.s.c==65535&&(I.s.c=I.e.c=I.s.r=I.e.r=0),I)}function c(R){var F=xe(8);return F.write_shift(2,R.s.c),F.write_shift(2,R.s.r),F.write_shift(2,R.e.c),F.write_shift(2,R.e.r),F}function u(R,F,L){var I=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(I[0].c=R.read_shift(1),I[3]=R.read_shift(1),I[0].r=R.read_shift(2),R.l+=2):(I[2]=R.read_shift(1),I[0].c=R.read_shift(2),I[0].r=R.read_shift(2)),I}function d(R,F,L){var I=R.l+F,U=u(R,F,L);if(U[1].t="s",L.vers==20768){R.l++;var X=R.read_shift(1);return U[1].v=R.read_shift(X,"utf8"),U}return L.qpro&&R.l++,U[1].v=R.read_shift(I-R.l,"cstr"),U}function f(R,F,L){var I=xe(7+L.length);I.write_shift(1,255),I.write_shift(2,F),I.write_shift(2,R),I.write_shift(1,39);for(var U=0;U<I.length;++U){var X=L.charCodeAt(U);I.write_shift(1,X>=128?95:X)}return I.write_shift(1,0),I}function h(R,F,L){var I=u(R,F,L);return I[1].v=R.read_shift(2,"i"),I}function p(R,F,L){var I=xe(7);return I.write_shift(1,255),I.write_shift(2,F),I.write_shift(2,R),I.write_shift(2,L,"i"),I}function x(R,F,L){var I=u(R,F,L);return I[1].v=R.read_shift(8,"f"),I}function m(R,F,L){var I=xe(13);return I.write_shift(1,255),I.write_shift(2,F),I.write_shift(2,R),I.write_shift(8,L,"f"),I}function g(R,F,L){var I=R.l+F,U=u(R,F,L);if(U[1].v=R.read_shift(8,"f"),L.qpro)R.l=I;else{var X=R.read_shift(2);E(R.slice(R.l,R.l+X),U),R.l+=X}return U}function _(R,F,L){var I=F&32768;return F&=-32769,F=(I?R:0)+(F>=8192?F-16384:F),(I?"":"$")+(L?xs(F):ss(F))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(R,F){_a(R,0);for(var L=[],I=0,U="",X="",de="",ye="";R.l<R.length;){var me=R[R.l++];switch(me){case 0:L.push(R.read_shift(8,"f"));break;case 1:X=_(F[0].c,R.read_shift(2),!0),U=_(F[0].r,R.read_shift(2),!1),L.push(X+U);break;case 2:{var Ue=_(F[0].c,R.read_shift(2),!0),We=_(F[0].r,R.read_shift(2),!1);X=_(F[0].c,R.read_shift(2),!0),U=_(F[0].r,R.read_shift(2),!1),L.push(Ue+We+":"+X+U)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(R.read_shift(2));break;case 6:{for(var mt="";me=R[R.l++];)mt+=String.fromCharCode(me);L.push('"'+mt.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:ye=L.pop(),de=L.pop(),L.push(["AND","OR"][me-20]+"("+de+","+ye+")");break;default:if(me<32&&S[me])ye=L.pop(),de=L.pop(),L.push(de+S[me]+ye);else if(y[me]){if(I=y[me][1],I==69&&(I=R[R.l++]),I>L.length){console.error("WK1 bad formula parse 0x"+me.toString(16)+":|"+L.join("|")+"|");return}var lt=L.slice(-I);L.length-=I,L.push(y[me][0]+"("+lt.join(",")+")")}else return me<=7?console.error("WK1 invalid opcode "+me.toString(16)):me<=24?console.error("WK1 unsupported op "+me.toString(16)):me<=30?console.error("WK1 invalid opcode "+me.toString(16)):me<=115?console.error("WK1 unsupported function opcode "+me.toString(16)):console.error("WK1 unrecognized opcode "+me.toString(16))}}L.length==1?F[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function C(R){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=R.read_shift(2),F[3]=R[R.l++],F[0].c=R[R.l++],F}function P(R,F){var L=C(R);return L[1].t="s",L[1].v=R.read_shift(F-4,"cstr"),L}function N(R,F,L,I){var U=xe(6+I.length);U.write_shift(2,R),U.write_shift(1,L),U.write_shift(1,F),U.write_shift(1,39);for(var X=0;X<I.length;++X){var de=I.charCodeAt(X);U.write_shift(1,de>=128?95:de)}return U.write_shift(1,0),U}function A(R,F){var L=C(R);L[1].v=R.read_shift(2);var I=L[1].v>>1;if(L[1].v&1)switch(I&7){case 0:I=(I>>3)*5e3;break;case 1:I=(I>>3)*500;break;case 2:I=(I>>3)/20;break;case 3:I=(I>>3)/200;break;case 4:I=(I>>3)/2e3;break;case 5:I=(I>>3)/2e4;break;case 6:I=(I>>3)/16;break;case 7:I=(I>>3)/64;break}return L[1].v=I,L}function j(R,F){var L=C(R),I=R.read_shift(4),U=R.read_shift(4),X=R.read_shift(2);if(X==65535)return I===0&&U===3221225472?(L[1].t="e",L[1].v=15):I===0&&U===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var de=X&32768;return X=(X&32767)-16446,L[1].v=(1-de*2)*(U*Math.pow(2,X+32)+I*Math.pow(2,X)),L}function O(R,F,L,I){var U=xe(14);if(U.write_shift(2,R),U.write_shift(1,L),U.write_shift(1,F),I==0)return U.write_shift(4,0),U.write_shift(4,0),U.write_shift(2,65535),U;var X=0,de=0,ye=0,me=0;return I<0&&(X=1,I=-I),de=Math.log2(I)|0,I/=Math.pow(2,de-31),me=I>>>0,me&2147483648||(I/=2,++de,me=I>>>0),I-=me,me|=2147483648,me>>>=0,I*=Math.pow(2,32),ye=I>>>0,U.write_shift(4,ye),U.write_shift(4,me),de+=16383+(X?32768:0),U.write_shift(2,de),U}function W(R,F){var L=j(R);return R.l+=F-14,L}function z(R,F){var L=C(R),I=R.read_shift(4);return L[1].v=I>>6,L}function Y(R,F){var L=C(R),I=R.read_shift(8,"f");return L[1].v=I,L}function J(R,F){var L=Y(R);return R.l+=F-10,L}function ie(R,F){return R[R.l+F-1]==0?R.read_shift(F,"cstr"):""}function oe(R,F){var L=R[R.l++];L>F-1&&(L=F-1);for(var I="";I.length<L;)I+=String.fromCharCode(R[R.l++]);return I}function re(R,F,L){if(!(!L.qpro||F<21)){var I=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var U=R.read_shift(F-21,"cstr");return[I,U]}}function Z(R,F){for(var L={},I=R.l+F;R.l<I;){var U=R.read_shift(2);if(U==14e3){for(L[U]=[0,""],L[U][0]=R.read_shift(2);R[R.l];)L[U][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return L}function ae(R,F){var L=xe(5+R.length);L.write_shift(2,14e3),L.write_shift(2,F);for(var I=0;I<R.length;++I){var U=R.charCodeAt(I);L[L.l++]=U>127?95:U}return L[L.l++]=0,L}var ge={0:{n:"BOF",f:YV},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ie},222:{n:"SHEETNAMELP",f:oe},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:j},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:Y},40:{n:"FORMULA28",f:J},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}}(),W1e=/^\s|\s$|[\t\n\r]/;function ZV(e,t){if(!t.bookSST)return"";var r=[jn];r[r.length]=ze("sst",null,{xmlns:cp[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(W1e)&&(a+=' xml:space="preserve"'),a+=">"+_r(s.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function V1e(e){return[e.read_shift(4),e.read_shift(4)]}function z1e(e,t){return t||(t=xe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var H1e=Ixe;function Y1e(e){var t=ia();Ne(t,159,z1e(e));for(var r=0;r<e.length;++r)Ne(t,19,H1e(e[r]));return Ne(t,160),t.end()}function G1e(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function JV(e){var t=0,r,n=G1e(e),s=n.length+1,a,i,l,c,u;for(r=nf(s),r[0]=n.length,a=1;a!=s;++a)r[a]=n[a-1];for(a=s-1;a>=0;--a)i=r[a],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^i;return t^52811}var q1e=function(){function e(s,a){switch(a.type){case"base64":return t(Yl(s),a);case"binary":return t(s,a);case"buffer":return t(ur&&Buffer.isBuffer(s)?s.toString("binary"):Wg(s),a);case"array":return t(Tb(s),a)}throw new Error("Unrecognized type "+a.type)}function t(s,a){var i=a||{},l=i.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,x,m=-1;x=h.exec(d);){switch(x[0]){case"\\cell":var g=d.slice(p,h.lastIndex-x[0].length);if(g[0]==" "&&(g=g.slice(1)),++m,g.length){var _={v:g,t:"s"};Array.isArray(l)?l[f][m]=_:l[br({r:f,c:m})]=_}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),l["!ref"]=kn(u),l}function r(s,a){return Nf(e(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],i=zr(s["!ref"]),l,c=Array.isArray(s),u=i.s.r;u<=i.e.r;++u){a.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=br({r:u,c:d});l=c?(s[u]||[])[d]:s[f],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(Gl(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function R4(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var K1e=6,Al=K1e;function A_(e){return Math.floor((e+Math.round(128/Al)/256)*Al)}function P_(e){return Math.floor((e-5)/Al*100+.5)/100}function NC(e){return Math.round((e*Al+5)/Al*256)/256}function xA(e){e.width?(e.wpx=A_(e.width),e.wch=P_(e.wpx),e.MDW=Al):e.wpx?(e.wch=P_(e.wpx),e.width=NC(e.wch),e.MDW=Al):typeof e.wch=="number"&&(e.width=NC(e.wch),e.wpx=A_(e.width),e.MDW=Al),e.customWidth&&delete e.customWidth}var X1e=96,ez=X1e;function O_(e){return e*96/ez}function tz(e){return e*ez/96}function Q1e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ze("numFmt",null,{numFmtId:n,formatCode:_r(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ze("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Z1e(e){var t=[];return t[t.length]=ze("cellXfs",null),e.forEach(function(r){t[t.length]=ze("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ze("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function rz(e,t){var r=[jn,ze("styleSheet",null,{xmlns:cp[0],"xmlns:vt":zn.vt})],n;return e.SSF&&(n=Q1e(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Z1e(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function J1e(e,t){var r=e.read_shift(2),n=ys(e);return[r,n]}function eye(e,t,r){r||(r=xe(6+4*t.length)),r.write_shift(2,e),Yn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function tye(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=Wxe(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Bxe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ys(e),n}function rye(e,t){t||(t=xe(25+4*32)),t.write_shift(2,e.sz*20),Vxe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),k_(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),Yn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var nye=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],KE,sye=Lo;function I4(e,t){t||(t=xe(4*3+8*7+16*1)),KE||(KE=iA(nye));var r=KE[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(k_({auto:1},t),k_({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function aye(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function nz(e,t,r){r||(r=xe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Zp(e,t){return t||(t=xe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var iye=Lo;function oye(e,t){return t||(t=xe(51)),t.write_shift(1,0),Zp(null,t),Zp(null,t),Zp(null,t),Zp(null,t),Zp(null,t),t.length>t.l?t.slice(0,t.l):t}function lye(e,t){return t||(t=xe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),N_(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function cye(e,t,r){var n=xe(2052);return n.write_shift(4,e),N_(t,n),N_(r,n),n.length>n.l?n.slice(0,n.l):n}function uye(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(Ne(e,615,Hi(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Ne(e,44,eye(s,t[s]))}),Ne(e,616))}}function dye(e){var t=1;Ne(e,611,Hi(t)),Ne(e,43,rye({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ne(e,612)}function fye(e){var t=2;Ne(e,603,Hi(t)),Ne(e,45,I4({patternType:"none"})),Ne(e,45,I4({patternType:"gray125"})),Ne(e,604)}function hye(e){var t=1;Ne(e,613,Hi(t)),Ne(e,46,oye()),Ne(e,614)}function mye(e){var t=1;Ne(e,626,Hi(t)),Ne(e,47,nz({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ne(e,627)}function pye(e,t){Ne(e,617,Hi(t.length)),t.forEach(function(r){Ne(e,47,nz(r,0))}),Ne(e,618)}function vye(e){var t=1;Ne(e,619,Hi(t)),Ne(e,48,lye({xfId:0,builtinId:0,name:"Normal"})),Ne(e,620)}function gye(e){var t=0;Ne(e,505,Hi(t)),Ne(e,506)}function xye(e){var t=0;Ne(e,508,cye(t,"TableStyleMedium9","PivotStyleMedium4")),Ne(e,509)}function yye(e,t){var r=ia();return Ne(r,278),uye(r,e.SSF),dye(r),fye(r),hye(r),mye(r),pye(r,t.cellXfs),vye(r),gye(r),xye(r),Ne(r,279),r.end()}function sz(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[jn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function _ye(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ys(e)}}function wye(e){var t=xe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Yn(e.name,t),t.slice(0,t.l)}function bye(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Sye(e){var t=xe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Eye(e,t){var r=xe(8+2*t.length);return r.write_shift(4,e),Yn(t,r),r.slice(0,r.l)}function Tye(e){return e.l+=4,e.read_shift(4)!=0}function Cye(e,t){var r=xe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Nye(){var e=ia();return Ne(e,332),Ne(e,334,Hi(1)),Ne(e,335,wye({name:"XLDAPR",version:12e4,flags:3496657072})),Ne(e,336),Ne(e,339,Eye(1,"XLDAPR")),Ne(e,52),Ne(e,35,Hi(514)),Ne(e,4096,Hi(0)),Ne(e,4097,qa(1)),Ne(e,36),Ne(e,53),Ne(e,340),Ne(e,337,Cye(1)),Ne(e,51,Sye([[1,0]])),Ne(e,338),Ne(e,333),e.end()}function az(){var e=[jn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function kye(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=br(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var bh=1024;function iz(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[ze("xml",null,{"xmlns:v":ba.v,"xmlns:o":ba.o,"xmlns:x":ba.x,"xmlns:mv":ba.mv}).replace(/\/>/,">"),ze("o:shapelayout",ze("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ze("v:shapetype",[ze("v:stroke",null,{joinstyle:"miter"}),ze("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];bh<e*1e3;)bh+=1e3;return t.forEach(function(a){var i=Hn(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?ze("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ze("v:fill",c,l),d={on:"t",obscured:"t"};++bh,s=s.concat(["<v:shape"+Bv({id:"_x0000_s"+bh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ze("v:shadow",null,d),ze("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",rs("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),rs("x:AutoFill","False"),rs("x:Row",String(i.r)),rs("x:Column",String(i.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function oz(e){var t=[jn,ze("comments",null,{xmlns:cp[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var a=_r(s.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(s=r.indexOf(_r(c.a))),a.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),a.length<=1)t.push(rs("t",_r(a[0]||"")));else{for(var i=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)i+=`Reply:
    `+a[l]+`
`;t.push(rs("t",_r(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function jye(e,t,r){var n=[jn,ze("ThreadedComments",null,{xmlns:zn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var a="";(s[1]||[]).forEach(function(i,l){if(!i.T){delete i.ID;return}i.a&&t.indexOf(i.a)==-1&&t.push(i.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?a=c.id:c.parentId=a,i.ID=c.id,i.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(ze("threadedComment",rs("text",i.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function Aye(e){var t=[jn,ze("personList",null,{xmlns:zn.TCMNT,"xmlns:x":cp[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ze("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Pye(e){var t={};t.iauthor=e.read_shift(4);var r=Pf(e);return t.rfx=r.s,t.ref=br(r.s),e.l+=16,t}function Oye(e,t){return t==null&&(t=xe(36)),t.write_shift(4,e[1].iauthor),dp(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Dye=ys;function Rye(e){return Yn(e.slice(0,54))}function Iye(e){var t=ia(),r=[];return Ne(t,628),Ne(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Ne(t,632,Rye(s.a)))})}),Ne(t,631),Ne(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var a={s:Hn(n[0]),e:Hn(n[0])};Ne(t,635,Oye([a,s])),s.t&&s.t.length>0&&Ne(t,637,Fxe(s)),Ne(t,636),delete s.iauthor})}),Ne(t,634),Ne(t,629),t.end()}function Mye(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Cr.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var lz=["xlsb","xlsm","xlam","biff8","xla"],Fye=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,a,i){var l=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,s+(l?"":"$")+xs(d)+(c?"":"$")+ss(u)}return function(s,a){return t=a,s.replace(e,r)}}(),yA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,_A=function(){return function(t,r){return t.replace(yA,function(n,s,a,i,l,c){var u=hA(i)-(a?0:r.c),d=fA(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":a?u+1:"["+u+"]";return s+"R"+f+"C"+h})}}();function Lye(e,t){return e.replace(yA,function(r,n,s,a,i,l){return n+(s=="$"?s+a:xs(hA(a)+t.c))+(i=="$"?i+l:ss(fA(l)+t.r))})}function $ye(e){return e.length!=1}function Sn(e){e.l+=1}function Su(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function cz(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return uz(e);r.biff==12&&(n=4)}var s=e.read_shift(n),a=e.read_shift(n),i=Su(e),l=Su(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function uz(e){var t=Su(e),r=Su(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function Uye(e,t,r){if(r.biff<8)return uz(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),a=Su(e),i=Su(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:i[0],cRel:i[1],rRel:i[2]}}}function dz(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Bye(e);var n=e.read_shift(r&&r.biff==12?4:2),s=Su(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function Bye(e){var t=Su(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Wye(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Vye(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return zye(e);var s=e.read_shift(n>=12?4:2),a=e.read_shift(2),i=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;s>524287;)s-=1048576;if(i==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:i,rRel:l}}function zye(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function Hye(e,t,r){var n=(e[e.l++]&96)>>5,s=cz(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function Yye(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var i=cz(e,a,r);return[n,s,i]}function Gye(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function qye(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,s]}function Kye(e,t,r){var n=(e[e.l++]&96)>>5,s=Uye(e,t-1,r);return[n,s]}function Xye(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function M4(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Qye(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function Zye(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Jye(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function e_e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function t_e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function fz(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function r_e(e){return e.read_shift(2),fz(e)}function n_e(e){return e.read_shift(2),fz(e)}function s_e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=dz(e,0,r);return[n,s]}function a_e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=Vye(e,0,r);return[n,s]}function i_e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=dz(e,0,r);return[n,s,a]}function o_e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[owe[s],pz[s],n]}function l_e(e,t,r){var n=e[e.l++],s=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:c_e(e);return[s,(a[0]===0?pz:iwe)[a[1]]]}function c_e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function u_e(e,t,r){e.l+=r&&r.biff==2?3:4}function d_e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function f_e(e){return e.l++,Hg[e.read_shift(1)]}function h_e(e){return e.l++,e.read_shift(2)}function m_e(e){return e.l++,e.read_shift(1)!==0}function p_e(e){return e.l++,fp(e)}function v_e(e,t,r){return e.l++,qV(e,t-1,r)}function g_e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=i1e(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Hg[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=fp(e);break;case 2:r[1]=u1e(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function x_e(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((r.biff==12?Pf:h1e)(e));return s}function y_e(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var a=0,i=[];a!=n&&(i[a]=[]);++a)for(var l=0;l!=s;++l)i[a][l]=g_e(e,r.biff);return i}function __e(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function w_e(e,t,r){if(r.biff==5)return b_e(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),a=e.read_shift(4);return[n,s,a]}function b_e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function S_e(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function E_e(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function T_e(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function C_e(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,s]}var N_e=Lo,k_e=Lo,j_e=Lo;function Yg(e,t,r){return e.l+=2,[Wye(e)]}function wA(e){return e.l+=6,[]}var A_e=Yg,P_e=wA,O_e=wA,D_e=Yg;function hz(e){return e.l+=2,[YV(e),e.read_shift(2)&1]}var R_e=Yg,I_e=hz,M_e=wA,F_e=Yg,L_e=Yg,$_e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function U_e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),a=e.read_shift(2),i=$_e[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:s,C:a}}function B_e(e){return e.l+=2,[e.read_shift(4)]}function W_e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function V_e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function z_e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function H_e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Y_e(e){return e.l+=4,[0,0]}var F4={1:{n:"PtgExp",f:d_e},2:{n:"PtgTbl",f:j_e},3:{n:"PtgAdd",f:Sn},4:{n:"PtgSub",f:Sn},5:{n:"PtgMul",f:Sn},6:{n:"PtgDiv",f:Sn},7:{n:"PtgPower",f:Sn},8:{n:"PtgConcat",f:Sn},9:{n:"PtgLt",f:Sn},10:{n:"PtgLe",f:Sn},11:{n:"PtgEq",f:Sn},12:{n:"PtgGe",f:Sn},13:{n:"PtgGt",f:Sn},14:{n:"PtgNe",f:Sn},15:{n:"PtgIsect",f:Sn},16:{n:"PtgUnion",f:Sn},17:{n:"PtgRange",f:Sn},18:{n:"PtgUplus",f:Sn},19:{n:"PtgUminus",f:Sn},20:{n:"PtgPercent",f:Sn},21:{n:"PtgParen",f:Sn},22:{n:"PtgMissArg",f:Sn},23:{n:"PtgStr",f:v_e},26:{n:"PtgSheet",f:W_e},27:{n:"PtgEndSheet",f:V_e},28:{n:"PtgErr",f:f_e},29:{n:"PtgBool",f:m_e},30:{n:"PtgInt",f:h_e},31:{n:"PtgNum",f:p_e},32:{n:"PtgArray",f:Xye},33:{n:"PtgFunc",f:o_e},34:{n:"PtgFuncVar",f:l_e},35:{n:"PtgName",f:__e},36:{n:"PtgRef",f:s_e},37:{n:"PtgArea",f:Hye},38:{n:"PtgMemArea",f:S_e},39:{n:"PtgMemErr",f:N_e},40:{n:"PtgMemNoMem",f:k_e},41:{n:"PtgMemFunc",f:E_e},42:{n:"PtgRefErr",f:T_e},43:{n:"PtgAreaErr",f:Gye},44:{n:"PtgRefN",f:a_e},45:{n:"PtgAreaN",f:Kye},46:{n:"PtgMemAreaN",f:z_e},47:{n:"PtgMemNoMemN",f:H_e},57:{n:"PtgNameX",f:w_e},58:{n:"PtgRef3d",f:i_e},59:{n:"PtgArea3d",f:Yye},60:{n:"PtgRefErr3d",f:C_e},61:{n:"PtgAreaErr3d",f:qye},255:{}},G_e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},q_e={1:{n:"PtgElfLel",f:hz},2:{n:"PtgElfRw",f:F_e},3:{n:"PtgElfCol",f:A_e},6:{n:"PtgElfRwV",f:L_e},7:{n:"PtgElfColV",f:D_e},10:{n:"PtgElfRadical",f:R_e},11:{n:"PtgElfRadicalS",f:M_e},13:{n:"PtgElfColS",f:P_e},15:{n:"PtgElfColSV",f:O_e},16:{n:"PtgElfRadicalLel",f:I_e},25:{n:"PtgList",f:U_e},29:{n:"PtgSxName",f:B_e},255:{}},K_e={0:{n:"PtgAttrNoop",f:Y_e},1:{n:"PtgAttrSemi",f:t_e},2:{n:"PtgAttrIf",f:Jye},4:{n:"PtgAttrChoose",f:Qye},8:{n:"PtgAttrGoto",f:Zye},16:{n:"PtgAttrSum",f:u_e},32:{n:"PtgAttrBaxcel",f:M4},33:{n:"PtgAttrBaxcel",f:M4},64:{n:"PtgAttrSpace",f:r_e},65:{n:"PtgAttrSpaceSemi",f:n_e},128:{n:"PtgAttrIfError",f:e_e},255:{}};function X_e(e,t,r,n){if(n.biff<8)return Lo(e,t);for(var s=e.l+t,a=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=y_e(e,0,n),a.push(r[i][1]);break;case"PtgMemArea":r[i][2]=x_e(e,r[i][1],n),a.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),a.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=s-e.l,t!==0&&a.push(Lo(e,t)),a}function Q_e(e,t,r){for(var n=e.l+t,s,a,i=[];n!=e.l;)t=n-e.l,a=e[e.l],s=F4[a]||F4[G_e[a]],(a===24||a===25)&&(s=(a===24?q_e:K_e)[e[e.l+1]]),!s||!s.f?Lo(e,t):i.push([s.n,s.f(e,t,r)]);return i}function Z_e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],a=0;a<n.length;++a){var i=n[a];if(i)switch(i[0]){case 2:s.push('"'+i[1].replace(/"/g,'""')+'"');break;default:s.push(i[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var J_e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ewe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function mz(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function L4(e,t,r){var n=mz(e,t,r);return n=="#REF"?n:ewe(n,r)}function Sm(e,t,r,n,s){var a=s&&s.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,x="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",_=0,y=e[0].length;_<y;++_){var S=e[0][_];switch(S[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=on(" ",e[0][m][1][1]);break;case 1:g=on("\r",e[0][m][1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+g,m=-1}l.push(u+J_e[S[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=B0(S[1][1],i,s),l.push(W0(d,a));break;case"PtgRefN":d=r?B0(S[1][1],r,s):S[1][1],l.push(W0(d,a));break;case"PtgRef3d":f=S[1][1],d=B0(S[1][2],i,s),x=L4(n,f,s),l.push(x+"!"+W0(d,a));break;case"PtgFunc":case"PtgFuncVar":var E=S[1][0],C=S[1][1];E||(E=0),E&=127;var P=E==0?[]:l.slice(-E);l.length-=E,C==="User"&&(C=P.shift()),l.push(C+"("+P.join(",")+")");break;case"PtgBool":l.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(S[1]);break;case"PtgNum":l.push(String(S[1]));break;case"PtgStr":l.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(S[1]);break;case"PtgAreaN":p=b4(S[1][1],r?{s:r}:i,s),l.push(GE(p,s));break;case"PtgArea":p=b4(S[1][1],i,s),l.push(GE(p,s));break;case"PtgArea3d":f=S[1][1],p=S[1][2],x=L4(n,f,s),l.push(x+"!"+GE(p,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=S[1][2];var N=(n.names||[])[h-1]||(n[0]||[])[h],A=N?N.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!s.xlfn&&(A=A.slice(6)),l.push(A);break;case"PtgNameX":var j=S[1][1];h=S[1][2];var O;if(s.biff<=5)j<0&&(j=-j),n[j]&&(O=n[j][h]);else{var W="";if(((n[j]||[])[0]||[])[0]==14849||(((n[j]||[])[0]||[])[0]==1025?n[j][h]&&n[j][h].itab>0&&(W=n.SheetNames[n[j][h].itab-1]+"!"):W=n.SheetNames[h-1]+"!"),n[j]&&n[j][h])W+=n[j][h].Name;else if(n[0]&&n[0][h])W+=n[0][h].Name;else{var z=(mz(n,j,s)||"").split(";;");z[h-1]?W=z[h-1]:W+="SH33TJSERRX"}l.push(W);break}O||(O={Name:"SH33TJSERRY"}),l.push(O.Name);break;case"PtgParen":var Y="(",J=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:Y=on(" ",e[0][m][1][1])+Y;break;case 3:Y=on("\r",e[0][m][1][1])+Y;break;case 4:J=on(" ",e[0][m][1][1])+J;break;case 5:J=on("\r",e[0][m][1][1])+J;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(Y+l.pop()+J);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:S[1][1],r:S[1][0]};var ie={c:r.c,r:r.r};if(n.sharedf[br(d)]){var oe=n.sharedf[br(d)];l.push(Sm(oe,i,ie,n,s))}else{var re=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(Sm(u[1],i,ie,n,s)),re=!0;break}re||l.push(S[1])}break;case"PtgArray":l.push("{"+Z_e(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var Z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&m>=0&&Z.indexOf(e[0][_][0])==-1){S=e[0][m];var ae=!0;switch(S[1][0]){case 4:ae=!1;case 0:g=on(" ",S[1][1]);break;case 5:ae=!1;case 1:g=on("\r",S[1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}l.push((ae?g:"")+l.pop()+(ae?"":g)),m=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function twe(e){if(e==null){var t=xe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return sf(e);return sf(0)}function rwe(e,t,r,n,s){var a=af(t,r,s),i=twe(e.v),l=xe(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=xe(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=ts([a,i,l,u]);return f}function Cb(e,t,r){var n=e.read_shift(4),s=Q_e(e,n,r),a=e.read_shift(4),i=a>0?X_e(e,a,s,r):null;return[s,i]}var nwe=Cb,Nb=Cb,swe=Cb,awe=Cb,iwe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},pz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},owe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function lwe(e){var t="of:="+e.replace(yA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function cwe(e){return e.replace(/\./,"!")}var V0=typeof Map<"u";function bA(e,t,r){var n=0,s=e.length;if(r){if(V0?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=V0?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(V0?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function kb(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Al=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=P_(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=NC(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function vz(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Vu(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,a=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){dV(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=a;++s)if(e[s].numFmtId===n)return s;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function uwe(e,t,r){if(e&&e["!ref"]){var n=zr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function dwe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+kn(e[r])+'"/>';return t+"</mergeCells>"}function fwe(e,t,r,n,s){var a=!1,i={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,i.codeName=Uv(_r(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+ze("outlinePr",null,u)}!a&&!l||(s[s.length]=ze("sheetPr",l,i))}var hwe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],mwe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function pwe(e){var t={sheet:1};return hwe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),mwe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=JV(e.password).toString(16).toUpperCase()),ze("sheetProtection",null,t)}function vwe(e){return vz(e),ze("pageMargins",null,e)}function gwe(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=ze("col",null,kb(s,n)));return r[r.length]="</cols>",r.join("")}function xwe(e,t,r,n){var s=typeof e.ref=="string"?e.ref:kn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,i=Oa(s);i.s.r==i.e.r&&(i.e.r=Oa(t["!ref"]).e.r,s=kn(i));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),ze("autoFilter",null,{ref:s})}function ywe(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ze("sheetViews",ze("sheetView",null,s),{})}function _we(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",a=e.t,i=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=Hg[e.v];break;case"d":n&&n.cellDates?s=Ls(e.v,-1).toISOString():(e=fa(e),e.t="n",s=""+(e.v=da(Ls(e.v)))),typeof e.z>"u"&&(e.z=un[14]);break;default:s=e.v;break}var l=rs("v",_r(s)),c={r:t},u=Vu(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=rs("v",""+bA(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=a&&(e.t=a,e.v=i),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=ze("f",_r(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ze("c",l,c)}function wwe(e,t,r,n){var s=[],a=[],i=zr(e["!ref"]),l="",c,u="",d=[],f=0,h=0,p=e["!rows"],x=Array.isArray(e),m={r:u},g,_=-1;for(h=i.s.c;h<=i.e.c;++h)d[h]=xs(h);for(f=i.s.r;f<=i.e.r;++f){for(a=[],u=ss(f),h=i.s.c;h<=i.e.c;++h){c=d[h]+u;var y=x?(e[f]||[])[h]:e[c];y!==void 0&&(l=_we(y,c,e,t))!=null&&a.push(l)}(a.length>0||p&&p[f])&&(m={r:u},p&&p[f]&&(g=p[f],g.hidden&&(m.hidden=1),_=-1,g.hpx?_=O_(g.hpx):g.hpt&&(_=g.hpt),_>-1&&(m.ht=_,m.customHeight=1),g.level&&(m.outlineLevel=g.level)),s[s.length]=ze("row",a.join(""),m))}if(p)for(;f<p.length;++f)p&&p[f]&&(m={r:f+1},g=p[f],g.hidden&&(m.hidden=1),_=-1,g.hpx?_=O_(g.hpx):g.hpt&&(_=g.hpt),_>-1&&(m.ht=_,m.customHeight=1),g.level&&(m.outlineLevel=g.level),s[s.length]=ze("row","",m));return s.join("")}function gz(e,t,r,n){var s=[jn,ze("worksheet",null,{xmlns:cp[0],"xmlns:r":zn.r})],a=r.SheetNames[e],i=0,l="",c=r.Sheets[a];c==null&&(c={});var u=c["!ref"]||"A1",d=zr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=kn(d)}n||(n={}),c["!comments"]=[];var f=[];fwe(c,r,e,t,s),s[s.length]=ze("dimension",null,{ref:u}),s[s.length]=ywe(c,t,e,r),t.sheetFormat&&(s[s.length]=ze("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=gwe(c,c["!cols"])),s[i=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=wwe(c,t),l.length>0&&(s[s.length]=l)),s.length>i+1&&(s[s.length]="</sheetData>",s[i]=s[i].replace("/>",">")),c["!protect"]&&(s[s.length]=pwe(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=xwe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=dwe(c["!merges"]));var h=-1,p,x=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(x=yr(n,-1,_r(m[1].Target).replace(/#.*$/,""),ar.HLINK),p["r:id"]="rId"+x),(h=m[1].Target.indexOf("#"))>-1&&(p.location=_r(m[1].Target.slice(h+1))),m[1].Tooltip&&(p.tooltip=_r(m[1].Tooltip)),s[s.length]=ze("hyperlink",null,p))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=vwe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=rs("ignoredErrors",ze("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(x=yr(n,-1,"../drawings/drawing"+(e+1)+".xml",ar.DRAW),s[s.length]=ze("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=f),c["!comments"].length>0&&(x=yr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ar.VML),s[s.length]=ze("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function bwe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=s/20),r}function Swe(e,t,r){var n=xe(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;s.hpx?a=O_(s.hpx)*20:s.hpt&&(a=s.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var i=0;s.level&&(i|=s.level),s.hidden&&(i|=16),(s.hpx||s.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[br(u)];x&&(f<0&&(f=p),h=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var m=n.l;return n.l=c,n.write_shift(4,l),n.l=m,n.length>n.l?n.slice(0,n.l):n}function Ewe(e,t,r,n){var s=Swe(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&Ne(e,0,s)}var Twe=Pf,Cwe=dp;function Nwe(){}function kwe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Lxe(e),r}function jwe(e,t,r){r==null&&(r=xe(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return k_({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),OV(e,r),r.slice(0,r.l)}function Awe(e){var t=hi(e);return[t]}function Pwe(e,t,r){return r==null&&(r=xe(8)),kf(t,r)}function Owe(e){var t=jf(e);return[t]}function Dwe(e,t,r){return r==null&&(r=xe(4)),Af(t,r)}function Rwe(e){var t=hi(e),r=e.read_shift(1);return[t,r,"b"]}function Iwe(e,t,r){return r==null&&(r=xe(9)),kf(t,r),r.write_shift(1,e.v?1:0),r}function Mwe(e){var t=jf(e),r=e.read_shift(1);return[t,r,"b"]}function Fwe(e,t,r){return r==null&&(r=xe(5)),Af(t,r),r.write_shift(1,e.v?1:0),r}function Lwe(e){var t=hi(e),r=e.read_shift(1);return[t,r,"e"]}function $we(e,t,r){return r==null&&(r=xe(9)),kf(t,r),r.write_shift(1,e.v),r}function Uwe(e){var t=jf(e),r=e.read_shift(1);return[t,r,"e"]}function Bwe(e,t,r){return r==null&&(r=xe(8)),Af(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Wwe(e){var t=hi(e),r=e.read_shift(4);return[t,r,"s"]}function Vwe(e,t,r){return r==null&&(r=xe(12)),kf(t,r),r.write_shift(4,t.v),r}function zwe(e){var t=jf(e),r=e.read_shift(4);return[t,r,"s"]}function Hwe(e,t,r){return r==null&&(r=xe(8)),Af(t,r),r.write_shift(4,t.v),r}function Ywe(e){var t=hi(e),r=fp(e);return[t,r,"n"]}function Gwe(e,t,r){return r==null&&(r=xe(16)),kf(t,r),sf(e.v,r),r}function qwe(e){var t=jf(e),r=fp(e);return[t,r,"n"]}function Kwe(e,t,r){return r==null&&(r=xe(12)),Af(t,r),sf(e.v,r),r}function Xwe(e){var t=hi(e),r=DV(e);return[t,r,"n"]}function Qwe(e,t,r){return r==null&&(r=xe(12)),kf(t,r),RV(e.v,r),r}function Zwe(e){var t=jf(e),r=DV(e);return[t,r,"n"]}function Jwe(e,t,r){return r==null&&(r=xe(8)),Af(t,r),RV(e.v,r),r}function ebe(e){var t=hi(e),r=mA(e);return[t,r,"is"]}function tbe(e){var t=hi(e),r=ys(e);return[t,r,"str"]}function rbe(e,t,r){return r==null&&(r=xe(12+4*e.v.length)),kf(t,r),Yn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function nbe(e){var t=jf(e),r=ys(e);return[t,r,"str"]}function sbe(e,t,r){return r==null&&(r=xe(8+4*e.v.length)),Af(t,r),Yn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function abe(e,t,r){var n=e.l+t,s=hi(e);s.r=r["!row"];var a=e.read_shift(1),i=[s,a,"b"];if(r.cellFormula){e.l+=2;var l=Nb(e,n-e.l,r);i[3]=Sm(l,null,s,r.supbooks,r)}else e.l=n;return i}function ibe(e,t,r){var n=e.l+t,s=hi(e);s.r=r["!row"];var a=e.read_shift(1),i=[s,a,"e"];if(r.cellFormula){e.l+=2;var l=Nb(e,n-e.l,r);i[3]=Sm(l,null,s,r.supbooks,r)}else e.l=n;return i}function obe(e,t,r){var n=e.l+t,s=hi(e);s.r=r["!row"];var a=fp(e),i=[s,a,"n"];if(r.cellFormula){e.l+=2;var l=Nb(e,n-e.l,r);i[3]=Sm(l,null,s,r.supbooks,r)}else e.l=n;return i}function lbe(e,t,r){var n=e.l+t,s=hi(e);s.r=r["!row"];var a=ys(e),i=[s,a,"str"];if(r.cellFormula){e.l+=2;var l=Nb(e,n-e.l,r);i[3]=Sm(l,null,s,r.supbooks,r)}else e.l=n;return i}var cbe=Pf,ube=dp;function dbe(e,t){return t==null&&(t=xe(4)),t.write_shift(4,e),t}function fbe(e,t){var r=e.l+t,n=Pf(e),s=pA(e),a=ys(e),i=ys(e),l=ys(e);e.l=r;var c={rfx:n,relId:s,loc:a,display:l};return i&&(c.Tooltip=i),c}function hbe(e,t){var r=xe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));dp({s:Hn(e[0]),e:Hn(e[0])},r),vA("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return Yn(s||"",r),Yn(e[1].Tooltip||"",r),Yn("",r),r.slice(0,r.l)}function mbe(){}function pbe(e,t,r){var n=e.l+t,s=IV(e),a=e.read_shift(1),i=[s];if(i[2]=a,r.cellFormula){var l=nwe(e,n-e.l,r);i[1]=l}else e.l=n;return i}function vbe(e,t,r){var n=e.l+t,s=Pf(e),a=[s];if(r.cellFormula){var i=awe(e,n-e.l,r);a[1]=i,e.l=n}else e.l=n;return a}function gbe(e,t,r){r==null&&(r=xe(18));var n=kb(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var xz=["left","right","top","bottom","header","footer"];function xbe(e){var t={};return xz.forEach(function(r){t[r]=fp(e)}),t}function ybe(e,t){return t==null&&(t=xe(6*8)),vz(e),xz.forEach(function(r){sf(e[r],t)}),t}function _be(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function wbe(e,t,r){r==null&&(r=xe(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function bbe(e){var t=xe(24);return t.write_shift(4,4),t.write_shift(4,1),dp(e,t),t}function Sbe(e,t){return t==null&&(t=xe(16*4+2)),t.write_shift(2,e.password?JV(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Ebe(){}function Tbe(){}function Cbe(e,t,r,n,s,a,i){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=fa(t),t.z=t.z||un[14],t.v=da(Ls(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Vu(s.cellXfs,t,s),t.l&&a["!links"].push([br(c),t.l]),t.c&&a["!comments"].push([br(c),t.c]),t.t){case"s":case"str":return s.bookSST?(l=bA(s.Strings,t.v,s.revStrings),c.t="s",c.v=l,i?Ne(e,18,Hwe(t,c)):Ne(e,7,Vwe(t,c))):(c.t="str",i?Ne(e,17,sbe(t,c)):Ne(e,6,rbe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?i?Ne(e,13,Jwe(t,c)):Ne(e,2,Qwe(t,c)):i?Ne(e,16,Kwe(t,c)):Ne(e,5,Gwe(t,c)),!0;case"b":return c.t="b",i?Ne(e,15,Fwe(t,c)):Ne(e,4,Iwe(t,c)),!0;case"e":return c.t="e",i?Ne(e,14,Bwe(t,c)):Ne(e,3,$we(t,c)),!0}return i?Ne(e,12,Dwe(t,c)):Ne(e,1,Pwe(t,c)),!0}function Nbe(e,t,r,n){var s=zr(t["!ref"]||"A1"),a,i="",l=[];Ne(e,145);var c=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var d=s.s.r;d<=u;++d){i=ss(d),Ewe(e,t,s,d);var f=!1;if(d<=s.e.r)for(var h=s.s.c;h<=s.e.c;++h){d===s.s.r&&(l[h]=xs(h)),a=l[h]+i;var p=c?(t[d]||[])[h]:t[a];if(!p){f=!1;continue}f=Cbe(e,p,d,h,n,t,f)}}Ne(e,146)}function kbe(e,t){!t||!t["!merges"]||(Ne(e,177,dbe(t["!merges"].length)),t["!merges"].forEach(function(r){Ne(e,176,ube(r))}),Ne(e,178))}function jbe(e,t){!t||!t["!cols"]||(Ne(e,390),t["!cols"].forEach(function(r,n){r&&Ne(e,60,gbe(n,r))}),Ne(e,391))}function Abe(e,t){!t||!t["!ref"]||(Ne(e,648),Ne(e,649,bbe(zr(t["!ref"]))),Ne(e,650))}function Pbe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=yr(r,-1,n[1].Target.replace(/#.*$/,""),ar.HLINK);Ne(e,494,hbe(n,s))}}),delete t["!links"]}function Obe(e,t,r,n){if(t["!comments"].length>0){var s=yr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ar.VML);Ne(e,551,vA("rId"+s)),t["!legacy"]=s}}function Dbe(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],a=typeof s.ref=="string"?s.ref:kn(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=Oa(a);l.s.r==l.e.r&&(l.e.r=Oa(t["!ref"]).e.r,a=kn(l));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ne(e,161,dp(zr(a))),Ne(e,162)}}function Rbe(e,t,r){Ne(e,133),Ne(e,137,wbe(t,r)),Ne(e,138),Ne(e,134)}function Ibe(e,t){t["!protect"]&&Ne(e,535,Sbe(t["!protect"]))}function Mbe(e,t,r,n){var s=ia(),a=r.SheetNames[e],i=r.Sheets[a]||{},l=a;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=zr(i["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Ne(s,129),(r.vbaraw||i["!outline"])&&Ne(s,147,jwe(l,i["!outline"])),Ne(s,148,Cwe(c)),Rbe(s,i,r.Workbook),jbe(s,i),Nbe(s,i,e,t),Ibe(s,i),Dbe(s,i,r,e),kbe(s,i),Pbe(s,i,n),i["!margins"]&&Ne(s,476,ybe(i["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Abe(s,i),Obe(s,i,e,n),Ne(s,130),s.end()}function Fbe(e,t){e.l+=10;var r=ys(e);return{name:r}}var Lbe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function $be(e){return!e.Workbook||!e.Workbook.WBProps?"false":vxe(e.Workbook.WBProps.date1904)?"true":"false"}var Ube="][*?/\\".split("");function yz(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Ube.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Bbe(e,t,r){e.forEach(function(n,s){yz(n);for(var a=0;a<s;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var i=t&&t[s]&&t[s].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function Wbe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Bbe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)uwe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function _z(e){var t=[jn];t[t.length]=ze("workbook",null,{xmlns:cp[0],"xmlns:r":zn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Lbe.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ze("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var i={name:_r(e.SheetNames[a].slice(0,31))};if(i.sheetId=""+(a+1),i["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}t[t.length]=ze("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=ze("definedName",_r(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Vbe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=CC(e),r.name=ys(e),r}function zbe(e,t){return t||(t=xe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),vA(e.strRelID,t),Yn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Hbe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?ys(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Ybe(e,t){t||(t=xe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),OV(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Gbe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),a=$xe(e),i=swe(e,0,r),l=pA(e);e.l=n;var c={Name:a,Ptg:i};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function qbe(e,t){Ne(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ne(e,156,zbe(s))}Ne(e,144)}function Kbe(e,t){t||(t=xe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Yn("SheetJS",t),Yn(w_.version,t),Yn(w_.version,t),Yn("7262",t),t.length>t.l?t.slice(0,t.l):t}function Xbe(e,t){t||(t=xe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Qbe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&a==-1&&(a=n);a>s||(Ne(e,135),Ne(e,158,Xbe(s)),Ne(e,136))}}function Zbe(e,t){var r=ia();return Ne(r,131),Ne(r,128,Kbe()),Ne(r,153,Ybe(e.Workbook&&e.Workbook.WBProps||null)),Qbe(r,e),qbe(r,e),Ne(r,132),r.end()}function Jbe(e,t,r){return(t.slice(-4)===".bin"?Zbe:_z)(e)}function eSe(e,t,r,n,s){return(t.slice(-4)===".bin"?Mbe:gz)(e,r,n,s)}function tSe(e,t,r){return(t.slice(-4)===".bin"?yye:rz)(e,r)}function rSe(e,t,r){return(t.slice(-4)===".bin"?Y1e:ZV)(e,r)}function nSe(e,t,r){return(t.slice(-4)===".bin"?Iye:oz)(e)}function sSe(e){return(e.slice(-4)===".bin"?Nye:az)()}function aSe(e,t){var r=[];return e.Props&&r.push(t1e(e.Props,t)),e.Custprops&&r.push(r1e(e.Props,e.Custprops)),r.join("")}function iSe(){return""}function oSe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var a=[];a.push(ze("NumberFormat",null,{"ss:Format":_r(un[n.numFmtId])}));var i={"ss:ID":"s"+(21+s)};r.push(ze("Style",a.join(""),i))}),ze("Styles",r.join(""))}function wz(e){return ze("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+_A(e.Ref,{r:0,c:0})})}function lSe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(wz(s)))}return ze("Names",r.join(""))}function cSe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,a=[],i=0;i<s.length;++i){var l=s[i];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||a.push(wz(l)))}return a.join("")}function uSe(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(ze("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(ze("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(ze("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(ze("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(rs("ProtectContents","True")),e["!protect"].objects&&s.push(rs("ProtectObjects","True")),e["!protect"].scenarios&&s.push(rs("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(rs("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(rs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){e["!protect"][i[0]]&&s.push("<"+i[1]+"/>")})),s.length==0?"":ze("WorksheetOptions",s.join(""),{xmlns:ba.x})}function dSe(e){return e.map(function(t){var r=pxe(t.t||""),n=ze("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ze("Comment",n,{"ss:Author":t.a})}).join("")}function fSe(e,t,r,n,s,a,i){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+_r(_A(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var c=Hn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==i.r?"":"["+(c.r-i.r)+"]")+"C"+(c.c==i.c?"":"["+(c.c-i.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=_r(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=_r(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=i.c||u[d].s.r!=i.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Hg[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||un[14]);break;case"s":f="String",h=mxe(e.v||"");break}var p=Vu(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=i.c+1;var x=e.v!=null?h:"",m=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(m+=dSe(e.c)),ze("Cell",m,l)}function hSe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=tz(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function mSe(e,t,r,n){if(!e["!ref"])return"";var s=zr(e["!ref"]),a=e["!merges"]||[],i=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,_){xA(g);var y=!!g.width,S=kb(_,g),E={"ss:Index":_+1};y&&(E["ss:Width"]=A_(S.width)),g.hidden&&(E["ss:Hidden"]="1"),l.push(ze("Column",null,E))});for(var c=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var d=[hSe(u,(e["!rows"]||[])[u])],f=s.s.c;f<=s.e.c;++f){var h=!1;for(i=0;i!=a.length;++i)if(!(a[i].s.c>f)&&!(a[i].s.r>u)&&!(a[i].e.c<f)&&!(a[i].e.r<u)){(a[i].s.c!=f||a[i].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},x=br(p),m=c?(e[u]||[])[f]:e[x];d.push(fSe(m,x,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function pSe(e,t,r){var n=[],s=r.SheetNames[e],a=r.Sheets[s],i=a?cSe(a,t,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=a?mSe(a,t,e,r):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(uSe(a,t,e,r)),n.join("")}function vSe(e,t){t||(t={}),e.SSF||(e.SSF=fa(un)),e.SSF&&(Sb(),bb(e.SSF),t.revssf=Eb(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Vu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(aSe(e,t)),r.push(iSe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ze("Worksheet",pSe(n,t,e),{"ss:Name":_r(e.SheetNames[n])}));return r[2]=oSe(e,t),r[3]=lSe(e),jn+ze("Workbook",r.join(""),{xmlns:ba.ss,"xmlns:o":ba.o,"xmlns:x":ba.x,"xmlns:ss":ba.ss,"xmlns:dt":ba.dt,"xmlns:html":ba.html})}var XE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function gSe(e,t){var r=[],n=[],s=[],a=0,i,l=d4(E4,"n"),c=d4(T4,"n");if(e.Props)for(i=os(e.Props),a=0;a<i.length;++a)(Object.prototype.hasOwnProperty.call(l,i[a])?r:Object.prototype.hasOwnProperty.call(c,i[a])?n:s).push([i[a],e.Props[i[a]]]);if(e.Custprops)for(i=os(e.Custprops),a=0;a<i.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},i[a])||(Object.prototype.hasOwnProperty.call(l,i[a])?r:Object.prototype.hasOwnProperty.call(c,i[a])?n:s).push([i[a],e.Custprops[i[a]]]);var u=[];for(a=0;a<s.length;++a)HV.indexOf(s[a][0])>-1||WV.indexOf(s[a][0])>-1||s[a][1]!=null&&u.push(s[a]);n.length&&Cr.utils.cfb_add(t,"/SummaryInformation",A4(n,XE.SI,c,T4)),(r.length||u.length)&&Cr.utils.cfb_add(t,"/DocumentSummaryInformation",A4(r,XE.DSI,l,E4,u.length?u:null,XE.UDI))}function xSe(e,t){var r=t||{},n=Cr.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Cr.utils.cfb_add(n,s,bz(e,r)),r.biff==8&&(e.Props||e.Custprops)&&gSe(e,n),r.biff==8&&e.vbaraw&&Mye(n,Cr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var ySe={0:{f:bwe},1:{f:Awe},2:{f:Xwe},3:{f:Lwe},4:{f:Rwe},5:{f:Ywe},6:{f:tbe},7:{f:Wwe},8:{f:lbe},9:{f:obe},10:{f:abe},11:{f:ibe},12:{f:Owe},13:{f:Zwe},14:{f:Uwe},15:{f:Mwe},16:{f:qwe},17:{f:nbe},18:{f:zwe},19:{f:mA},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Gbe},40:{},42:{},43:{f:tye},44:{f:J1e},45:{f:sye},46:{f:iye},47:{f:aye},48:{},49:{f:Oxe},50:{},51:{f:bye},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:D1e},62:{f:ebe},63:{f:kye},64:{f:Ebe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Lo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:_be},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:kwe},148:{f:Twe,p:16},151:{f:mbe},152:{},153:{f:Hbe},154:{},155:{},156:{f:Vbe},157:{},158:{},159:{T:1,f:V1e},160:{T:-1},161:{T:1,f:Pf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:cbe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_ye},336:{T:-1},337:{f:Tye,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:CC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:N1e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:pbe},427:{f:vbe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:xbe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Nwe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:fbe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:CC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Dye},633:{T:1},634:{T:-1},635:{T:1,f:Pye},636:{T:-1},637:{f:Mxe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Fbe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Tbe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function He(e,t,r,n){var s=t;if(!isNaN(s)){var a=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,s),i.write_shift(2,a),a>0&&dA(r)&&e.push(r)}}function _Se(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return He(e,t,r,s);var a=t;if(!isNaN(a)){for(var i=r.parts||[],l=0,c=0,u=0;u+(i[l]||8224)<=8224;)u+=i[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,a),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<s;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(i[l]||8224)<=8224;)u+=i[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Gg(e,t,r){return e||(e=xe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function wSe(e,t,r,n){var s=xe(9);return Gg(s,e,t),GV(r,n||"b",s),s}function bSe(e,t,r){var n=xe(8+2*r.length);return Gg(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function SSe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?da(Ls(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?He(e,2,F1e(r,n,s)):He(e,3,M1e(r,n,s));return;case"b":case"e":He(e,5,wSe(r,n,t.v,t.t));return;case"s":case"str":He(e,4,bSe(r,n,(t.v||"").slice(0,255)));return}He(e,1,Gg(null,r,n))}function ESe(e,t,r,n){var s=Array.isArray(t),a=zr(t["!ref"]||"A1"),i,l="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),i=kn(a)}for(var u=a.s.r;u<=a.e.r;++u){l=ss(u);for(var d=a.s.c;d<=a.e.c;++d){u===a.s.r&&(c[d]=xs(d)),i=c[d]+l;var f=s?(t[u]||[])[d]:t[i];f&&SSe(e,f,u,d)}}}function TSe(e,t){for(var r=t||{},n=ia(),s=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(s=a);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return He(n,r.biff==4?1033:r.biff==3?521:9,gA(e,16,r)),ESe(n,e.Sheets[e.SheetNames[s]],s,r),He(n,10),n.end()}function CSe(e,t,r){He(e,49,y1e({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function NSe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&He(e,1054,b1e(s,t[s],r))})}function kSe(e,t){var r=xe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),He(e,2151,r),r=xe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),XV(zr(t["!ref"]||"A1"),r),r.write_shift(4,4),He(e,2152,r)}function jSe(e,t){for(var r=0;r<16;++r)He(e,224,O4({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){He(e,224,O4(n,0,t))})}function ASe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];He(e,440,A1e(n)),n[1].Tooltip&&He(e,2048,P1e(n))}delete t["!links"]}function PSe(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&He(e,125,R1e(kb(s,n),s))})}}function OSe(e,t,r,n,s){var a=16+Vu(s.cellXfs,t,s);if(t.v==null&&!t.bf){He(e,513,af(r,n,a));return}if(t.bf)He(e,6,rwe(t,r,n,s,a));else switch(t.t){case"d":case"n":var i=t.t=="d"?da(Ls(t.v)):t.v;He(e,515,C1e(r,n,i,a));break;case"b":case"e":He(e,517,T1e(r,n,t.v,a,s,t.t));break;case"s":case"str":if(s.bookSST){var l=bA(s.Strings,t.v,s.revStrings);He(e,253,_1e(r,n,l,a))}else He(e,516,w1e(r,n,(t.v||"").slice(0,255),a,s));break;default:He(e,513,af(r,n,a))}}function DSe(e,t,r){var n=ia(),s=r.SheetNames[e],a=r.Sheets[s]||{},i=(r||{}).Workbook||{},l=(i.Sheets||[])[e]||{},c=Array.isArray(a),u=t.biff==8,d,f="",h=[],p=zr(a["!ref"]||"A1"),x=u?65536:16384;if(p.e.c>255||p.e.r>=x){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,x-1)}He(n,2057,gA(r,16,t)),He(n,13,qa(1)),He(n,12,qa(100)),He(n,15,Ps(!0)),He(n,17,Ps(!1)),He(n,16,sf(.001)),He(n,95,Ps(!0)),He(n,42,Ps(!1)),He(n,43,Ps(!1)),He(n,130,qa(1)),He(n,128,E1e()),He(n,131,Ps(!1)),He(n,132,Ps(!1)),u&&PSe(n,a["!cols"]),He(n,512,S1e(p,t)),u&&(a["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){f=ss(m);for(var g=p.s.c;g<=p.e.c;++g){m===p.s.r&&(h[g]=xs(g)),d=h[g]+f;var _=c?(a[m]||[])[g]:a[d];_&&(OSe(n,_,m,g,t),u&&_.l&&a["!links"].push([d,_.l]))}}var y=l.CodeName||l.name||s;return u&&He(n,574,x1e((i.Views||[])[0])),u&&(a["!merges"]||[]).length&&He(n,229,j1e(a["!merges"])),u&&ASe(n,a),He(n,442,KV(y)),u&&kSe(n,a),He(n,10),n.end()}function RSe(e,t,r){var n=ia(),s=(e||{}).Workbook||{},a=s.Sheets||[],i=s.WBProps||{},l=r.biff==8,c=r.biff==5;if(He(n,2057,gA(e,5,r)),r.bookType=="xla"&&He(n,135),He(n,225,l?qa(1200):null),He(n,193,a1e(2)),c&&He(n,191),c&&He(n,192),He(n,226),He(n,92,m1e("SheetJS",r)),He(n,66,qa(l?1200:1252)),l&&He(n,353,qa(0)),l&&He(n,448),He(n,317,I1e(e.SheetNames.length)),l&&e.vbaraw&&He(n,211),l&&e.vbaraw){var u=i.CodeName||"ThisWorkbook";He(n,442,KV(u))}He(n,156,qa(17)),He(n,25,Ps(!1)),He(n,18,Ps(!1)),He(n,19,qa(0)),l&&He(n,431,Ps(!1)),l&&He(n,444,qa(0)),He(n,61,g1e()),He(n,64,Ps(!1)),He(n,141,qa(0)),He(n,34,Ps($be(e)=="true")),He(n,14,Ps(!0)),l&&He(n,439,Ps(!1)),He(n,218,qa(0)),CSe(n,e,r),NSe(n,e.SSF,r),jSe(n,r),l&&He(n,352,Ps(!1));var d=n.end(),f=ia();l&&He(f,140,O1e()),l&&r.Strings&&_Se(f,252,v1e(r.Strings)),He(f,10);var h=f.end(),p=ia(),x=0,m=0;for(m=0;m<e.SheetNames.length;++m)x+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var g=d.length+x+h.length;for(m=0;m<e.SheetNames.length;++m){var _=a[m]||{};He(p,133,p1e({pos:g,hs:_.Hidden||0,dt:0,name:e.SheetNames[m]},r)),g+=t[m].length}var y=p.end();if(x!=y.length)throw new Error("BS8 "+x+" != "+y.length);var S=[];return d.length&&S.push(d),y.length&&S.push(y),h.length&&S.push(h),ts(S)}function ISe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=fa(un)),e&&e.SSF&&(Sb(),bb(e.SSF),r.revssf=Eb(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,SA(r),r.cellXfs=[],Vu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=DSe(s,r,e);return n.unshift(RSe(e,n,r)),ts(n)}function bz(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=Oa(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return ISe(e,t);case 4:case 3:case 2:return TSe(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function MSe(e,t,r,n){for(var s=e["!merges"]||[],a=[],i=t.s.c;i<=t.e.c;++i){for(var l=0,c=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>i)&&!(s[u].e.r<r||s[u].e.c<i)){if(s[u].s.r<r||s[u].s.c<i){l=-1;break}l=s[u].e.r-s[u].s.r+1,c=s[u].e.c-s[u].s.c+1;break}if(!(l<0)){var d=br({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||hxe(f.w||(Gl(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,a.push(ze("td",h,p))}}var x="<tr>";return x+a.join("")+"</tr>"}var FSe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',LSe="</body></html>";function $Se(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Sz(e,t){var r=t||{},n=r.header!=null?r.header:FSe,s=r.footer!=null?r.footer:LSe,a=[n],i=Oa(e["!ref"]);r.dense=Array.isArray(e),a.push($Se(e,i,r));for(var l=i.s.r;l<=i.e.r;++l)a.push(MSe(e,i,l,r));return a.push("</table>"+s),a.join("")}function Ez(e,t,r){var n=r||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var i=typeof n.origin=="string"?Hn(n.origin):n.origin;s=i.r,a=i.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:s,c:a}};if(e["!ref"]){var d=Oa(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),s==-1&&(u.e.r=s=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),x=0,m=0,g=0,_=0,y=0,S=0;for(e["!cols"]||(e["!cols"]=[]);x<l.length&&m<c;++x){var E=l[x];if($4(E)){if(n.display)continue;p[m]={hidden:!0}}var C=E.children;for(g=_=0;g<C.length;++g){var P=C[g];if(!(n.display&&$4(P))){var N=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):gxe(P.innerHTML),A=P.getAttribute("data-z")||P.getAttribute("z");for(h=0;h<f.length;++h){var j=f[h];j.s.c==_+a&&j.s.r<m+s&&m+s<=j.e.r&&(_=j.e.c+1-a,h=-1)}S=+P.getAttribute("colspan")||1,((y=+P.getAttribute("rowspan")||1)>1||S>1)&&f.push({s:{r:m+s,c:_+a},e:{r:m+s+(y||1)-1,c:_+a+(S||1)-1}});var O={t:"s",v:N},W=P.getAttribute("data-t")||P.getAttribute("t")||"";N!=null&&(N.length==0?O.t=W||"z":n.raw||N.trim().length==0||W=="s"||(N==="TRUE"?O={t:"b",v:!0}:N==="FALSE"?O={t:"b",v:!1}:isNaN(jl(N))?isNaN($v(N).getDate())||(O={t:"d",v:Ls(N)},n.cellDates||(O={t:"n",v:da(O.v)}),O.z=n.dateNF||un[14]):O={t:"n",v:jl(N)})),O.z===void 0&&A!=null&&(O.z=A);var z="",Y=P.getElementsByTagName("A");if(Y&&Y.length)for(var J=0;J<Y.length&&!(Y[J].hasAttribute("href")&&(z=Y[J].getAttribute("href"),z.charAt(0)!="#"));++J);z&&z.charAt(0)!="#"&&(O.l={Target:z}),n.dense?(e[m+s]||(e[m+s]=[]),e[m+s][_+a]=O):e[br({c:_+a,r:m+s})]=O,u.e.c<_+a&&(u.e.c=_+a),_+=S}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+s),e["!ref"]=kn(u),m>=c&&(e["!fullref"]=kn((u.e.r=l.length-x+m-1+s,u))),e}function Tz(e,t){var r=t||{},n=r.dense?[]:{};return Ez(n,e,t)}function USe(e,t){return Nf(Tz(e,t),t)}function $4(e){var t="",r=BSe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function BSe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var WSe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Bv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return jn+t}}(),U4=function(){var e=function(a){return _r(a).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,i,l){var c=[];c.push('      <table:table table:name="'+_r(i.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=Oa(a["!ref"]||"A1"),h=a["!merges"]||[],p=0,x=Array.isArray(a);if(a["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(a["!cols"][d]?' table:style-name="co'+a["!cols"][d].ods+'"':"")+`></table:table-column>
`);var m="",g=a["!rows"]||[];for(u=0;u<f.s.r;++u)m=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=f.e.r;++u){for(m=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+m+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var _=!1,y={},S="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(_=!0),y["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,y["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(_){c.push(r);continue}var E=br({r:u,c:d}),C=x?(a[u]||[])[d]:a[E];if(C&&C.f&&(y["table:formula"]=_r(lwe(C.f)),C.F&&C.F.slice(0,E.length)==E)){var P=Oa(C.F);y["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,y["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!C){c.push(t);continue}switch(C.t){case"b":S=C.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=C.v?"true":"false";break;case"n":S=C.w||String(C.v||0),y["office:value-type"]="float",y["office:value"]=C.v||0;break;case"s":case"str":S=C.v==null?"":C.v,y["office:value-type"]="string";break;case"d":S=C.w||Ls(C.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Ls(C.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var N=e(S);if(C.l&&C.l.Target){var A=C.l.Target;A=A.charAt(0)=="#"?"#"+cwe(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),N=ze("text:a",N,{"xlink:href":A.replace(/&/g,"&amp;")})}c.push("          "+ze("table:table-cell",ze("text:p",N,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(a,i){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;xA(f),f.ods=l;var h=u["!cols"][d].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),a.push(`  </style:style>
`),++l}}});var c=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(i,l){var c=[jn],u=Bv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Bv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(UV().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),s(c,i),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=i.SheetNames.length;++f)c.push(n(i.Sheets[i.SheetNames[f]],i,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function Cz(e,t){if(t.bookType=="fods")return U4(e,t);var r=oA(),n="",s=[],a=[];return n="mimetype",Lt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Lt(r,n,U4(e,t)),s.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Lt(r,n,WSe(e,t)),s.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Lt(r,n,jn+UV()),s.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Lt(r,n,e1e(a)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Lt(r,n,Zxe(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function D_(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function VSe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ii(Uv(e))}function zSe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Eu(e){var t=e.reduce(function(s,a){return s+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function HSe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;s>=1;++a,s/=256)e[t+a]=s&255;e[t+15]|=r>=0?0:128}function Wv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function gr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Wh(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function On(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=Wv(e,r),a=s&7;s=Math.floor(s/8);var i=0,l;if(s==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:i=4,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=Wv(e,r),l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var u={data:l,type:a};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function Xn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push(gr(n*8+s.type)),s.type==2&&t.push(gr(s.data.length)),t.push(s.data))})}),Eu(t)}function Si(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=Wv(e,n),a=On(e.slice(n[0],n[0]+s));n[0]+=s;var i={id:Wh(a[1][0].data),messages:[]};a[2].forEach(function(l){var c=On(l.data),u=Wh(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(i.merge=Wh(a[3][0].data)>>>0>0),r.push(i)}return r}function Qf(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:gr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:gr(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(i){s.push(i.data),i.meta[3]=[{type:0,data:gr(i.data.length)}],n[2].push({data:Xn(i.meta),type:2})});var a=Xn(n);t.push(gr(a.length)),t.push(a),s.forEach(function(i){return t.push(i)})}),Eu(t)}function YSe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Wv(t,r),s=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var l=i-59;i=t[r[0]],l>1&&(i|=t[r[0]+1]<<8),l>2&&(i|=t[r[0]+2]<<16),l>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=l}s.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Eu(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(s.push(s[0].slice(-c)),u-=c;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-c,-c+u))}}var d=Eu(s);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Ei(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(YSe(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Eu(t)}function Zf(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var a=gr(n),i=a.length;t.push(a),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,s[0]=0,s[1]=i&255,s[2]=i>>8&255,s[3]=i>>16&255,r+=n}return Eu(t)}function QE(e,t){var r=new Uint8Array(32),n=D_(r),s=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,HSe(r,s,e.v),a|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),a|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,s)}function ZE(e,t){var r=new Uint8Array(32),n=D_(r),s=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),a|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),a|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,s)}function _c(e){var t=On(e);return Wv(t[1][0].data)}function GSe(e,t,r){var n,s,a,i;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var l=((i=(a=e[8])==null?void 0:a[0])==null?void 0:i.data)&&Wh(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=D_(e[7][0].data),d=0,f=[],h=D_(e[4][0].data),p=0,x=[],m=0;m<t.length;++m){if(t[m]==null){u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}u.setUint16(m*2,d,!0),h.setUint16(m*2,p,!0);var g,_;switch(typeof t[m]){case"string":g=QE({t:"s",v:t[m]},r),_=ZE({t:"s",v:t[m]},r);break;case"number":g=QE({t:"n",v:t[m]},r),_=ZE({t:"n",v:t[m]},r);break;case"boolean":g=QE({t:"b",v:t[m]},r),_=ZE({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}f.push(g),d+=g.length,x.push(_),p+=_.length,++c}for(e[2][0].data=gr(c);m<e[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return e[6][0].data=Eu(f),e[3][0].data=Eu(x),c}function qSe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Oa(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(kn(n)));var a=R_(r,{range:n,header:1}),i=["~Sh33tJ5~"];a.forEach(function(F){return F.forEach(function(L){typeof L=="string"&&i.push(L)})});var l={},c=[],u=Cr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(F,L){return[F,u.FullPaths[L]]}).forEach(function(F){var L=F[0],I=F[1];if(L.type==2&&L.name.match(/\.iwa/)){var U=L.content,X=Ei(U),de=Si(X);de.forEach(function(ye){c.push(ye.id),l[ye.id]={deps:[],location:I,type:Wh(ye.messages[0].meta[1][0].data)}})}}),c.sort(function(F,L){return F-L});var d=c.filter(function(F){return F>1}).map(function(F){return[F,gr(F)]});u.FileIndex.map(function(F,L){return[F,u.FullPaths[L]]}).forEach(function(F){var L=F[0];if(F[1],!!L.name.match(/\.iwa/)){var I=Si(Ei(L.content));I.forEach(function(U){U.messages.forEach(function(X){d.forEach(function(de){U.messages.some(function(ye){return Wh(ye.meta[1][0].data)!=11006&&zSe(ye.data,de[1])})&&l[de[0]].deps.push(U.id)})})})}});for(var f=Cr.find(u,l[1].location),h=Si(Ei(f.content)),p,x=0;x<h.length;++x){var m=h[x];m.id==1&&(p=m)}var g=_c(On(p.messages[0].data)[1][0].data);for(f=Cr.find(u,l[g].location),h=Si(Ei(f.content)),x=0;x<h.length;++x)m=h[x],m.id==g&&(p=m);for(g=_c(On(p.messages[0].data)[2][0].data),f=Cr.find(u,l[g].location),h=Si(Ei(f.content)),x=0;x<h.length;++x)m=h[x],m.id==g&&(p=m);for(g=_c(On(p.messages[0].data)[2][0].data),f=Cr.find(u,l[g].location),h=Si(Ei(f.content)),x=0;x<h.length;++x)m=h[x],m.id==g&&(p=m);var _=On(p.messages[0].data);{_[6][0].data=gr(n.e.r+1),_[7][0].data=gr(n.e.c+1);var y=_c(_[46][0].data),S=Cr.find(u,l[y].location),E=Si(Ei(S.content));{for(var C=0;C<E.length&&E[C].id!=y;++C);if(E[C].id!=y)throw"Bad ColumnRowUIDMapArchive";var P=On(E[C].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var N=0;N<=n.e.c;++N){var A=[];A[1]=A[2]=[{type:0,data:gr(N+420690)}],P[1].push({type:2,data:Xn(A)}),P[2].push({type:0,data:gr(N)}),P[3].push({type:0,data:gr(N)})}P[4]=[],P[5]=[],P[6]=[];for(var j=0;j<=n.e.r;++j)A=[],A[1]=A[2]=[{type:0,data:gr(j+726270)}],P[4].push({type:2,data:Xn(A)}),P[5].push({type:0,data:gr(j)}),P[6].push({type:0,data:gr(j)});E[C].messages[0].data=Xn(P)}S.content=Zf(Qf(E)),S.size=S.content.length,delete _[46];var O=On(_[4][0].data);{O[7][0].data=gr(n.e.r+1);var W=On(O[1][0].data),z=_c(W[2][0].data);S=Cr.find(u,l[z].location),E=Si(Ei(S.content));{if(E[0].id!=z)throw"Bad HeaderStorageBucket";var Y=On(E[0].messages[0].data);for(j=0;j<a.length;++j){var J=On(Y[2][0].data);J[1][0].data=gr(j),J[4][0].data=gr(a[j].length),Y[2][j]={type:Y[2][0].type,data:Xn(J)}}E[0].messages[0].data=Xn(Y)}S.content=Zf(Qf(E)),S.size=S.content.length;var ie=_c(O[2][0].data);S=Cr.find(u,l[ie].location),E=Si(Ei(S.content));{if(E[0].id!=ie)throw"Bad HeaderStorageBucket";for(Y=On(E[0].messages[0].data),N=0;N<=n.e.c;++N)J=On(Y[2][0].data),J[1][0].data=gr(N),J[4][0].data=gr(n.e.r+1),Y[2][N]={type:Y[2][0].type,data:Xn(J)};E[0].messages[0].data=Xn(Y)}S.content=Zf(Qf(E)),S.size=S.content.length;var oe=_c(O[4][0].data);(function(){for(var F=Cr.find(u,l[oe].location),L=Si(Ei(F.content)),I,U=0;U<L.length;++U){var X=L[U];X.id==oe&&(I=X)}var de=On(I.messages[0].data);{de[3]=[];var ye=[];i.forEach(function(We,mt){ye[1]=[{type:0,data:gr(mt)}],ye[2]=[{type:0,data:gr(1)}],ye[3]=[{type:2,data:VSe(We)}],de[3].push({type:2,data:Xn(ye)})})}I.messages[0].data=Xn(de);var me=Qf(L),Ue=Zf(me);F.content=Ue,F.size=F.content.length})();var re=On(O[3][0].data);{var Z=re[1][0];delete re[2];var ae=On(Z.data);{var ge=_c(ae[2][0].data);(function(){for(var F=Cr.find(u,l[ge].location),L=Si(Ei(F.content)),I,U=0;U<L.length;++U){var X=L[U];X.id==ge&&(I=X)}var de=On(I.messages[0].data);{delete de[6],delete re[7];var ye=new Uint8Array(de[5][0].data);de[5]=[];for(var me=0,Ue=0;Ue<=n.e.r;++Ue){var We=On(ye);me+=GSe(We,a[Ue],i),We[1][0].data=gr(Ue),de[5].push({data:Xn(We),type:2})}de[1]=[{type:0,data:gr(n.e.c+1)}],de[2]=[{type:0,data:gr(n.e.r+1)}],de[3]=[{type:0,data:gr(me)}],de[4]=[{type:0,data:gr(n.e.r+1)}]}I.messages[0].data=Xn(de);var mt=Qf(L),lt=Zf(mt);F.content=lt,F.size=F.content.length})()}Z.data=Xn(ae)}O[3][0].data=Xn(re)}_[4][0].data=Xn(O)}p.messages[0].data=Xn(_);var se=Qf(h),R=Zf(se);return f.content=R,f.size=f.content.length,u}function KSe(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function SA(e){KSe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function XSe(e,t){return t.bookType=="ods"?Cz(e,t):t.bookType=="numbers"?qSe(e,t):t.bookType=="xlsb"?QSe(e,t):ZSe(e,t)}function QSe(e,t){bh=1024,e&&!e.SSF&&(e.SSF=fa(un)),e&&e.SSF&&(Sb(),bb(e.SSF),t.revssf=Eb(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,V0?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=lz.indexOf(t.bookType)>-1,s=FV();SA(t=t||{});var a=oA(),i="",l=0;if(t.cellXfs=[],Vu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",Lt(a,i,BV(e.Props,t)),s.coreprops.push(i),yr(t.rels,2,i,ar.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Lt(a,i,VV(e.Props)),s.extprops.push(i),yr(t.rels,3,i,ar.EXT_PROPS),e.Custprops!==e.Props&&os(e.Custprops||{}).length>0&&(i="docProps/custom.xml",Lt(a,i,zV(e.Custprops)),s.custprops.push(i),yr(t.rels,4,i,ar.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:i="xl/worksheets/sheet"+l+"."+r,Lt(a,i,eSe(l-1,i,t,e,d)),s.sheets.push(i),yr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ar.WS[0])}if(f){var p=f["!comments"],x=!1,m="";p&&p.length>0&&(m="xl/comments"+l+"."+r,Lt(a,m,nSe(p,m)),s.comments.push(m),yr(d,-1,"../comments"+l+"."+r,ar.CMNT),x=!0),f["!legacy"]&&x&&Lt(a,"xl/drawings/vmlDrawing"+l+".vml",iz(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Lt(a,$V(i),Uh(d))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,Lt(a,i,rSe(t.Strings,i,t)),s.strs.push(i),yr(t.wbrels,-1,"sharedStrings."+r,ar.SST)),i="xl/workbook."+r,Lt(a,i,Jbe(e,i)),s.workbooks.push(i),yr(t.rels,1,i,ar.WB),i="xl/theme/theme1.xml",Lt(a,i,sz(e.Themes,t)),s.themes.push(i),yr(t.wbrels,-1,"theme/theme1.xml",ar.THEME),i="xl/styles."+r,Lt(a,i,tSe(e,i,t)),s.styles.push(i),yr(t.wbrels,-1,"styles."+r,ar.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",Lt(a,i,e.vbaraw),s.vba.push(i),yr(t.wbrels,-1,"vbaProject.bin",ar.VBA)),i="xl/metadata."+r,Lt(a,i,sSe(i)),s.metadata.push(i),yr(t.wbrels,-1,"metadata."+r,ar.XLMETA),Lt(a,"[Content_Types].xml",LV(s,t)),Lt(a,"_rels/.rels",Uh(t.rels)),Lt(a,"xl/_rels/workbook."+r+".rels",Uh(t.wbrels)),delete t.revssf,delete t.ssf,a}function ZSe(e,t){bh=1024,e&&!e.SSF&&(e.SSF=fa(un)),e&&e.SSF&&(Sb(),bb(e.SSF),t.revssf=Eb(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,V0?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=lz.indexOf(t.bookType)>-1,s=FV();SA(t=t||{});var a=oA(),i="",l=0;if(t.cellXfs=[],Vu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",Lt(a,i,BV(e.Props,t)),s.coreprops.push(i),yr(t.rels,2,i,ar.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Lt(a,i,VV(e.Props)),s.extprops.push(i),yr(t.rels,3,i,ar.EXT_PROPS),e.Custprops!==e.Props&&os(e.Custprops||{}).length>0&&(i="docProps/custom.xml",Lt(a,i,zV(e.Custprops)),s.custprops.push(i),yr(t.rels,4,i,ar.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:i="xl/worksheets/sheet"+l+"."+r,Lt(a,i,gz(l-1,t,e,f)),s.sheets.push(i),yr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ar.WS[0])}if(h){var x=h["!comments"],m=!1,g="";if(x&&x.length>0){var _=!1;x.forEach(function(y){y[1].forEach(function(S){S.T==!0&&(_=!0)})}),_&&(g="xl/threadedComments/threadedComment"+l+"."+r,Lt(a,g,jye(x,d,t)),s.threadedcomments.push(g),yr(f,-1,"../threadedComments/threadedComment"+l+"."+r,ar.TCMNT)),g="xl/comments"+l+"."+r,Lt(a,g,oz(x)),s.comments.push(g),yr(f,-1,"../comments"+l+"."+r,ar.CMNT),m=!0}h["!legacy"]&&m&&Lt(a,"xl/drawings/vmlDrawing"+l+".vml",iz(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Lt(a,$V(i),Uh(f))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,Lt(a,i,ZV(t.Strings,t)),s.strs.push(i),yr(t.wbrels,-1,"sharedStrings."+r,ar.SST)),i="xl/workbook."+r,Lt(a,i,_z(e)),s.workbooks.push(i),yr(t.rels,1,i,ar.WB),i="xl/theme/theme1.xml",Lt(a,i,sz(e.Themes,t)),s.themes.push(i),yr(t.wbrels,-1,"theme/theme1.xml",ar.THEME),i="xl/styles."+r,Lt(a,i,rz(e,t)),s.styles.push(i),yr(t.wbrels,-1,"styles."+r,ar.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",Lt(a,i,e.vbaraw),s.vba.push(i),yr(t.wbrels,-1,"vbaProject.bin",ar.VBA)),i="xl/metadata."+r,Lt(a,i,az()),s.metadata.push(i),yr(t.wbrels,-1,"metadata."+r,ar.XLMETA),d.length>1&&(i="xl/persons/person.xml",Lt(a,i,Aye(d)),s.people.push(i),yr(t.wbrels,-1,"persons/person.xml",ar.PEOPLE)),Lt(a,"[Content_Types].xml",LV(s,t)),Lt(a,"_rels/.rels",Uh(t.rels)),Lt(a,"xl/_rels/workbook."+r+".rels",Uh(t.wbrels)),delete t.revssf,delete t.ssf,a}function JSe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Yl(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Nz(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Vg(t.file,Cr.write(e,{type:ur?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Cr.write(e,t)}function eEe(e,t){var r=fa(t||{}),n=XSe(e,r);return tEe(n,r)}function tEe(e,t){var r={},n=ur?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?Cr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(wb(s))}return t.password&&typeof encrypt_agile<"u"?Nz(encrypt_agile(s,t.password),t):t.type==="file"?Vg(t.file,s):t.type=="string"?$0(s):s}function rEe(e,t){var r=t||{},n=xSe(e,r);return Nz(n,r)}function uo(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Lv(Uv(n));case"binary":return Uv(n);case"string":return e;case"file":return Vg(t.file,n,"utf8");case"buffer":return ur?ic(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):uo(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function nEe(e,t){switch(t.type){case"base64":return Lv(e);case"binary":return e;case"string":return e;case"file":return Vg(t.file,e,"binary");case"buffer":return ur?ic(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function p1(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Lv(r):t.type=="string"?$0(r):r;case"file":return Vg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function kz(e,t){Pge(),Wbe(e);var r=fa(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=kz(e,r);return r.type="array",wb(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return uo(vSe(e,r),r);case"slk":case"sylk":return uo($1e.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return uo(Sz(e.Sheets[e.SheetNames[s]],r),r);case"txt":return nEe(jz(e.Sheets[e.SheetNames[s]],r),r);case"csv":return uo(EA(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return uo(U1e.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return p1(L1e.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return uo(B1e.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return uo(q1e.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return uo(QV.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return uo(Cz(e,r),r);case"wk1":return p1(D4.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return p1(D4.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),p1(bz(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),rEe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return eEe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function sEe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function aEe(e,t,r){var n={};return n.type="file",n.file=t,sEe(n),kz(e,n)}function iEe(e,t,r,n,s,a,i,l){var c=ss(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var p=t.s.c;p<=t.e.c;++p){var x=i?e[r][p]:e[n[p]+c];if(x===void 0||x.t===void 0){if(u===void 0)continue;a[p]!=null&&(h[a[p]]=u);continue}var m=x.v;switch(x.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(a[p]!=null){if(m==null)if(x.t=="e"&&m===null)h[a[p]]=null;else if(u!==void 0)h[a[p]]=u;else if(d&&m===null)h[a[p]]=null;else continue;else h[a[p]]=d&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?m:Gl(x,m,l);m!=null&&(f=!1)}}return{row:h,isempty:f}}function R_(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,a=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=zr(d);break;case"number":c=zr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(s=0);var f=ss(c.s.r),h=[],p=[],x=0,m=0,g=Array.isArray(e),_=c.s.r,y=0,S={};g&&!e[_]&&(e[_]=[]);var E=u.skipHidden&&e["!cols"]||[],C=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(E[y]||{}).hidden)switch(h[y]=xs(y),r=g?e[_][y]:e[h[y]+f],n){case 1:a[y]=y-c.s.c;break;case 2:a[y]=h[y];break;case 3:a[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=i=Gl(r,null,u),m=S[i]||0,!m)S[i]=1;else{do l=i+"_"+m++;while(S[l]);S[i]=m,S[l]=1}a[y]=l}for(_=c.s.r+s;_<=c.e.r;++_)if(!(C[_]||{}).hidden){var P=iEe(e,c,_,h,n,a,g,u);(P.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[x++]=P.row)}return p.length=x,p}var B4=/"/g;function oEe(e,t,r,n,s,a,i,l){for(var c=!0,u=[],d="",f=ss(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:Gl(p,null,l));for(var x=0,m=0;x!==d.length;++x)if((m=d.charCodeAt(x))===s||m===a||m===34||l.forceQuotes){d='"'+d.replace(B4,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(B4,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(i)}function EA(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=zr(e["!ref"]),a=n.FS!==void 0?n.FS:",",i=a.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],x=s.s.c;x<=s.e.c;++x)(h[x]||{}).hidden||(f[x]=xs(x));for(var m=0,g=s.s.r;g<=s.e.r;++g)(p[g]||{}).hidden||(d=oEe(e,s,g,f,i,c,a,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?l:"")+d)));return delete n.dense,r.join("")}function jz(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=EA(e,t);return r}function lEe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=zr(e["!ref"]),a="",i=[],l,c=[],u=Array.isArray(e);for(l=s.s.c;l<=s.e.c;++l)i[l]=xs(l);for(var d=s.s.r;d<=s.e.r;++d)for(a=ss(d),l=s.s.c;l<=s.e.c;++l)if(t=i[l]+a,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function Az(e,t,r){var n=r||{},s=+!n.skipHeader,a=e||{},i=0,l=0;if(a&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?Hn(n.origin):n.origin;i=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:i+t.length-1+s}};if(a["!ref"]){var f=zr(a["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+s)}else i==-1&&(i=0,d.e.r=t.length-1+s);var h=n.header||[],p=0;t.forEach(function(m,g){os(m).forEach(function(_){(p=h.indexOf(_))==-1&&(h[p=h.length]=_);var y=m[_],S="z",E="",C=br({c:l+p,r:i+g+s});u=Vv(a,C),y&&typeof y=="object"&&!(y instanceof Date)?a[C]=y:(typeof y=="number"?S="n":typeof y=="boolean"?S="b":typeof y=="string"?S="s":y instanceof Date?(S="d",n.cellDates||(S="n",y=da(y)),E=n.dateNF||un[14]):y===null&&n.nullError&&(S="e",y=0),u?(u.t=S,u.v=y,delete u.w,delete u.R,E&&(u.z=E)):a[C]=u={t:S,v:y},E&&(u.z=E))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var x=ss(i);if(s)for(p=0;p<h.length;++p)a[xs(p+l)+x]={t:"s",v:h[p]};return a["!ref"]=kn(d),a}function cEe(e,t){return Az(null,e,t)}function Vv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Hn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Vv(e,br(t)):Vv(e,br({r:t,c:r||0}))}function uEe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function dEe(){return{SheetNames:[],Sheets:{}}}function fEe(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var i=a&&a[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=i+s)!=-1;++s);}if(yz(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function hEe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=uEe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function mEe(e,t){return e.z=t,e}function Pz(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function pEe(e,t,r){return Pz(e,"#"+t,r)}function vEe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function gEe(e,t,r,n){for(var s=typeof t!="string"?t:zr(t),a=typeof t=="string"?t:kn(t),i=s.s.r;i<=s.e.r;++i)for(var l=s.s.c;l<=s.e.c;++l){var c=Vv(e,i,l);c.t="n",c.F=a,delete c.v,i==s.s.r&&l==s.s.c&&(c.f=r,n&&(c.D=!0))}return e}var JE={encode_col:xs,encode_row:ss,encode_cell:br,encode_range:kn,decode_col:hA,decode_row:fA,split_cell:Pxe,decode_cell:Hn,decode_range:Oa,format_cell:Gl,sheet_add_aoa:PV,sheet_add_json:Az,sheet_add_dom:Ez,aoa_to_sheet:up,json_to_sheet:cEe,table_to_sheet:Tz,table_to_book:USe,sheet_to_csv:EA,sheet_to_txt:jz,sheet_to_json:R_,sheet_to_html:Sz,sheet_to_formulae:lEe,sheet_to_row_object_array:R_,sheet_get_cell:Vv,book_new:dEe,book_append_sheet:fEe,book_set_sheet_visibility:hEe,cell_set_number_format:mEe,cell_set_hyperlink:Pz,cell_set_internal_link:pEe,cell_add_comment:vEe,sheet_set_array_formula:gEe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function xEe(){const e=[["PLANTILLA PARA CARGA MASIVA DE EMPADRONADOS"],[""],["INSTRUCCIONES:"],["1. Complete todos los campos obligatorios marcados con (*)"],["2. Respete exactamente los formatos indicados"],["3. No modifique los nombres de las columnas"],["4. Elimine estas filas de instrucciones antes de subir el archivo"],[""],["FORMATOS ESPECÍFICOS:"],["- Fechas: DD/MM/YYYY (ej: 15/03/1985)"],["- Género: masculino o femenino"],["- Vive: SI o NO"],["- Estado Vivienda: construida, construccion o terreno"],["- Habilitado: SI o NO"],["- Teléfonos: separados por comas (ej: 123456789,987654321)"],["- Vehículos: PLACA:tipo,PLACA:tipo (ej: ABC123:vehiculo,XYZ789:moto)"],["- Miembros Familia: NOMBRE:APELLIDOS:parentezco:cumpleanos|... (ej: Juan:Perez:hijo:15/03/2010|Maria:Perez:hija:20/08/2012)"],[""],["DATOS DE EJEMPLO:"]],t=[{numeroPadron:"P001",nombre:"Juan Carlos",apellidos:"García López",dni:"12345678",familia:"García",manzana:"A",lote:"15",etapa:"1",genero:"masculino",vive:"SI",estadoVivienda:"construida",cumpleanos:"15/03/1980",fechaIngreso:"01/01/2020",habilitado:"SI",telefonos:"987654321,123456789",vehiculos:"ABC123:vehiculo,XYZ789:moto",miembrosFamilia:"María:García:esposa:20/05/1982|Carlos:García:hijo:10/12/2010",observaciones:"Propietario principal"}],r=["numeroPadron (*)","nombre (*)","apellidos (*)","dni (*)","familia (*)","manzana","lote","etapa","genero (*)","vive (*)","estadoVivienda (*)","cumpleanos (*)","fechaIngreso (*)","habilitado (*)","telefonos","vehiculos","miembrosFamilia","observaciones"],n=JE.book_new(),s=[...e,[""],r,...t.map(c=>[c.numeroPadron,c.nombre,c.apellidos,c.dni,c.familia,c.manzana,c.lote,c.etapa,c.genero,c.vive,c.estadoVivienda,c.cumpleanos,c.fechaIngreso,c.habilitado,c.telefonos,c.vehiculos,c.miembrosFamilia,c.observaciones]),[""],[""],["← Complete aquí los nuevos empadronados →"]],a=JE.aoa_to_sheet(s),i=[{wch:15},{wch:20},{wch:25},{wch:12},{wch:15},{wch:10},{wch:8},{wch:8},{wch:12},{wch:8},{wch:15},{wch:12},{wch:12},{wch:12},{wch:20},{wch:25},{wch:40},{wch:25}];a["!cols"]=i,JE.book_append_sheet(n,a,"Empadronados");const l=`template_empadronados_${new Date().toISOString().split("T")[0]}.xlsx`;aEe(n,l)}const yEe=({open:e,onOpenChange:t,empadronado:r,onAccountCreated:n})=>{const{toast:s}=La(),{user:a}=ui(),[i,l]=w.useState([]),[c,u]=w.useState({}),[d,f]=w.useState(!1),[h,p]=w.useState(!1);w.useEffect(()=>{e&&x()},[e,r]);const x=async()=>{f(!0);try{const y=await sb();if(l(y),r!=null&&r.authUid){const S=await nb(r.authUid);u(S||{})}else u({})}catch(y){console.error("Error loading data:",y),s({title:"Error",description:"No se pudieron cargar los datos",variant:"destructive"})}finally{f(!1)}},m=(y,S)=>{u(E=>({...E,[y]:S}))},g=async()=>{if(r!=null&&r.authUid){f(!0);try{await YB(r.authUid,c,(a==null?void 0:a.uid)||"system"),s({title:"Éxito",description:"Permisos actualizados correctamente"}),t(!1)}catch{s({title:"Error",description:"No se pudieron actualizar los permisos",variant:"destructive"})}finally{f(!1)}}},_=async()=>{var y,S,E;if(r){p(!0);try{const C=(y=r.numeroPadron)!=null&&y.trim()?`emp-${r.numeroPadron.trim().toLowerCase()}`:`emp-${r.nombre.toLowerCase().replace(/\s+/g,"-")}`,P=`${C}@jpusap.com`,N=r.dni&&r.dni.length>=6?r.dni:"jpusap2024";await op({displayName:`${r.nombre} ${r.apellidos}`,email:P.trim().toLowerCase(),username:C.trim().toLowerCase(),phone:((E=(S=r.telefonos)==null?void 0:S[0])==null?void 0:E.numero)||"",roleId:"asociado",activo:!0,password:N,empadronadoId:r.id,tipoUsuario:"asociado"}),s({title:"Cuenta creada",description:"Se creó la cuenta. Configurando permisos..."}),n&&n(),setTimeout(async()=>{await x()},1e3)}catch(C){const P=String((C==null?void 0:C.message)||"");let N="No se pudo crear el acceso.";P.includes("email-already-in-use")&&(N="El email ya está registrado."),P.includes("ya está en uso")&&(N=P),s({title:"Error",description:N,variant:"destructive"})}finally{p(!1)}}};return r?o.jsx(fi,{open:e,onOpenChange:t,children:o.jsxs(Ua,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(Ba,{children:[o.jsxs(Wa,{className:"flex items-center gap-2",children:[o.jsx(dm,{className:"h-5 w-5"}),"Gestionar Permisos de Acceso"]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.nombre," ",r.apellidos," - Padrón ",r.numeroPadron]})]}),o.jsxs("div",{className:"space-y-4",children:[r.emailAcceso?o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[o.jsx(be,{className:"text-sm font-medium",children:"Email de Acceso"}),o.jsx("p",{className:"text-green-600 font-medium",children:r.emailAcceso})]}):o.jsx("div",{className:"p-3 bg-destructive/10 rounded-lg",children:o.jsx("p",{className:"text-sm text-destructive",children:"Este usuario no tiene acceso al sistema"})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(be,{className:"text-lg font-semibold",children:"Permisos por Módulo"}),!r.authUid&&!r.emailAcceso&&o.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(PT,{className:"h-4 w-4 text-orange-600"}),o.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Cuenta requerida"})]}),o.jsx("p",{className:"text-sm text-orange-700 mb-3",children:"Para asignar permisos, primero debes crear una cuenta de acceso para este empadronado."}),o.jsx(_e,{size:"sm",onClick:_,disabled:h,className:"bg-orange-600 hover:bg-orange-700",children:h?"Creando cuenta...":"Crear Cuenta de Acceso"})]}),d?o.jsx("div",{className:"space-y-3",children:[...Array(6)].map((y,S)=>o.jsx("div",{className:"h-16 bg-muted/50 rounded-lg animate-pulse"},S))}):o.jsx("div",{className:"space-y-3",children:i.map(y=>{const S=c[y.id]||"none",E=!r.authUid&&!r.emailAcceso;return o.jsxs("div",{className:`border rounded-lg p-4 ${E?"opacity-50":""}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("div",{children:o.jsx("span",{className:"font-medium",children:y.nombre})}),o.jsx(pt,{variant:S==="none"?"outline":S==="read"?"secondary":S==="write"?"default":"destructive",children:S==="none"?"Sin acceso":S==="read"?"Lectura":S==="write"?"Escritura":"Admin"})]}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{value:"none",label:"Sin Acceso",color:"bg-muted hover:bg-muted/80"},{value:"read",label:"Lectura",color:"bg-blue-500 hover:bg-blue-600 text-white"},{value:"write",label:"Escritura",color:"bg-green-500 hover:bg-green-600 text-white"},{value:"admin",label:"Admin",color:"bg-purple-500 hover:bg-purple-600 text-white"}].map(C=>o.jsx("button",{onClick:()=>!E&&m(y.id,C.value),disabled:E,className:`text-sm px-3 py-2 rounded-md border transition-all ${S===C.value&&!E?C.color:"bg-background hover:bg-muted border-border"} ${E?"cursor-not-allowed":"cursor-pointer"}`,children:C.label},C.value))})]},y.id)})})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(_e,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),o.jsx(_e,{onClick:g,disabled:d||!r.authUid,children:d?"Guardando...":"Guardar Permisos"})]})]})]})}):null},_Ee=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]+/g,"-").replace(/^-+|-+$/g,"").toLowerCase(),wEe=e=>{var s;const t=(s=e.numeroPadron)!=null&&s.trim()?`emp-${e.numeroPadron.trim().toLowerCase()}`:`emp-${_Ee(`${e.nombre} ${e.apellidos}`)}`,r=`${t}@jpusap.com`,n=e.dni&&e.dni.length>=6?e.dni:"jpusap2024";return{email:r,username:t,password:n}},bEe=({open:e,onOpenChange:t,empadronado:r,onCreated:n})=>{const{toast:s}=La(),[a,i]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState("jpusap2024"),[f,h]=w.useState("jpusap2024"),[p,x]=w.useState(!1),[m,g]=w.useState(!1),[_,y]=w.useState(!1);w.useEffect(()=>{if(e&&r){const E=wEe(r);i(E.email),c(E.username),d(E.password),h(E.password),x(!1),g(!1)}},[e,r]);const S=async()=>{var E,C;if(r){if(!a.trim()||!l.trim()||!u.trim()||!f.trim()){s({title:"Faltan datos",description:"Completa email, usuario y contraseñas.",variant:"destructive"});return}if(u.length<6){s({title:"Contraseña muy corta",description:"Mínimo 6 caracteres.",variant:"destructive"});return}if(u!==f){s({title:"Las contraseñas no coinciden",description:"Revisa los campos de contraseña.",variant:"destructive"});return}try{y(!0),await op({displayName:`${r.nombre} ${r.apellidos}`,email:a.trim().toLowerCase(),username:l.trim().toLowerCase(),phone:((C=(E=r.telefonos)==null?void 0:E[0])==null?void 0:C.numero)||"",roleId:"asociado",activo:!0,password:u,empadronadoId:r.id,tipoUsuario:"asociado"}),s({title:"Acceso creado",description:"Se creó la cuenta para el asociado."}),t(!1),n()}catch(P){const N=String((P==null?void 0:P.message)||"");let A="No se pudo crear el acceso.";N.includes("email-already-in-use")&&(A="El email ya está registrado."),N.includes("ya está en uso")&&(A=N),s({title:"Error",description:A,variant:"destructive"})}finally{y(!1)}}};return o.jsx(fi,{open:e,onOpenChange:t,children:o.jsxs(Ua,{className:"sm:max-w-md",children:[o.jsxs(Ba,{children:[o.jsx(Wa,{children:"Crear acceso para el asociado"}),o.jsx(Cf,{children:"Genera el usuario del sistema vinculado a este empadronado (rol: asociado)."})]}),r&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-3 bg-accent rounded",children:[o.jsxs("div",{className:"text-sm font-medium",children:[r.nombre," ",r.apellidos]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Padrón ",r.numeroPadron," • DNI ",r.dni]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{children:"Email"}),o.jsx(Ce,{value:a,onChange:E=>i(E.target.value),placeholder:"correo@jpusap.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{children:"Usuario"}),o.jsx(Ce,{value:l,onChange:E=>c(E.target.value),placeholder:"emp-0001"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Usa el padrón para estandarizar (ej: emp-0001)."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{children:"Contraseña temporal"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ce,{className:"pr-10",value:u,onChange:E=>d(E.target.value),type:p?"text":"password",placeholder:"••••••••"}),o.jsx("button",{type:"button",onClick:()=>x(E=>!E),className:"absolute inset-y-0 right-2 flex items-center text-muted-foreground","aria-label":p?"Ocultar contraseña":"Mostrar contraseña",children:p?o.jsx(Dy,{className:"h-4 w-4"}):o.jsx(Wd,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{children:"Confirmar contraseña"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ce,{className:"pr-10",value:f,onChange:E=>h(E.target.value),type:m?"text":"password",placeholder:"••••••••"}),o.jsx("button",{type:"button",onClick:()=>g(E=>!E),className:"absolute inset-y-0 right-2 flex items-center text-muted-foreground","aria-label":m?"Ocultar confirmación":"Mostrar confirmación",children:m?o.jsx(Dy,{className:"h-4 w-4"}):o.jsx(Wd,{className:"h-4 w-4"})})]}),f&&u!==f&&o.jsx("p",{className:"text-xs text-destructive",children:"Las contraseñas no coinciden."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Recomienda cambiarla en el primer inicio de sesión."})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o.jsx(_e,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),o.jsx(_e,{onClick:S,disabled:_,children:_?"Creando...":"Crear acceso"})]})]})]})})},SEe=()=>{const[e,t]=w.useState([]),[r,n]=w.useState([]),[s,a]=w.useState({total:0,viven:0,construida:0,construccion:0,terreno:0,masculinos:0,femeninos:0,habilitados:0}),[i,l]=w.useState(!0),[c,u]=w.useState(""),[d,f]=w.useState(null),[h,p]=w.useState(!1),[x,m]=w.useState(""),[g,_]=w.useState(""),[y,S]=w.useState(null),[E,C]=w.useState(!1),[P,N]=w.useState("all"),[A,j]=w.useState("all"),[O,W]=w.useState("all"),[z,Y]=w.useState(""),[J,ie]=w.useState(""),[oe,re]=w.useState(""),[Z,ae]=w.useState(!1),[ge,se]=w.useState(!1);w.useState(null);const[R,F]=w.useState([]),[L,I]=w.useState({}),[U,X]=w.useState(!1),de=Vo(),{toast:ye}=La(),{user:me}=ui(),{canDeleteWithoutAuth:Ue,isPresidente:We}=sp();w.useEffect(()=>{ut(),mt()},[]);const mt=async()=>{try{const te=await sb();F(te)}catch(te){console.error("Error loading modules:",te)}},lt=async te=>{if(te)try{const he=await nb(te);I(he||{})}catch(he){console.error("Error loading user permissions:",he),I({})}},Kt=async te=>{if(te)try{await YB(te,L,(me==null?void 0:me.uid)||"system"),ye({title:"Éxito",description:"Permisos actualizados correctamente"}),X(!1)}catch{ye({title:"Error",description:"No se pudieron actualizar los permisos",variant:"destructive"})}};w.useEffect(()=>{ut()},[]),w.useEffect(()=>{Ie()},[e,c,P,A,O,z,J,oe]);const ut=async()=>{l(!0);try{const[te,he]=await Promise.all([Tf(),s9()]);t(te),a(he)}catch{ye({title:"Error",description:"No se pudieron cargar los empadronados",variant:"destructive"})}finally{l(!1)}},Ie=()=>{let te=[...e];if(c){const he=c.toLowerCase();te=te.filter(pe=>pe.nombre.toLowerCase().includes(he)||pe.apellidos.toLowerCase().includes(he)||pe.numeroPadron.toLowerCase().includes(he)||pe.dni.toLowerCase().includes(he)||pe.miembrosFamilia&&pe.miembrosFamilia.some(je=>je.nombre.toLowerCase().includes(he)||je.apellidos.toLowerCase().includes(he)))}P!=="all"&&(te=te.filter(he=>P==="habilitado"?he.habilitado:!he.habilitado)),z.trim()&&(te=te.filter(he=>{var pe;return(pe=he.manzana)==null?void 0:pe.toLowerCase().includes(z.toLowerCase())})),J.trim()&&(te=te.filter(he=>{var pe;return(pe=he.lote)==null?void 0:pe.toLowerCase().includes(J.toLowerCase())})),oe.trim()&&(te=te.filter(he=>{var pe;return(pe=he.etapa)==null?void 0:pe.toLowerCase().includes(oe.toLowerCase())})),A!=="all"&&(te=te.filter(he=>he.estadoVivienda===A)),O!=="all"&&(te=te.filter(he=>O==="si"?he.vive:!he.vive)),n(te)},ht=async()=>{if(!d||!g.trim()){ye({title:"Error",description:"Debe especificar un motivo para la eliminación",variant:"destructive"});return}if(!Ue&&x!=="admin123"){ye({title:"Error",description:"Verifique la clave de presidencia",variant:"destructive"});return}try{if(await r9(d.id,(me==null?void 0:me.uid)||"system",g))ye({title:"Éxito",description:"Empadronado eliminado correctamente"}),p(!1),m(""),_(""),S(null),f(null),ut();else throw new Error("Error al eliminar")}catch{ye({title:"Error",description:"No se pudo eliminar el empadronado",variant:"destructive"})}},wt=te=>new Date(te).toLocaleDateString("es-PE"),Q=te=>{switch(te){case"construida":return o.jsx(Wi,{className:"h-4 w-4"});case"construccion":return o.jsx(FR,{className:"h-4 w-4"});case"terreno":return o.jsx(cm,{className:"h-4 w-4"});default:return null}},ne=te=>{switch(te){case"construida":return"bg-green-100 text-green-800";case"construccion":return"bg-yellow-100 text-yellow-800";case"terreno":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return i?o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-8 bg-muted rounded w-1/4"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((te,he)=>o.jsx("div",{className:"h-24 bg-muted rounded"},he))}),o.jsx("div",{className:"h-96 bg-muted rounded"})]})}):o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>de("/"),className:"gap-2",children:[o.jsx(Wi,{className:"w-4 h-4"}),"Inicio"]}),o.jsx("div",{className:"h-6 w-px bg-border"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Padrón de Asociados"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestión completa del registro de asociados"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(_e,{variant:"outline",onClick:()=>C(!E),children:[o.jsx(Ou,{className:"h-4 w-4 mr-2"}),"Filtros"]}),o.jsxs(_e,{variant:"outline",onClick:xEe,children:[o.jsx(gre,{className:"h-4 w-4 mr-2"}),"Descargar Template Excel"]}),o.jsxs(_e,{onClick:()=>de("/padron/nuevo"),children:[o.jsx(UR,{className:"h-4 w-4 mr-2"}),"Nuevo Empadronado"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Total Empadronados"}),o.jsx(aa,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Ae,{children:[o.jsx("div",{className:"text-2xl font-bold",children:s.total}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.habilitados," habilitados"]})]})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Residentes Activos"}),o.jsx(Wi,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Ae,{children:[o.jsx("div",{className:"text-2xl font-bold",children:s.viven}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Viven en la asociación"})]})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Viviendas Construidas"}),o.jsx(FR,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Ae,{children:[o.jsx("div",{className:"text-2xl font-bold",children:s.construida}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.construccion," en construcción, ",s.terreno," solo terreno"]})]})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Distribución"}),o.jsx(aa,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Ae,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[s.masculinos,"M / ",s.femeninos,"F"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Masculinos / Femeninos"})]})]})]}),E&&o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsx(Ze,{className:"text-lg",children:"Filtros de Búsqueda"})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"search",children:"Buscar"}),o.jsx(Ce,{id:"search",placeholder:"Nombre, apellidos, padrón, DNI o familia...",value:c,onChange:te=>u(te.target.value)})]}),o.jsxs("div",{children:[o.jsx(be,{children:"Estado"}),o.jsxs(hr,{value:P,onValueChange:te=>N(te),children:[o.jsx(dr,{children:o.jsx(mr,{})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"all",children:"Todos"}),o.jsx(Te,{value:"habilitado",children:"Habilitados"}),o.jsx(Te,{value:"deshabilitado",children:"Deshabilitados"})]})]})]}),o.jsxs("div",{children:[o.jsx(be,{children:"Vivienda"}),o.jsxs(hr,{value:A,onValueChange:te=>j(te),children:[o.jsx(dr,{children:o.jsx(mr,{})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"all",children:"Todas"}),o.jsx(Te,{value:"construida",children:"Construida"}),o.jsx(Te,{value:"construccion",children:"En Construcción"}),o.jsx(Te,{value:"terreno",children:"Solo Terreno"})]})]})]}),o.jsxs("div",{children:[o.jsx(be,{children:"Residencia"}),o.jsxs(hr,{value:O,onValueChange:te=>W(te),children:[o.jsx(dr,{children:o.jsx(mr,{})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"all",children:"Todos"}),o.jsx(Te,{value:"si",children:"Vive aquí"}),o.jsx(Te,{value:"no",children:"No vive aquí"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"manzana",children:"Manzana"}),o.jsx(Ce,{id:"manzana",placeholder:"Filtrar por manzana...",value:z,onChange:te=>Y(te.target.value)})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"lote",children:"Lote"}),o.jsx(Ce,{id:"lote",placeholder:"Filtrar por lote...",value:J,onChange:te=>ie(te.target.value)})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"etapa",children:"Etapa"}),o.jsx(Ce,{id:"etapa",placeholder:"Filtrar por etapa...",value:oe,onChange:te=>re(te.target.value)})]}),o.jsx("div",{className:"flex items-end",children:o.jsx(_e,{variant:"outline",onClick:()=>{u(""),N("all"),j("all"),W("all"),Y(""),ie(""),re("")},className:"w-full",children:"Limpiar Filtros"})})]})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando ",r.length," de ",s.total," empadronados"]}),o.jsxs(_e,{variant:"outline",size:"sm",children:[o.jsx(_g,{className:"h-4 w-4 mr-2"}),"Exportar"]})]}),o.jsx(ke,{children:o.jsxs(Ae,{className:"p-0",children:[o.jsxs(Xj,{children:[o.jsx(Qj,{children:o.jsxs(yd,{children:[o.jsx(Jn,{children:"Padrón"}),o.jsx(Jn,{children:"Nombre Completo"}),o.jsx(Jn,{children:"DNI"}),o.jsx(Jn,{children:"Email Acceso"}),o.jsx(Jn,{children:"Estado"}),o.jsx(Jn,{children:"Vivienda"}),o.jsx(Jn,{children:"Vive"}),o.jsx(Jn,{children:"Acciones"})]})}),o.jsx(Zj,{children:r.map(te=>o.jsxs(yd,{children:[o.jsx(Dn,{className:"font-medium",children:te.numeroPadron}),o.jsx(Dn,{children:o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:[te.nombre," ",te.apellidos]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:te.familia})]})}),o.jsx(Dn,{children:te.dni}),o.jsx(Dn,{children:te.emailAcceso?o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium text-green-600",children:te.emailAcceso}),o.jsx(pt,{variant:"secondary",className:"text-xs",children:"Cuenta activa"})]}):o.jsx("div",{className:"text-sm text-muted-foreground",children:"Sin acceso"})}),o.jsx(Dn,{children:o.jsx(pt,{variant:te.habilitado?"default":"secondary",children:te.habilitado?"Habilitado":"Deshabilitado"})}),o.jsx(Dn,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[Q(te.estadoVivienda),o.jsx(pt,{className:ne(te.estadoVivienda),children:te.estadoVivienda==="construida"?"Construida":te.estadoVivienda==="construccion"?"En Construcción":"Solo Terreno"})]})}),o.jsx(Dn,{children:o.jsx(pt,{variant:te.vive?"default":"outline",children:te.vive?"Sí":"No"})}),o.jsx(Dn,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsxs(bge,{children:[o.jsx(Sge,{asChild:!0,children:o.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>f(te),children:o.jsx(Wd,{className:"h-4 w-4"})})}),o.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>{f(te),se(!0)},children:o.jsx(dm,{className:"h-4 w-4"})}),o.jsx(YW,{className:"w-[600px] sm:w-[800px]",children:d&&o.jsxs(o.Fragment,{children:[o.jsxs(GW,{children:[o.jsxs(qW,{children:[d.nombre," ",d.apellidos]}),o.jsxs(KW,{children:["Padrón N° ",d.numeroPadron," - ",d.familia]})]}),o.jsxs("div",{className:"mt-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Información Personal"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx(be,{className:"text-muted-foreground",children:"DNI"}),o.jsx("p",{children:d.dni})]}),o.jsxs("div",{children:[o.jsx(be,{className:"text-muted-foreground",children:"Género"}),o.jsx("p",{className:"capitalize",children:d.genero})]}),o.jsxs("div",{children:[o.jsx(be,{className:"text-muted-foreground",children:"Cumpleaños"}),o.jsx("p",{children:d.cumpleanos})]}),o.jsxs("div",{children:[o.jsx(be,{className:"text-muted-foreground",children:"Fecha Ingreso"}),o.jsx("p",{children:wt(d.fechaIngreso)})]})]})]}),o.jsx(Xs,{}),d&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Acceso al Sistema"}),o.jsx("div",{className:"space-y-4",children:d.emailAcceso?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx(be,{className:"text-muted-foreground",children:"Email de Acceso"}),o.jsx("p",{className:"font-medium text-green-600",children:d.emailAcceso})]}),o.jsxs("div",{children:[o.jsx(be,{className:"text-muted-foreground",children:"Estado"}),o.jsx(pt,{variant:"secondary",className:"text-xs",children:"Cuenta activa"})]})]}),o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(be,{className:"font-medium",children:"Permisos de Módulos"}),o.jsxs(_e,{size:"sm",variant:"outline",onClick:()=>{X(!U),U||(lt(d.authUid),mt())},children:[o.jsx(dm,{className:"h-3 w-3 mr-1"}),U?"Cancelar":"Editar"]})]}),U?o.jsxs("div",{className:"space-y-3",children:[R.map(he=>{const pe=L[he.id]||"none";return o.jsxs("div",{className:"border rounded-lg p-3 bg-muted/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-sm",children:he.nombre}),o.jsx(pt,{variant:pe==="none"?"outline":pe==="read"?"secondary":pe==="write"?"default":"destructive",children:pe==="none"?"Sin acceso":pe==="read"?"Lectura":pe==="write"?"Escritura":"Admin"})]}),o.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{valor:"none",label:"No",color:"bg-muted text-muted-foreground"},{valor:"read",label:"Leer",color:"bg-blue-500 text-white"},{valor:"write",label:"Escribir",color:"bg-green-500 text-white"},{valor:"admin",label:"Admin",color:"bg-purple-500 text-white"}].map(je=>o.jsx("button",{onClick:()=>I(Me=>({...Me,[he.id]:je.valor})),className:`text-xs px-2 py-1 rounded transition-all ${pe===je.valor?je.color:"bg-background border border-border hover:bg-muted text-muted-foreground"}`,children:je.label},je.valor))})]},he.id)}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx(_e,{size:"sm",variant:"outline",onClick:()=>X(!1),children:"Cancelar"}),o.jsx(_e,{size:"sm",onClick:()=>Kt(d.authUid),children:"Guardar Permisos"})]})]}):o.jsx("div",{className:"space-y-2",children:R.map(he=>{const pe=L[he.id]||"none";return o.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-muted/30",children:[o.jsx("span",{className:"text-sm",children:he.nombre}),o.jsx(pt,{variant:pe==="none"?"outline":pe==="read"?"secondary":pe==="write"?"default":"destructive",children:pe==="none"?"Sin acceso":pe==="read"?"Lectura":pe==="write"?"Escritura":"Admin"})]},he.id)})})]})]}):o.jsxs("div",{className:"text-center py-4 border-2 border-dashed rounded-lg",children:[o.jsx(PT,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No tiene acceso al sistema"})]})})]}),o.jsx(Xs,{}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Contacto"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx(be,{className:"text-muted-foreground",children:"Dirección"}),o.jsxs("p",{children:["Mz. ",d.manzana," Lt. ",d.lote," ",d.etapa?`Etapa ${d.etapa}`:""]})]}),d.telefonos&&d.telefonos.length>0&&o.jsxs("div",{children:[o.jsx(be,{className:"text-muted-foreground",children:"Teléfonos"}),o.jsx("p",{children:d.telefonos.map(he=>he.numero).filter(Boolean).join(", ")})]})]})]}),o.jsx(Xs,{}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Vivienda y Residencia"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx(be,{className:"text-muted-foreground",children:"Estado Vivienda"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[Q(d.estadoVivienda),o.jsx(pt,{className:ne(d.estadoVivienda),children:d.estadoVivienda==="construida"?"Construida":d.estadoVivienda==="construccion"?"En Construcción":"Solo Terreno"})]})]}),o.jsxs("div",{children:[o.jsx(be,{className:"text-muted-foreground",children:"Vive aquí"}),o.jsx("div",{className:"mt-1",children:o.jsx(pt,{variant:d.vive?"default":"outline",children:d.vive?"Sí":"No"})})]})]})]}),d.vehiculos&&d.vehiculos.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(Xs,{}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Vehículos"}),o.jsx("div",{className:"space-y-2",children:d.vehiculos.map((he,pe)=>o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(pt,{variant:"outline",className:"text-xs",children:[he.placa," (",he.tipo,")"]})},pe))})]})]}),d.miembrosFamilia&&d.miembrosFamilia.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(Xs,{}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Miembros de Familia"}),o.jsx("div",{className:"space-y-2",children:d.miembrosFamilia.map((he,pe)=>o.jsxs("div",{className:"border-l-2 border-muted pl-3",children:[o.jsxs("p",{className:"font-medium",children:[he.nombre," ",he.apellidos]}),o.jsxs("p",{className:"text-muted-foreground text-xs",children:[he.parentezco," • ",he.cumpleanos]})]},pe))})]})]}),d.observaciones&&o.jsxs(o.Fragment,{children:[o.jsx(Xs,{}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Observaciones"}),o.jsx("p",{className:"text-sm",children:d.observaciones})]})]})]})]})})]}),o.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>{f(te),ae(!0)},title:"Crear acceso",className:"text-primary",children:o.jsx(PT,{className:"h-4 w-4"})}),o.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>de(`/padron/editar/${te.id}`),children:o.jsx(Tre,{className:"h-4 w-4"})}),o.jsxs(yge,{open:h,onOpenChange:p,children:[o.jsx(_ge,{asChild:!0,children:o.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>{f(te),p(!0)},children:o.jsx(T$,{className:"h-4 w-4"})})}),o.jsxs(LW,{children:[o.jsxs($W,{children:[o.jsx(BW,{children:"Eliminar Empadronado"}),o.jsxs(WW,{children:["Esta acción eliminará permanentemente a ",te.nombre," ",te.apellidos," del padrón.",!Ue&&" Se requiere autorización de presidencia.",Ue&&" Como Presidente, puede eliminar directamente."]})]}),o.jsxs("div",{className:"space-y-4",children:[!Ue&&o.jsxs("div",{children:[o.jsx(be,{htmlFor:"delete-password",children:"Clave de Presidencia"}),o.jsx(Ce,{id:"delete-password",type:"password",value:x,onChange:he=>m(he.target.value),placeholder:"Ingrese la clave"})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"delete-motivo",children:"Motivo de Eliminación"}),o.jsx(ai,{id:"delete-motivo",value:g,onChange:he=>_(he.target.value),placeholder:"Describa el motivo de la eliminación"})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"delete-pdf",children:"Acta de Eliminación (PDF)"}),o.jsx(Ce,{id:"delete-pdf",type:"file",accept:".pdf",onChange:he=>{var pe;return S(((pe=he.target.files)==null?void 0:pe[0])||null)}})]})]}),o.jsxs(UW,{children:[o.jsx(zW,{children:"Cancelar"}),o.jsx(VW,{onClick:ht,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar"})]})]})]})]})})]},te.id))})]}),r.length===0&&o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(aa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No se encontraron empadronados"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:c||P!=="all"||A!=="all"||O!=="all"?"Intente modificar los filtros de búsqueda":"Comience agregando un nuevo empadronado"}),!c&&P==="all"&&A==="all"&&O==="all"&&o.jsxs(_e,{onClick:()=>de("/padron/nuevo"),children:[o.jsx(UR,{className:"h-4 w-4 mr-2"}),"Agregar Primer Empadronado"]})]})]})}),o.jsx(bEe,{open:Z,onOpenChange:ae,empadronado:d,onCreated:ut}),o.jsx(yEe,{open:ge,onOpenChange:se,empadronado:d,onAccountCreated:ut})]})},W4=()=>{var L,I;const{id:e}=N8(),t=Vo(),{toast:r}=La(),n=!!e,[s,a]=w.useState(!1),[i,l]=w.useState(n),[c,u]=w.useState({nombre:"",apellidos:"",parentezco:"",cumpleanos:""}),[d,f]=w.useState(!1),[h,p]=w.useState(""),[x,m]=w.useState({placa:"",tipo:"vehiculo"}),[g,_]=w.useState(!1),[y,S]=w.useState({email:"",password:"",confirmPassword:"",username:"",roleId:"asociado"}),[E,C]=w.useState(!1),[P,N]=w.useState(!1),[A,j]=w.useState([]),[O,W]=w.useState({numeroPadron:"",nombre:"",apellidos:"",dni:"",familia:"",miembrosFamilia:[],vehiculos:[],habilitado:!0,telefonos:[{numero:""}],fechaIngreso:Date.now(),manzana:"",lote:"",etapa:"",genero:"masculino",vive:!0,estadoVivienda:"terreno",cumpleanos:"",observaciones:""}),[z,Y]=w.useState({});w.useEffect(()=>{J(),n&&e&&ie()},[e,n]);const J=async()=>{try{const U=await Dj();j(U)}catch(U){console.error("Error loading roles:",U)}},ie=async()=>{if(e){l(!0);try{const U=await Mg(e);U?W({numeroPadron:U.numeroPadron,nombre:U.nombre,apellidos:U.apellidos,dni:U.dni,familia:U.familia,miembrosFamilia:U.miembrosFamilia||[],vehiculos:U.vehiculos||[],habilitado:U.habilitado,telefonos:U.telefonos||[{numero:""}],fechaIngreso:U.fechaIngreso,manzana:U.manzana||"",lote:U.lote||"",etapa:U.etapa||"",genero:U.genero,vive:U.vive,estadoVivienda:U.estadoVivienda,cumpleanos:U.cumpleanos,observaciones:U.observaciones||""}):(r({title:"Error",description:"No se encontró el empadronado",variant:"destructive"}),t("/padron"))}catch{r({title:"Error",description:"No se pudo cargar el empadronado",variant:"destructive"}),t("/padron")}finally{l(!1)}}},oe=async()=>{var X,de;const U={};if(O.numeroPadron.trim()||(U.numeroPadron="El número de padrón es requerido"),O.nombre.trim()||(U.nombre="El nombre es requerido"),O.apellidos.trim()||(U.apellidos="Los apellidos son requeridos"),O.dni.trim()||(U.dni="El DNI es requerido"),O.familia.trim()||(U.familia="La familia es requerida"),(X=O.manzana)!=null&&X.trim()||(U.manzana="La manzana es requerida"),(de=O.lote)!=null&&de.trim()||(U.lote="El lote es requerido"),O.cumpleanos.trim()||(U.cumpleanos="El cumpleaños es requerido"),O.dni&&!/^\d{8}$/.test(O.dni)&&(U.dni="El DNI debe tener 8 dígitos"),O.cumpleanos&&!/^\d{2}\/\d{2}\/\d{4}$/.test(O.cumpleanos)&&(U.cumpleanos="El formato debe ser DD/MM/YYYY"),O.numeroPadron&&(await a9(O.numeroPadron,e)||(U.numeroPadron="Este número de padrón ya existe")),g&&!n){y.email.trim()||(U.userEmail="El email es requerido para crear la cuenta"),y.password.trim()||(U.userPassword="La contraseña es requerida para crear la cuenta"),y.password.length<6&&(U.userPassword="La contraseña debe tener al menos 6 caracteres"),y.confirmPassword.trim()||(U.userPasswordConfirm="Confirma la contraseña"),y.password&&y.confirmPassword&&y.password!==y.confirmPassword&&(U.userPasswordConfirm="Las contraseñas no coinciden");const ye=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;y.email&&!ye.test(y.email)&&(U.userEmail="El formato del email no es válido")}return Y(U),Object.keys(U).length===0},re=async U=>{var de,ye,me,Ue,We,mt,lt;if(U.preventDefault(),!!await oe()){a(!0);try{const Kt={...O,...((de=O.miembrosFamilia)==null?void 0:de.filter(ht=>{var wt,Q;return((wt=ht.nombre)==null?void 0:wt.trim())&&((Q=ht.apellidos)==null?void 0:Q.trim())||ht.nombre==="Menor de edad"}).length)>0&&{miembrosFamilia:O.miembrosFamilia.filter(ht=>{var wt,Q;return((wt=ht.nombre)==null?void 0:wt.trim())&&((Q=ht.apellidos)==null?void 0:Q.trim())||ht.nombre==="Menor de edad"}).map(ht=>{var wt,Q;return{nombre:ht.nombre.trim(),apellidos:ht.apellidos.trim(),parentezco:((wt=ht.parentezco)==null?void 0:wt.trim())||"",cumpleanos:((Q=ht.cumpleanos)==null?void 0:Q.trim())||""}})},...((ye=O.vehiculos)==null?void 0:ye.filter(ht=>{var wt;return(wt=ht.placa)==null?void 0:wt.trim()}).length)>0&&{vehiculos:O.vehiculos.filter(ht=>{var wt;return(wt=ht.placa)==null?void 0:wt.trim()}).map(ht=>({placa:ht.placa.trim(),tipo:ht.tipo}))},...((me=O.telefonos)==null?void 0:me.filter(ht=>{var wt;return(wt=ht.numero)==null?void 0:wt.trim()}).length)>0&&{telefonos:O.telefonos.filter(ht=>{var wt;return(wt=ht.numero)==null?void 0:wt.trim()}).map(ht=>({numero:ht.numero.trim()}))},...((Ue=O.observaciones)==null?void 0:Ue.trim())&&{observaciones:O.observaciones.trim()},...((We=O.manzana)==null?void 0:We.trim())&&{manzana:O.manzana.trim()},...((mt=O.lote)==null?void 0:mt.trim())&&{lote:O.lote.trim()},...((lt=O.etapa)==null?void 0:lt.trim())&&{etapa:O.etapa.trim()}};let ut=!1,Ie="";if(n&&e?(ut=await t9(e,Kt,"admin-user"),Ie=e,console.log("Empadronado actualizado:",e)):(console.log("Creando empadronado con datos:",Kt),Ie=await e9(Kt,"admin-user"),ut=!!Ie,console.log("Empadronado creado con ID:",Ie,"Success:",ut)),ut&&g&&!n&&Ie)try{console.log("Creando cuenta para empadronado:",Ie,y),await Yme(Ie,{email:y.email.trim(),password:y.password,displayName:`${O.nombre} ${O.apellidos}`,username:y.username.trim()||void 0,roleId:y.roleId}),console.log("Cuenta creada exitosamente"),r({title:"Éxito",description:"Empadronado y cuenta de usuario creados correctamente"})}catch(ht){console.error("Error creando cuenta de usuario:",ht),r({title:"Advertencia",description:`Empadronado creado, pero hubo un error al crear la cuenta de usuario: ${ht.message}`,variant:"destructive"})}else ut&&r({title:"Éxito",description:n?"Empadronado actualizado correctamente":"Empadronado creado correctamente"});if(ut)t("/padron");else throw new Error("Error en la operación")}catch{r({title:"Error",description:n?"No se pudo actualizar el empadronado":"No se pudo crear el empadronado",variant:"destructive"})}finally{a(!1)}}},Z=()=>{if(d){if(c.parentezco.trim()&&c.cumpleanos.trim()){const U={nombre:"Menor de edad",apellidos:"Menor de edad",parentezco:c.parentezco,cumpleanos:c.cumpleanos};W(X=>({...X,miembrosFamilia:[...X.miembrosFamilia||[],U]})),u({nombre:"",apellidos:"",parentezco:"",cumpleanos:""}),f(!1)}}else c.nombre.trim()&&(W(U=>({...U,miembrosFamilia:[...U.miembrosFamilia||[],{...c}]})),u({nombre:"",apellidos:"",parentezco:"",cumpleanos:""}))},ae=U=>{W(X=>{var de;return{...X,miembrosFamilia:((de=X.miembrosFamilia)==null?void 0:de.filter((ye,me)=>me!==U))||[]}})},ge=()=>{h.trim()&&(W(U=>({...U,telefonos:[...U.telefonos||[],{numero:h.trim()}]})),p(""))},se=U=>{W(X=>{var de;return{...X,telefonos:((de=X.telefonos)==null?void 0:de.filter((ye,me)=>me!==U))||[]}})},R=()=>{x.placa.trim()&&(W(U=>({...U,vehiculos:[...U.vehiculos||[],{...x}]})),m({placa:"",tipo:"vehiculo"}))},F=U=>{W(X=>{var de;return{...X,vehiculos:((de=X.vehiculos)==null?void 0:de.filter((ye,me)=>me!==U))||[]}})};return i?o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-8 bg-muted rounded w-1/4"}),o.jsx("div",{className:"h-96 bg-muted rounded"})]})}):o.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>t("/"),className:"gap-2",children:[o.jsx(Wi,{className:"w-4 h-4"}),"Inicio"]}),o.jsx("div",{className:"h-6 w-px bg-border"}),o.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>t("/padron"),children:[o.jsx(dk,{className:"h-4 w-4 mr-2"}),"Volver al Padrón"]}),o.jsx("div",{className:"h-6 w-px bg-border"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:n?"Editar Empadronado":"Nuevo Empadronado"}),o.jsx("p",{className:"text-muted-foreground",children:n?"Modifica los datos del empadronado":"Completa la información del nuevo empadronado"})]})]}),o.jsxs("form",{onSubmit:re,className:"space-y-6",children:[o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Información Básica"}),o.jsx(Qt,{children:"Datos principales del empadronado"})]}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"numeroPadron",children:"Número de Padrón *"}),o.jsx(Ce,{id:"numeroPadron",value:O.numeroPadron,onChange:U=>W(X=>({...X,numeroPadron:U.target.value})),placeholder:"001"}),z.numeroPadron&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:z.numeroPadron})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"dni",children:"DNI *"}),o.jsx(Ce,{id:"dni",value:O.dni,onChange:U=>W(X=>({...X,dni:U.target.value})),placeholder:"12345678",maxLength:8}),z.dni&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:z.dni})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Is,{id:"habilitado",checked:O.habilitado,onCheckedChange:U=>W(X=>({...X,habilitado:U}))}),o.jsx(be,{htmlFor:"habilitado",children:"Habilitado"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"nombre",children:"Nombre *"}),o.jsx(Ce,{id:"nombre",value:O.nombre,onChange:U=>W(X=>({...X,nombre:U.target.value})),placeholder:"Juan Carlos"}),z.nombre&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:z.nombre})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"apellidos",children:"Apellidos *"}),o.jsx(Ce,{id:"apellidos",value:O.apellidos,onChange:U=>W(X=>({...X,apellidos:U.target.value})),placeholder:"García López"}),z.apellidos&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:z.apellidos})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"familia",children:"Familia *"}),o.jsx(Ce,{id:"familia",value:O.familia,onChange:U=>W(X=>({...X,familia:U.target.value})),placeholder:"Familia García"}),z.familia&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:z.familia})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"genero",children:"Género"}),o.jsxs(hr,{value:O.genero,onValueChange:U=>W(X=>({...X,genero:U})),children:[o.jsx(dr,{children:o.jsx(mr,{})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"masculino",children:"Masculino"}),o.jsx(Te,{value:"femenino",children:"Femenino"})]})]})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"cumpleanos",children:"Cumpleaños *"}),o.jsx(Ce,{id:"cumpleanos",value:O.cumpleanos,onChange:U=>W(X=>({...X,cumpleanos:U.target.value})),placeholder:"15/08/1980"}),z.cumpleanos&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:z.cumpleanos})]})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"fechaIngreso",children:"Fecha de Ingreso"}),o.jsx(Ce,{id:"fechaIngreso",type:"date",value:O.fechaIngreso&&!isNaN(O.fechaIngreso)?new Date(O.fechaIngreso).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],onChange:U=>{const X=U.target.value;X&&W(de=>({...de,fechaIngreso:new Date(X).getTime()}))}})]})]})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Miembros de la Familia"}),o.jsx(Qt,{children:"Agregar otros miembros que viven en la familia"})]}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Is,{id:"isMinor",checked:d,onCheckedChange:f}),o.jsx(be,{htmlFor:"isMinor",children:"Es menor de edad (omitir algunos datos)"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2",children:[o.jsx(Ce,{value:c.nombre,onChange:U=>u(X=>({...X,nombre:U.target.value})),placeholder:"Nombre",disabled:d}),o.jsx(Ce,{value:c.apellidos,onChange:U=>u(X=>({...X,apellidos:U.target.value})),placeholder:"Apellidos",disabled:d}),o.jsx(Ce,{value:c.parentezco,onChange:U=>u(X=>({...X,parentezco:U.target.value})),placeholder:"Parentezco"}),o.jsx(Ce,{value:c.cumpleanos,onChange:U=>u(X=>({...X,cumpleanos:U.target.value})),placeholder:"DD/MM/YYYY"}),o.jsx(_e,{type:"button",variant:"outline",onClick:Z,children:o.jsx(Vi,{className:"h-4 w-4"})})]})]}),O.miembrosFamilia&&O.miembrosFamilia.length>0&&o.jsx("div",{className:"space-y-2",children:O.miembrosFamilia.map((U,X)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("span",{children:[U.nombre," ",U.apellidos," - ",U.parentezco," (",U.cumpleanos,")"]}),o.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>ae(X),children:o.jsx(Ah,{className:"h-4 w-4"})})]},X))})]})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Contacto"}),o.jsx(Qt,{children:"Información de contacto y ubicación"})]}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"manzana",children:"Manzana *"}),o.jsx(Ce,{id:"manzana",value:O.manzana,onChange:U=>W(X=>({...X,manzana:U.target.value})),placeholder:"A"}),z.manzana&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:z.manzana})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"lote",children:"Lote *"}),o.jsx(Ce,{id:"lote",value:O.lote,onChange:U=>W(X=>({...X,lote:U.target.value})),placeholder:"15"}),z.lote&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:z.lote})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"etapa",children:"Etapa"}),o.jsx(Ce,{id:"etapa",value:O.etapa,onChange:U=>W(X=>({...X,etapa:U.target.value})),placeholder:"1"})]})]}),o.jsx(Xs,{}),o.jsxs("div",{children:[o.jsx(be,{children:"Teléfonos"}),(L=O.telefonos)==null?void 0:L.map((U,X)=>o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(Ce,{value:U.numero,onChange:de=>W(ye=>{var me;return{...ye,telefonos:(me=ye.telefonos)==null?void 0:me.map((Ue,We)=>We===X?{numero:de.target.value}:Ue)}}),placeholder:"999888777"}),X>0&&o.jsx(_e,{type:"button",variant:"outline",size:"sm",onClick:()=>se(X),children:o.jsx(Ah,{className:"h-4 w-4"})})]},X)),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ce,{value:h,onChange:U=>p(U.target.value),placeholder:"Agregar otro teléfono"}),o.jsx(_e,{type:"button",variant:"outline",onClick:ge,children:o.jsx(Vi,{className:"h-4 w-4"})})]})]}),o.jsx(Xs,{}),o.jsxs("div",{children:[o.jsx(be,{children:"Vehículos"}),(I=O.vehiculos)==null?void 0:I.map((U,X)=>o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(Ce,{value:U.placa,readOnly:!0,placeholder:"Placa"}),o.jsxs(hr,{value:U.tipo,disabled:!0,children:[o.jsx(dr,{className:"w-32",children:o.jsx(mr,{})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"vehiculo",children:"Vehículo"}),o.jsx(Te,{value:"moto",children:"Moto"})]})]}),o.jsx(_e,{type:"button",variant:"outline",size:"sm",onClick:()=>F(X),children:o.jsx(Ah,{className:"h-4 w-4"})})]},X)),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ce,{value:x.placa,onChange:U=>m(X=>({...X,placa:U.target.value})),placeholder:"ABC-123"}),o.jsxs(hr,{value:x.tipo,onValueChange:U=>m(X=>({...X,tipo:U})),children:[o.jsx(dr,{className:"w-32",children:o.jsx(mr,{})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"vehiculo",children:"Vehículo"}),o.jsx(Te,{value:"moto",children:"Moto"})]})]}),o.jsx(_e,{type:"button",variant:"outline",onClick:R,children:o.jsx(Vi,{className:"h-4 w-4"})})]})]})]})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Vivienda y Residencia"}),o.jsx(Qt,{children:"Estado de la vivienda y residencia"})]}),o.jsx(Ae,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"estadoVivienda",children:"Estado de Vivienda"}),o.jsxs(hr,{value:O.estadoVivienda,onValueChange:U=>W(X=>({...X,estadoVivienda:U})),children:[o.jsx(dr,{children:o.jsx(mr,{})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"construida",children:"Casa Construida"}),o.jsx(Te,{value:"construccion",children:"En Construcción"}),o.jsx(Te,{value:"terreno",children:"Solo Terreno"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Is,{id:"vive",checked:O.vive,onCheckedChange:U=>W(X=>({...X,vive:U}))}),o.jsx(be,{htmlFor:"vive",children:"Vive en la asociación"})]})]})})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Observaciones"}),o.jsx(Qt,{children:"Información adicional relevante"})]}),o.jsx(Ae,{children:o.jsx(ai,{value:O.observaciones,onChange:U=>W(X=>({...X,observaciones:U.target.value})),placeholder:"Cualquier información adicional importante...",rows:4})})]}),!n&&o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Cuenta de Usuario del Sistema"}),o.jsx(Qt,{children:"Crear automáticamente una cuenta para que el asociado pueda acceder al sistema"})]}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Is,{id:"createUserAccount",checked:g,onCheckedChange:U=>{_(U),U||(S({email:"",password:"",confirmPassword:"",username:"",roleId:"asociado"}),Y(X=>({...X,userEmail:"",userPassword:"",userPasswordConfirm:""})),C(!1),N(!1))}}),o.jsx(be,{htmlFor:"createUserAccount",children:"Crear cuenta de acceso al sistema"})]}),g&&o.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"userEmail",children:"Email de acceso *"}),o.jsx(Ce,{id:"userEmail",type:"email",value:y.email,onChange:U=>S(X=>({...X,email:U.target.value})),placeholder:"juan.garcia@ejemplo.com"}),z.userEmail&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:z.userEmail})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"userPassword",children:"Contraseña *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ce,{id:"userPassword",type:E?"text":"password",value:y.password,onChange:U=>S(X=>({...X,password:U.target.value})),placeholder:"Mínimo 6 caracteres",className:"pr-10"}),o.jsx("button",{type:"button",onClick:()=>C(U=>!U),className:"absolute inset-y-0 right-2 flex items-center text-muted-foreground","aria-label":E?"Ocultar contraseña":"Mostrar contraseña",children:E?o.jsx(Dy,{className:"h-4 w-4"}):o.jsx(Wd,{className:"h-4 w-4"})})]}),z.userPassword&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:z.userPassword})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"userPasswordConfirm",children:"Confirmar contraseña *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ce,{id:"userPasswordConfirm",type:P?"text":"password",value:y.confirmPassword,onChange:U=>S(X=>({...X,confirmPassword:U.target.value})),placeholder:"Repite la contraseña",className:"pr-10"}),o.jsx("button",{type:"button",onClick:()=>N(U=>!U),className:"absolute inset-y-0 right-2 flex items-center text-muted-foreground","aria-label":P?"Ocultar confirmación":"Mostrar confirmación",children:P?o.jsx(Dy,{className:"h-4 w-4"}):o.jsx(Wd,{className:"h-4 w-4"})})]}),z.userPasswordConfirm&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:z.userPasswordConfirm})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"username",children:"Nombre de usuario (opcional)"}),o.jsx(Ce,{id:"username",value:y.username,onChange:U=>S(X=>({...X,username:U.target.value})),placeholder:"juan.garcia"})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"roleId",children:"Rol del usuario"}),o.jsxs(hr,{value:y.roleId,onValueChange:U=>S(X=>({...X,roleId:U})),children:[o.jsx(dr,{children:o.jsx(mr,{})}),o.jsx(fr,{children:A.map(U=>o.jsx(Te,{value:U.id,children:U.nombre},U.id))})]})]})]}),o.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Información:"})," Se creará automáticamente una cuenta de usuario vinculada a este empadronado. El asociado podrá usar estas credenciales para acceder al Portal del Asociado y gestionar sus visitas, pagos y demás servicios."]})})]})]})]}),o.jsxs("div",{className:"flex gap-4 justify-end",children:[o.jsx(_e,{type:"button",variant:"outline",onClick:()=>t("/padron"),children:"Cancelar"}),o.jsx(_e,{type:"submit",disabled:s,children:s?o.jsx(o.Fragment,{children:"Guardando..."}):o.jsxs(o.Fragment,{children:[o.jsx(kre,{className:"h-4 w-4 mr-2"}),n?"Actualizar":"Crear"," Empadronado"]})})]})]})]})};var e2="rovingFocusGroup.onEntryFocus",EEe={bubbles:!1,cancelable:!0},qg="RovingFocusGroup",[kC,Oz,TEe]=ok(qg),[CEe,Dz]=ha(qg,[TEe]),[NEe,kEe]=CEe(qg),Rz=w.forwardRef((e,t)=>o.jsx(kC.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(kC.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(jEe,{...e,ref:t})})}));Rz.displayName=qg;var jEe=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=w.useRef(null),p=Ht(t,h),x=cb(a),[m,g]=mu({prop:i,defaultProp:l??null,onChange:c,caller:qg}),[_,y]=w.useState(!1),S=Nn(u),E=Oz(r),C=w.useRef(!1),[P,N]=w.useState(0);return w.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(e2,S),()=>A.removeEventListener(e2,S)},[S]),o.jsx(NEe,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:m,onItemFocus:w.useCallback(A=>g(A),[g]),onItemShiftTab:w.useCallback(()=>y(!0),[]),onFocusableItemAdd:w.useCallback(()=>N(A=>A+1),[]),onFocusableItemRemove:w.useCallback(()=>N(A=>A-1),[]),children:o.jsx(dt.div,{tabIndex:_||P===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:it(e.onMouseDown,()=>{C.current=!0}),onFocus:it(e.onFocus,A=>{const j=!C.current;if(A.target===A.currentTarget&&j&&!_){const O=new CustomEvent(e2,EEe);if(A.currentTarget.dispatchEvent(O),!O.defaultPrevented){const W=E().filter(oe=>oe.focusable),z=W.find(oe=>oe.active),Y=W.find(oe=>oe.id===m),ie=[z,Y,...W].filter(Boolean).map(oe=>oe.ref.current);Fz(ie,d)}}C.current=!1}),onBlur:it(e.onBlur,()=>y(!1))})})}),Iz="RovingFocusGroupItem",Mz=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=Sl(),u=a||c,d=kEe(Iz,r),f=d.currentTabStopId===u,h=Oz(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:m}=d;return w.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),o.jsx(kC.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(dt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:it(e.onMouseDown,g=>{n?d.onItemFocus(u):g.preventDefault()}),onFocus:it(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:it(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const _=OEe(g,d.orientation,d.dir);if(_!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let S=h().filter(E=>E.focusable).map(E=>E.ref.current);if(_==="last")S.reverse();else if(_==="prev"||_==="next"){_==="prev"&&S.reverse();const E=S.indexOf(g.currentTarget);S=d.loop?DEe(S,E+1):S.slice(E+1)}setTimeout(()=>Fz(S))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:m!=null}):i})})});Mz.displayName=Iz;var AEe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function PEe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function OEe(e,t,r){const n=PEe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return AEe[n]}function Fz(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function DEe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var REe=Rz,IEe=Mz,jb="Tabs",[MEe,AZe]=ha(jb,[Dz]),Lz=Dz(),[FEe,TA]=MEe(jb),$z=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=cb(l),[f,h]=mu({prop:n,onChange:s,defaultProp:a??"",caller:jb});return o.jsx(FEe,{scope:r,baseId:Sl(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:o.jsx(dt.div,{dir:d,"data-orientation":i,...u,ref:t})})});$z.displayName=jb;var Uz="TabsList",Bz=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=TA(Uz,r),i=Lz(r);return o.jsx(REe,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(dt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});Bz.displayName=Uz;var Wz="TabsTrigger",Vz=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,i=TA(Wz,r),l=Lz(r),c=Yz(i.baseId,n),u=Gz(i.baseId,n),d=n===i.value;return o.jsx(IEe,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(dt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:it(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:it(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:it(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});Vz.displayName=Wz;var zz="TabsContent",Hz=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=e,l=TA(zz,r),c=Yz(l.baseId,n),u=Gz(l.baseId,n),d=n===l.value,f=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx($a,{present:s||d,children:({present:h})=>o.jsx(dt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});Hz.displayName=zz;function Yz(e,t){return`${e}-trigger-${t}`}function Gz(e,t){return`${e}-content-${t}`}var LEe=$z,qz=Bz,Kz=Vz,Xz=Hz;const Of=LEe,zu=w.forwardRef(({className:e,...t},r)=>o.jsx(qz,{ref:r,className:Ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));zu.displayName=qz.displayName;const Br=w.forwardRef(({className:e,...t},r)=>o.jsx(Kz,{ref:r,className:Ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Br.displayName=Kz.displayName;const Wr=w.forwardRef(({className:e,...t},r)=>o.jsx(Xz,{ref:r,className:Ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Wr.displayName=Xz.displayName;const jC=e=>String(e).padStart(2,"0"),CA=(e,t)=>`${e}-${jC(t)}`,Qz=e=>e.replace("-",""),$Ee=()=>{const e=new Date;return CA(e.getFullYear(),e.getMonth()+1)},UEe=(e,t)=>{const[r,n]=e.split("-").map(Number),s=new Date(r,n-1+t,1);return CA(s.getFullYear(),s.getMonth()+1)},BEe=(e,t)=>{const[r,n]=e.split("-").map(Number),[s,a]=t.split("-").map(Number);return(s-r)*12+(a-n)},WEe=(e,t,r)=>{const n=new Date(e,t-1,r),s=jC(n.getDate()),a=jC(n.getMonth()+1);return`${s}/${a}/${n.getFullYear()}`},NA=async()=>{const e=Ge(qe,"cobranzas/configuracion"),t=await Mt(e);if(!t.exists()){const r={montoMensual:50,diaVencimiento:15,diaCierre:14,diasProntoPago:3,porcentajeProntoPago:10,porcentajeMorosidad:5,porcentajeSancion:10,serieComprobantes:"COB",numeroComprobanteActual:1,sede:"Principal"};return await pr(e,r),r}return t.val()},VEe=async e=>{const t=Ge(qe,"cobranzas/configuracion");await pr(t,e)},Zz=async()=>{const{getEmpadronados:e}=await d9(async()=>{const{getEmpadronados:t}=await Promise.resolve().then(()=>Wme);return{getEmpadronados:t}},void 0);return await e()},zEe=async(e,t)=>{const r=await NA(),n=Number(t.slice(0,4)),s=Number(t.slice(5,7)),a=WEe(n,s,r.diaVencimiento),i=`cobranzas/charges/${Qz(t)}/${e.id}`;if((await Mt(Ge(qe,i))).exists())return!1;const c=ro(Ge(qe,i)).key;return await pr(Ge(qe,`${i}/${c}`),{empadronadoId:e.id,numeroPadron:e.numeroPadron,periodo:t,vencimiento:a,montoBase:r.montoMensual,descuentos:[],recargos:[],total:r.montoMensual,saldo:r.montoMensual,estado:"pendiente",timestamps:{creado:new Date().toISOString(),actualizado:new Date().toISOString()}}),!0},HEe=async e=>{const t=await Zz();let r=0;for(const n of t){if((n==null?void 0:n.habilitado)===!1)continue;await zEe(n,e)&&r++}return r},V4=async e=>{const t="2025-01",r=$Ee(),n=BEe(t,r);for(let s=0;s<=n;s++){const a=UEe(t,s);await HEe(a)}},Jz=async()=>{const e=await Mt(Ge(qe,"cobranzas/pagos"));return e.exists()?Object.values(e.val()).sort((r,n)=>n.updatedAt-r.updatedAt):[]},YEe=async e=>{const t=Ge(qe,"cobranzas/charges"),r=await Mt(t);if(!r.exists())return[];const n=r.val(),s=[],a=(await Jz()).filter(i=>i.empadronadoId===e);return Object.keys(n).forEach(i=>{var p;const l=(p=n[i])==null?void 0:p[e];if(!l)return;const c=Object.keys(l)[0],u=l[c],d=Number(i.slice(0,4)),f=Number(i.slice(4,6)),h=u.estado==="pagado"?a.find(x=>x.año===d&&x.mes===f):void 0;s.push({id:c,empadronadoId:e,numeroPadron:u.numeroPadron,año:d,mes:f,montoOriginal:Number(u.montoBase)||0,monto:Number(u.total)||0,fechaVencimiento:u.vencimiento,estado:u.estado,descuentos:u.descuentos||[],recargos:u.recargos||[],metodoPago:(h==null?void 0:h.metodoPago)||u.metodoPago||null,numeroOperacion:(h==null?void 0:h.numeroOperacion)||u.numeroOperacion||null,comprobantePago:(h==null?void 0:h.comprobantePago)||u.comprobante||null,fechaPago:(h==null?void 0:h.fechaPago)||u.fechaPago||null,creadoPor:(h==null?void 0:h.creadoPor)||void 0,createdAt:(h==null?void 0:h.createdAt)||void 0,updatedAt:(h==null?void 0:h.updatedAt)||void 0})}),s.sort((i,l)=>l.año-i.año||l.mes-i.mes)},GEe=async(e,t,r)=>{const n=Ge(qe,`cobranzas/pagos/${e}`);await sc(n,{...t,updatedAt:Date.now(),pagadoPor:r})},qEe=async(e,t)=>{const r=Ge(qe,"cobranzas/ingresos"),n=ro(r),s={...e,id:n.key,registradoPor:t,createdAt:Date.now(),updatedAt:Date.now()};return await pr(n,s),n.key},eH=async()=>{const e=await Mt(Ge(qe,"cobranzas/egresos"));return e.exists()?Object.values(e.val()).sort((r,n)=>n.updatedAt-r.updatedAt):[]},KEe=async e=>{const t=Ge(qe,"cobranzas/declaracionesJuradas"),r=ro(t),n={...e,id:r.key,fechaSolicitud:new Date().toLocaleDateString("es-PE")};return await pr(r,n),r.key},XEe=async e=>{const t=Ge(qe,"cobranzas/sanciones"),r=ro(t),n={...e,id:r.key};return await pr(r,n),r.key},QEe=async()=>{const[e,t]=await Promise.all([eH(),Zz()]),r=new Date,n=r.getFullYear(),s=r.getMonth()+1,a=Qz(CA(n,s));let i=0;const l=new Set;let c=0,u=0;const d=await Mt(Ge(qe,"cobranzas/charges"));if(d.exists()){const x=d.val();for(const m of Object.keys(x)){const g=x[m],_=m===a;for(const y of Object.keys(g)){const S=g[y],E=Object.keys(S)[0],C=S[E],P=Number(C.total||0),N=Number(C.saldo||0);i+=N,C.estado==="moroso"&&l.add(y),_&&(c+=P-N,C.estado==="pagado"&&(u+=1))}}}const h=e.filter(x=>{const[m,g,_]=x.fecha.split("/");return Number(g)===s&&Number(_)===n}).reduce((x,m)=>x+Number(m.monto||0),0),p=t.length>0?u/t.length*100:0;return{totalEmpadronados:t.length,totalRecaudado:c,totalPendiente:i,totalMorosos:l.size,tasaCobranza:p,ingresosMes:c,egresosMes:h,saldoActual:c-h}},ZEe=async e=>{const t=await NA(),r=await Mt(Ge(qe,"cobranzas/charges"));if(!r.exists())return;const n=new Date,s=r.val();for(const a of Object.keys(s)){const i=s[a];for(const l of Object.keys(i)){const c=i[l],u=Object.keys(c)[0],d=c[u];if(d.estado==="pagado")continue;const[f,h,p]=String(d.vencimiento||"").split("/"),x=new Date(Number(p),Number(h)-1,Number(f));if(n.getTime()>x.getTime()&&Number(d.saldo||0)>0){const m=Number(d.montoBase||0)*(t.porcentajeMorosidad||0)/100;await sc(Ge(qe,`cobranzas/charges/${a}/${l}/${u}`),{estado:"moroso",recargos:[...d.recargos||[],{id:`mor_${Date.now()}`,tipo:"morosidad",porcentaje:t.porcentajeMorosidad,monto:m,motivo:"Recargo por morosidad",fechaAplicacion:new Date().toLocaleDateString("es-PE")}],total:Number(d.total||0)+m,saldo:Number(d.saldo||0)+m,timestamps:{...d.timestamps||{},actualizado:new Date().toISOString()}})}}}},JEe=({open:e,onOpenChange:t,pago:r,onSuccess:n})=>{const{register:s,handleSubmit:a,setValue:i,watch:l,reset:c,formState:{isSubmitting:u}}=$u({defaultValues:{metodoPago:"efectivo"}}),{toast:d}=La(),{user:f}=ui(),[h,p]=w.useState(null),x=l("metodoPago");w.useEffect(()=>{e&&(i("metodoPago",(r==null?void 0:r.metodoPago)||"efectivo"),i("numeroOperacion",(r==null?void 0:r.numeroOperacion)||""),i("observaciones",""),p(null))},[e,r,i]);const m=()=>{t(!1),c({metodoPago:"efectivo",numeroOperacion:"",observaciones:""}),p(null)},g=async _=>{if(r){if(!_.metodoPago){d({title:"Falta método de pago",description:"Selecciona un método de pago.",variant:"destructive"});return}try{let y="";h&&(y=`comprobantes/${Date.now()}_${h.name}`),await GEe(r.id,{estado:"pagado",fechaPago:new Date().toLocaleDateString("es-PE"),metodoPago:_.metodoPago,numeroOperacion:_.numeroOperacion||null,comprobantePago:y||null,observaciones:_.observaciones||void 0},(f==null?void 0:f.uid)||"system"),d({title:"Pago registrado",description:"El pago se ha registrado correctamente."}),n(),m()}catch(y){console.error(y),d({title:"Error",description:"No se pudo registrar el pago.",variant:"destructive"})}}};return o.jsx(fi,{open:e,onOpenChange:_=>_?t(_):m(),children:o.jsxs(Ua,{className:"sm:max-w-md",children:[o.jsx(Ba,{children:o.jsxs(Wa,{className:"flex items-center gap-2",children:[o.jsx(um,{className:"h-5 w-5"}),"Registrar Pago"]})}),o.jsxs("form",{onSubmit:a(g),className:"space-y-4",children:[r&&o.jsxs("div",{className:"p-3 bg-accent rounded-lg",children:[o.jsxs("p",{className:"text-sm font-medium",children:["Padrón: ",r.numeroPadron]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Periodo: ",r.mes,"/",r.año," — Monto: S/ ",Number(r.monto||0).toFixed(2)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{children:"Método de Pago"}),o.jsxs(hr,{value:x,onValueChange:_=>i("metodoPago",_,{shouldDirty:!0}),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar método"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"efectivo",children:"Efectivo"}),o.jsx(Te,{value:"transferencia",children:"Transferencia"}),o.jsx(Te,{value:"yape",children:"Yape"}),o.jsx(Te,{value:"plin",children:"Plin"})]})]})]}),x&&x!=="efectivo"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"numeroOperacion",children:"Número de Operación"}),o.jsx(Ce,{id:"numeroOperacion",placeholder:"Ingrese número de operación",...s("numeroOperacion")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"comprobante",children:"Comprobante de Pago"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ce,{id:"comprobante",type:"file",accept:"image/*,application/pdf",onChange:_=>{var y;return p(((y=_.target.files)==null?void 0:y[0])||null)},className:"flex-1"}),o.jsx(_e,{type:"button",variant:"outline",size:"sm",onClick:()=>p(null),children:o.jsx(wg,{className:"h-4 w-4"})})]}),h&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Archivo: ",h.name]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"observaciones",children:"Observaciones"}),o.jsx(ai,{id:"observaciones",rows:3,placeholder:"Observaciones adicionales (opcional)",...s("observaciones")})]}),o.jsxs(Wu,{children:[o.jsx(_e,{type:"button",variant:"outline",onClick:m,children:"Cancelar"}),o.jsx(_e,{type:"submit",disabled:u,children:u?"Guardando...":"Registrar Pago"})]})]})]})})},e2e=({open:e,onOpenChange:t,empadronadoId:r,onSuccess:n})=>{const{register:s,handleSubmit:a,setValue:i,reset:l}=$u(),{toast:c}=La(),[u,d]=w.useState(!1),[f,h]=w.useState(null),p=()=>{const m=document.createElement("a");m.href=`data:text/plain;charset=utf-8,PLANTILLA DE DECLARACIÓN JURADA

Nombre: _______________
DNI: _______________
Motivo del descuento: _______________

Firma del solicitante: _______________

Aprobación:
Presidente: _______________
Fiscal: _______________`,m.download="plantilla_declaracion_jurada.txt",document.body.appendChild(m),m.click(),document.body.removeChild(m),c({title:"Plantilla descargada",description:"Complete y firme la declaración jurada"})},x=async m=>{if(!f){c({title:"Error",description:"Debe subir el archivo de declaración jurada",variant:"destructive"});return}try{d(!0);const g=`declaraciones/${Date.now()}_${f.name}`;await KEe({empadronadoId:m.empadronadoId,tipoDescuento:m.tipoDescuento,porcentajeDescuento:m.porcentajeDescuento,motivo:m.motivo,archivo:g,estado:"pendiente",aprobadoPorPresidente:!1,aprobadoPorFiscal:!1}),c({title:"Declaración jurada enviada",description:"La declaración está pendiente de aprobación"}),n(),t(!1),l(),h(null)}catch{c({title:"Error",description:"No se pudo procesar la declaración jurada",variant:"destructive"})}finally{d(!1)}};return o.jsx(fi,{open:e,onOpenChange:t,children:o.jsxs(Ua,{className:"sm:max-w-md",children:[o.jsx(Ba,{children:o.jsxs(Wa,{className:"flex items-center gap-2",children:[o.jsx(_f,{className:"h-5 w-5"}),"Declaración Jurada de Descuento"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-3 bg-accent rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Proceso:"}),o.jsxs("ol",{className:"text-xs text-muted-foreground space-y-1",children:[o.jsx("li",{children:"1. Descargar plantilla"}),o.jsx("li",{children:"2. Completar y obtener firmas"}),o.jsx("li",{children:"3. Subir documento firmado"})]})]}),o.jsxs(_e,{onClick:p,variant:"outline",className:"w-full",children:[o.jsx(_g,{className:"h-4 w-4 mr-2"}),"Descargar Plantilla"]}),o.jsxs("form",{onSubmit:a(x),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"empadronadoId",children:"ID del Empadronado"}),o.jsx(Ce,{id:"empadronadoId",...s("empadronadoId",{required:!0}),defaultValue:r,placeholder:"ID del empadronado"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"tipoDescuento",children:"Tipo de Descuento"}),o.jsxs(hr,{onValueChange:m=>i("tipoDescuento",m),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar tipo"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"problemas_salud",children:"Problemas de Salud"}),o.jsx(Te,{value:"desempleo",children:"Desempleo"}),o.jsx(Te,{value:"situacion_economica",children:"Situación Económica"}),o.jsx(Te,{value:"otros",children:"Otros"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"porcentajeDescuento",children:"Porcentaje de Descuento (%)"}),o.jsx(Ce,{id:"porcentajeDescuento",type:"number",min:"0",max:"100",...s("porcentajeDescuento",{required:!0,valueAsNumber:!0}),placeholder:"Ej: 20"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"motivo",children:"Motivo del Descuento"}),o.jsx(ai,{id:"motivo",...s("motivo",{required:!0}),placeholder:"Describa el motivo del descuento",rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"archivo",children:"Declaración Jurada Firmada"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ce,{type:"file",accept:"application/pdf,image/*",onChange:m=>{var g;return h(((g=m.target.files)==null?void 0:g[0])||null)},className:"flex-1"}),o.jsx(_e,{type:"button",variant:"outline",size:"sm",children:o.jsx(wg,{className:"h-4 w-4"})})]}),f&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Archivo seleccionado: ",f.name]})]}),o.jsxs(Wu,{children:[o.jsx(_e,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),o.jsx(_e,{type:"submit",disabled:u,children:u?"Enviando...":"Enviar Declaración"})]})]})]})]})})},t2e=({open:e,onOpenChange:t,empadronadoId:r,onSuccess:n})=>{const{register:s,handleSubmit:a,setValue:i,reset:l}=$u(),{toast:c}=La(),[u,d]=w.useState(!1),[f,h]=w.useState(null),p=()=>{const m=document.createElement("a");m.href=`data:text/plain;charset=utf-8,PLANTILLA DE SANCIÓN

Empadronado: _______________
DNI: _______________
Tipo de sanción: _______________
Monto: S/ _______________
Motivo: _______________

Fecha: _______________

Firma del Fiscal: _______________
Sello: _______________`,m.download="plantilla_sancion.txt",document.body.appendChild(m),m.click(),document.body.removeChild(m),c({title:"Plantilla descargada",description:"Complete y firme la sanción"})},x=async m=>{if(!f){c({title:"Error",description:"Debe subir el archivo de sanción firmado",variant:"destructive"});return}try{d(!0);const g=`sanciones/${Date.now()}_${f.name}`;await XEe({empadronadoId:m.empadronadoId,tipoSancion:m.tipoSancion,montoSancion:m.montoSancion,motivo:m.motivo,archivo:g,aplicadoPor:"current-user-id",fechaAplicacion:new Date().toLocaleDateString("es-PE")}),c({title:"Sanción aplicada",description:"La sanción se ha aplicado correctamente"}),n(),t(!1),l(),h(null)}catch{c({title:"Error",description:"No se pudo aplicar la sanción",variant:"destructive"})}finally{d(!1)}};return o.jsx(fi,{open:e,onOpenChange:t,children:o.jsxs(Ua,{className:"sm:max-w-md",children:[o.jsx(Ba,{children:o.jsxs(Wa,{className:"flex items-center gap-2",children:[o.jsx(xo,{className:"h-5 w-5 text-destructive"}),"Aplicar Sanción"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium text-destructive mb-2",children:"Proceso:"}),o.jsxs("ol",{className:"text-xs text-destructive/80 space-y-1",children:[o.jsx("li",{children:"1. Descargar plantilla de sanción"}),o.jsx("li",{children:"2. Completar y obtener firma del fiscal"}),o.jsx("li",{children:"3. Subir documento firmado"})]})]}),o.jsxs(_e,{onClick:p,variant:"outline",className:"w-full",children:[o.jsx(_g,{className:"h-4 w-4 mr-2"}),"Descargar Plantilla de Sanción"]}),o.jsxs("form",{onSubmit:a(x),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"empadronadoId",children:"ID del Empadronado"}),o.jsx(Ce,{id:"empadronadoId",...s("empadronadoId",{required:!0}),defaultValue:r,placeholder:"ID del empadronado"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"tipoSancion",children:"Tipo de Sanción"}),o.jsxs(hr,{onValueChange:m=>i("tipoSancion",m),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar tipo"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"incumplimiento_estatutos",children:"Incumplimiento de Estatutos"}),o.jsx(Te,{value:"perturbacion_orden",children:"Perturbación del Orden"}),o.jsx(Te,{value:"danos_propiedad",children:"Daños a Propiedad Común"}),o.jsx(Te,{value:"morosidad_reiterada",children:"Morosidad Reiterada"}),o.jsx(Te,{value:"otros",children:"Otros"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"montoSancion",children:"Monto de la Sanción (S/)"}),o.jsx(Ce,{id:"montoSancion",type:"number",min:"0",step:"0.01",...s("montoSancion",{required:!0,valueAsNumber:!0}),placeholder:"Ej: 100.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"motivo",children:"Motivo de la Sanción"}),o.jsx(ai,{id:"motivo",...s("motivo",{required:!0}),placeholder:"Describa el motivo de la sanción",rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"archivo",children:"Sanción Firmada por el Fiscal"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ce,{type:"file",accept:"application/pdf,image/*",onChange:m=>{var g;return h(((g=m.target.files)==null?void 0:g[0])||null)},className:"flex-1"}),o.jsx(_e,{type:"button",variant:"outline",size:"sm",children:o.jsx(wg,{className:"h-4 w-4"})})]}),f&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Archivo seleccionado: ",f.name]})]}),o.jsxs(Wu,{children:[o.jsx(_e,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),o.jsx(_e,{type:"submit",disabled:u,variant:"destructive",children:u?"Aplicando...":"Aplicar Sanción"})]})]})]})]})})},tH=e=>String(e).padStart(2,"0"),r2e=e=>`${e.getFullYear()}-${tH(e.getMonth()+1)}`,n2e=e=>e.replace("-",""),s2e=(e,t)=>{const[r,n]=e.split("-").map(Number),[s,a]=t.split("-").map(Number);return(s-r)*12+(a-n)},a2e=(e,t)=>{const[r,n]=e.split("-").map(Number),s=new Date(r,n-1+t,1);return`${s.getFullYear()}-${tH(s.getMonth()+1)}`},i2e=async(e,t="2025-01")=>{var d;const r=new Date,n=r2e(r),s=s2e(t,n);let a=0,i=!1;const l=[],c=await Mt(Ge(qe,"cobranzas/configuracion")),u=c.exists()?c.val():{porcentajeMorosidad:10,diaVencimiento:15};for(let f=0;f<=s;f++){const h=a2e(t,f),p=`cobranzas/charges/${n2e(h)}/${e}`,x=await Mt(Ge(qe,p));if(!x.exists())continue;const m=x.val();for(const g of Object.keys(m)){const _=m[g];let y=Number((_==null?void 0:_.saldo)??0),S=(_==null?void 0:_.estado)??"pendiente";if(S==="pendiente"&&_.vencimiento){const[E,C,P]=_.vencimiento.split("/"),N=new Date(Number(P),Number(C)-1,Number(E));if(r>N&&y>0&&(S="moroso",!((d=_.recargos)==null?void 0:d.some(j=>j.tipo==="morosidad")))){const j=Number(_.montoBase||0)*(u.porcentajeMorosidad||10)/100;y+=j}}(S==="pendiente"||S==="moroso")&&(a+=y,l.push({periodo:h,saldo:y,estado:S}),S==="moroso"&&(i=!0))}}return{total:a,moroso:i,items:l}},o2e=({open:e,onOpenChange:t,empadronado:r,onRegistrarPago:n})=>{const[s,a]=w.useState({total:0,moroso:!1,items:[]}),[i,l]=w.useState(!1);w.useEffect(()=>{r&&e&&c()},[r,e]);const c=async()=>{if(r){l(!0);try{const h=await i2e(r.id);a(h)}catch(h){console.error("Error cargando deuda:",h)}finally{l(!1)}}},u=()=>r?`${window.location.origin}/consulta-deuda?dni=${r.dni}&padron=${r.numeroPadron}`:"",d=()=>{navigator.clipboard.writeText(u()),RT.success("Link copiado al portapapeles")},f=(h,p)=>{const[x,m]=h.split("-").map(Number),g={id:"",empadronadoId:r.id,numeroPadron:r.numeroPadron,año:x,mes:m,monto:p,montoOriginal:p,estado:"pendiente",fechaVencimiento:"15/"+String(m).padStart(2,"0")+"/"+x,metodoPago:"efectivo",descuentos:[],recargos:[],createdAt:Date.now(),updatedAt:Date.now(),creadoPor:"admin"};n(g)};return r?o.jsx(fi,{open:e,onOpenChange:t,children:o.jsxs(Ua,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ba,{children:o.jsxs(Wa,{className:"flex items-center gap-2",children:[o.jsx(Du,{className:"h-5 w-5"}),"Detalle del Asociado"]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsx(Ze,{className:"text-lg",children:"Información Personal"})}),o.jsxs(Ae,{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Nombre Completo"}),o.jsxs("p",{className:"font-medium",children:[r.nombre," ",r.apellidos]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"DNI"}),o.jsx("p",{className:"font-medium",children:r.dni})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Número de Padrón"}),o.jsx("p",{className:"font-medium",children:r.numeroPadron})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Ubicación"}),o.jsx("p",{className:"font-medium",children:r.manzana&&r.lote?`Mz. ${r.manzana} Lt. ${r.lote}`:"No especificada"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Estado"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(pt,{variant:r.habilitado?"default":"secondary",children:r.habilitado?"Habilitado":"No habilitado"}),s.moroso&&o.jsx(pt,{variant:"destructive",children:"Moroso"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Deuda Total"}),o.jsxs("p",{className:`font-bold text-lg ${s.total>0?"text-destructive":"text-green-600"}`,children:["S/ ",s.total.toFixed(2)]})]})]})]}),o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"text-lg flex items-center gap-2",children:[o.jsx(bre,{className:"h-5 w-5"}),"Link de Consulta para el Vecino"]})}),o.jsxs(Ae,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:u(),readOnly:!0,className:"flex-1 p-2 border rounded text-sm bg-muted"}),o.jsxs(_e,{onClick:d,variant:"outline",size:"sm",children:[o.jsx(E$,{className:"h-4 w-4 mr-2"}),"Copiar"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"El vecino puede usar este link para consultar su deuda y descargar comprobantes"})]})]}),o.jsxs(Of,{defaultValue:"deuda",children:[o.jsxs(zu,{className:"grid w-full grid-cols-2",children:[o.jsx(Br,{value:"deuda",children:"Estado de Cuenta"}),o.jsx(Br,{value:"comprobantes",children:"Comprobantes"})]}),o.jsxs(Wr,{value:"deuda",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Estado de Cuenta"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total de periodos: ",s.items.length]})]}),i?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(um,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 animate-spin"}),o.jsx("p",{className:"text-muted-foreground",children:"Cargando estado de cuenta..."})]}):s.items.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(um,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No hay deudas registradas"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"El asociado está al día con sus pagos"})]}):o.jsx("div",{className:"space-y-3",children:s.items.map((h,p)=>{const[x,m]=h.periodo.split("-").map(Number),g=`15/${String(m).padStart(2,"0")}/${x}`;return o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsxs("p",{className:"font-medium",children:["Periodo ",String(m).padStart(2,"0"),"/",x]}),o.jsx(pt,{variant:h.estado==="pagado"?"default":h.estado==="moroso"?"destructive":"secondary",children:h.estado})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vencimiento: ",g]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Cuota mensual"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-bold",children:["S/ ",h.saldo.toFixed(2)]}),h.estado==="moroso"&&o.jsx("p",{className:"text-xs text-destructive",children:"Incluye recargo por morosidad"})]}),h.estado!=="pagado"&&o.jsxs(_e,{size:"sm",onClick:()=>f(h.periodo,h.saldo),className:"ml-2",children:[o.jsx(fv,{className:"h-4 w-4 mr-1"}),"Pagar"]})]})]},p)})})]}),o.jsxs(Wr,{value:"comprobantes",className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h3",{className:"text-lg font-semibold",children:"Comprobantes de Pago"})}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx(_f,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Funcionalidad en desarrollo"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Los comprobantes se mostrarán aquí una vez que se implementen los pagos"})]})]})]})]})]})}):null},l2e=e=>{if(!e)return null;const[t,r,n]=e.split("/").map(Number);return!t||!r||!n?null:new Date(n,r-1,t)},c2e=()=>new Date,td=e=>{const t=l2e(e.fechaVencimiento),r=t?t.getTime()<c2e().getTime():!1;return e.estado==="moroso"||r&&(e.estado==="pendiente"||e.estado==="sancionado")},u2e=()=>{const{user:e}=ui(),{toast:t}=La(),[r,n]=w.useState(null),[s,a]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState({}),[h,p]=w.useState(!0),[x,m]=w.useState(!1),[g,_]=w.useState(null),[y,S]=w.useState(!1),[E,C]=w.useState("todos"),[P,N]=w.useState({open:!1}),[A,j]=w.useState({open:!1}),[O,W]=w.useState({open:!1}),[z,Y]=w.useState({open:!1}),J=async()=>{if(g)try{S(!0),await VEe(g),t({title:"Configuración guardada",description:"Los cambios se han guardado correctamente"})}catch{t({title:"Error",description:"No se pudo guardar la configuración",variant:"destructive"})}finally{S(!1)}},ie=(F,L)=>{g&&_({...g,[F]:L})},oe=async()=>{if(e)try{p(!0),await V4(e.uid),t({title:"Éxito",description:"Se generaron todas las cuotas desde enero 2025"}),await re(!0)}catch{t({title:"Error",description:"No se pudieron generar las cuotas históricas",variant:"destructive"})}finally{p(!1)}};w.useEffect(()=>{re()},[]);const re=async(F=!1)=>{try{p(!0);const[L,I,U,X,de]=await Promise.all([QEe(),Jz(),eH(),Tf(),NA()]);if(_(de),!x&&X.length>0&&I.length===0)try{if(await V4((e==null?void 0:e.uid)||"system"),m(!0),t({title:"Inicialización automática",description:"Se generaron los cargos desde enero 2025 para todos los asociados."}),!F){await re(!0);return}}catch{}a(I.slice(0,10)),l(U.slice(0,10)),u(X);const ye={};for(const mt of X){const lt=await YEe(mt.id);ye[mt.id]=lt}f(ye);let me=0;const Ue=new Set;Object.entries(ye).forEach(([mt,lt])=>{let Kt=!1;for(const ut of lt){const Ie=td(ut);Ie&&(Kt=!0),(ut.estado==="pendiente"||Ie)&&(me+=Number(ut.monto||0))}Kt&&Ue.add(mt)});const We={totalEmpadronados:L.totalEmpadronados,totalRecaudado:L.totalRecaudado,totalPendiente:me,totalMorosos:Ue.size,tasaCobranza:L.tasaCobranza,ingresosMes:L.ingresosMes,egresosMes:L.egresosMes,saldoActual:L.saldoActual};n(We)}catch{t({title:"Error",description:"No se pudieron cargar los datos de cobranzas",variant:"destructive"})}finally{p(!1)}},Z=async()=>{if(e)try{await ZEe(e.uid),t({title:"Éxito",description:"Cierre mensual ejecutado correctamente"}),re()}catch{t({title:"Error",description:"No se pudo ejecutar el cierre mensual",variant:"destructive"})}},ae=F=>(d[F]||[]).filter(I=>I.estado==="pendiente"||td(I)).reduce((I,U)=>I+Number(U.monto||0),0),ge=F=>{const L=d[F]||[];return L.some(td)?"moroso":L.some(X=>X.estado==="pendiente"&&!td(X))?"pendiente":"al_dia"},se=c.filter(F=>{const L=d[F.id]||[];switch(E){case"morosos":return L.some(td);case"pendientes":return L.some(I=>I.estado==="pendiente"&&!td(I));case"aldia":return L.every(I=>I.estado==="pagado"||!td(I)&&I.estado!=="moroso");default:return!0}});if(h)return o.jsx("div",{className:"min-h-screen bg-background pb-20 md:pb-0 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx($l,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 animate-spin"}),o.jsx("p",{className:"text-muted-foreground",children:"Cargando datos de cobranzas..."})]})});const R={todos:"Todos",morosos:"Morosos",pendientes:"Pendientes",aldia:"Al día"};return o.jsxs("div",{className:"min-h-screen bg-background pb-20 md:pb-0",children:[o.jsx(Jd,{}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>window.location.href="/",className:"gap-2",children:[o.jsx(Wi,{className:"w-4 h-4"}),"Inicio"]}),o.jsx("div",{className:"h-6 w-px bg-border"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Cobranzas"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestión de pagos y cuotas mensuales"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(_e,{onClick:oe,disabled:h,children:[o.jsx(gs,{className:"h-4 w-4 mr-2"}),"Generar Desde Enero 2025"]}),o.jsxs(_e,{onClick:Z,children:[o.jsx(gs,{className:"h-4 w-4 mr-2"}),"Ejecutar Cierre"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(ke,{className:"border-success/20 bg-success/5 cursor-pointer",onClick:()=>C("todos"),title:"Quitar filtro",children:o.jsx(Ae,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mk,{className:"h-5 w-5 text-success"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-success font-medium",children:"Recaudado"}),o.jsxs("p",{className:"text-xl font-bold text-success",children:["S/ ",(r==null?void 0:r.totalRecaudado.toFixed(2))||"0.00"]})]})]})})}),o.jsx(ke,{className:"border-warning/20 bg-warning/5 hover:bg-warning/10 cursor-pointer",onClick:()=>C("pendientes"),title:"Ver solo pendientes",children:o.jsx(Ae,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(fv,{className:"h-5 w-5 text-warning"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-warning font-medium",children:"Pendiente"}),o.jsxs("p",{className:"text-xl font-bold text-warning",children:["S/ ",(r==null?void 0:r.totalPendiente.toFixed(2))||"0.00"]})]})]})})}),o.jsx(ke,{className:"border-destructive/20 bg-destructive/5 hover:bg-destructive/10 cursor-pointer",onClick:()=>C("morosos"),title:"Ver solo morosos",children:o.jsx(Ae,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(S$,{className:"h-5 w-5 text-destructive"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-destructive font-medium",children:"Morosos"}),o.jsx("p",{className:"text-xl font-bold text-destructive",children:(r==null?void 0:r.totalMorosos)||0})]})]})})}),o.jsx(ke,{className:"border-primary/20 bg-primary/5",children:o.jsx(Ae,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(aa,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-primary font-medium",children:"Tasa Cobranza"}),o.jsxs("p",{className:"text-xl font-bold text-primary",children:[(r==null?void 0:r.tasaCobranza.toFixed(1))||"0.0","%"]})]})]})})})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs(_e,{variant:"outline",className:"h-auto p-4 flex flex-col space-y-2",onClick:()=>N({open:!0}),children:[o.jsx(um,{className:"h-6 w-6"}),o.jsx("span",{className:"text-sm",children:"Registrar Ingreso"})]}),o.jsxs(_e,{variant:"outline",className:"h-auto p-4 flex flex-col space-y-2",onClick:()=>j({open:!0}),children:[o.jsx(_g,{className:"h-6 w-6"}),o.jsx("span",{className:"text-sm",children:"Plantilla Descuento"})]}),o.jsxs(_e,{variant:"outline",className:"h-auto p-4 flex flex-col space-y-2",onClick:()=>W({open:!0}),children:[o.jsx(wg,{className:"h-6 w-6"}),o.jsx("span",{className:"text-sm",children:"Subir Sanción"})]}),o.jsxs(_e,{variant:"outline",className:"h-auto p-4 flex flex-col space-y-2",children:[o.jsx(_f,{className:"h-6 w-6"}),o.jsx("span",{className:"text-sm",children:"Reportes"})]})]}),E!=="todos"&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(pt,{variant:"outline",children:["Filtro: ",R[E]]}),o.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>C("todos"),children:"Quitar filtro"})]}),o.jsxs(Of,{defaultValue:"empadronados",className:"space-y-4",children:[o.jsxs(zu,{className:"grid w-full grid-cols-4",children:[o.jsx(Br,{value:"empadronados",children:"Asociados"}),o.jsx(Br,{value:"pagos",children:"Pagos Recientes"}),o.jsx(Br,{value:"egresos",children:"Egresos"}),o.jsx(Br,{value:"configuracion",children:"Configuración"})]}),o.jsx(Wr,{value:"empadronados",children:o.jsx(ke,{children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(C$,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Lista de Asociados y Estado de Pagos"})]}),o.jsx("div",{className:"space-y-4",children:se.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(aa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No se encontraron asociados con el filtro actual"})]}):o.jsx("div",{className:"grid gap-4",children:se.map(F=>{var X;const L=ae(F.id),I=ge(F.id),U=((X=d[F.id])==null?void 0:X.length)||0;return o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"font-semibold text-sm",children:[F.nombre," ",F.apellidos]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Padrón: ",F.numeroPadron," • DNI: ",F.dni,F.manzana&&F.lote?` • Mz. ${F.manzana} Lt. ${F.lote}`:""]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium",children:["Deuda Total: S/ ",L.toFixed(2)]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[U," pagos generados"]})]}),o.jsx(pt,{variant:I==="al_dia"?"default":I==="moroso"?"destructive":"secondary",children:I==="al_dia"?"Al día":I==="moroso"?"Moroso":"Pendiente"}),o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>Y({open:!0,empadronado:F}),children:"Ver Detalles"})]})]},F.id)})})})]})})}),o.jsx(Wr,{value:"pagos",children:o.jsx(ke,{children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"font-semibold mb-2",children:"Últimos Pagos Registrados"}),o.jsx("div",{className:"space-y-4",children:s.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(um,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No hay pagos registrados"})]}):s.map(F=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"font-medium text-sm",children:["Padrón: ",F.numeroPadron]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.mes,"/",F.año," - Vence: ",F.fechaVencimiento]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(pt,{variant:F.estado==="pagado"?"default":F.estado==="moroso"||F.estado==="sancionado"?"destructive":"secondary",children:["S/ ",F.monto.toFixed(2)]}),o.jsx(pt,{variant:"outline",children:F.estado})]})]},F.id))})]})})}),o.jsx(Wr,{value:"egresos",children:o.jsx(ke,{children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"font-semibold mb-2",children:"Últimos Egresos Registrados"}),o.jsx("div",{className:"space-y-4",children:i.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(fv,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No hay egresos registrados"})]}):i.map(F=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",children:F.concepto}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.fecha," - ",F.categoria]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(pt,{variant:"destructive",children:["-S/ ",F.monto.toFixed(2)]}),o.jsx(pt,{variant:"outline",children:F.estado})]})]},F.id))})]})})}),o.jsx(Wr,{value:"configuracion",children:o.jsx(ke,{children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Configuración de Cobranzas"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure los parámetros del sistema de cobranzas"})]}),o.jsx(_e,{onClick:J,disabled:y,children:y?"Guardando...":"Guardar Cambios"})]}),g&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"montoMensual",children:"Monto Mensual (S/)"}),o.jsx(Ce,{id:"montoMensual",type:"number",step:"0.01",value:g.montoMensual,onChange:F=>ie("montoMensual",parseFloat(F.target.value)||0),placeholder:"50.00"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Cuota mensual que se cobrará a cada asociado"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"diaCierre",children:"Día de Cierre del Mes"}),o.jsx(Ce,{id:"diaCierre",type:"number",min:"1",max:"28",value:g.diaCierre,onChange:F=>ie("diaCierre",parseInt(F.target.value)||15),placeholder:"15"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Día del mes en que se ejecuta el cierre mensual"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"diaVencimiento",children:"Día de Vencimiento"}),o.jsx(Ce,{id:"diaVencimiento",type:"number",min:"1",max:"31",value:g.diaVencimiento,onChange:F=>ie("diaVencimiento",parseInt(F.target.value)||15),placeholder:"15"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Día del mes en que vencen los pagos"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"diasProntoPago",children:"Días para Pronto Pago"}),o.jsx(Ce,{id:"diasProntoPago",type:"number",min:"1",max:"15",value:g.diasProntoPago,onChange:F=>ie("diasProntoPago",parseInt(F.target.value)||3),placeholder:"3"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Días desde inicio del mes para aplicar descuento por pronto pago"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"porcentajeProntoPago",children:"Descuento Pronto Pago (%)"}),o.jsx(Ce,{id:"porcentajeProntoPago",type:"number",step:"0.1",min:"0",max:"50",value:g.porcentajeProntoPago,onChange:F=>ie("porcentajeProntoPago",parseFloat(F.target.value)||0),placeholder:"5.0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Porcentaje de descuento para pagos por pronto pago"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"porcentajeMorosidad",children:"Recargo por Morosidad (%)"}),o.jsx(Ce,{id:"porcentajeMorosidad",type:"number",step:"0.1",min:"0",max:"100",value:g.porcentajeMorosidad,onChange:F=>ie("porcentajeMorosidad",parseFloat(F.target.value)||0),placeholder:"10.0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Porcentaje de recargo para pagos vencidos"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"porcentajeSancion",children:"Recargo por Sanción (%)"}),o.jsx(Ce,{id:"porcentajeSancion",type:"number",step:"0.1",min:"0",max:"100",value:g.porcentajeSancion,onChange:F=>ie("porcentajeSancion",parseFloat(F.target.value)||0),placeholder:"15.0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Porcentaje de recargo por sanciones aplicadas"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"serieComprobantes",children:"Serie de Comprobantes"}),o.jsx(Ce,{id:"serieComprobantes",type:"text",value:g.serieComprobantes,onChange:F=>ie("serieComprobantes",F.target.value),placeholder:"B001"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Serie para generar comprobantes de pago"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"sede",children:"Sede"}),o.jsx(Ce,{id:"sede",type:"text",value:g.sede,onChange:F=>ie("sede",F.target.value),placeholder:"Sede Principal"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Nombre de la sede de la organización"})]})]}),!g&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx($l,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Cargando configuración..."})]})]})})})]})]}),o.jsx(_m,{}),o.jsx(JEe,{open:P.open,onOpenChange:F=>N({open:F}),pago:P.pago,onSuccess:re}),o.jsx(e2e,{open:A.open,onOpenChange:F=>j({open:F}),empadronadoId:A.empadronadoId,onSuccess:re}),o.jsx(t2e,{open:O.open,onOpenChange:F=>W({open:F}),empadronadoId:O.empadronadoId,onSuccess:re}),o.jsx(o2e,{open:z.open,onOpenChange:F=>Y({open:F}),empadronado:z.empadronado||null,onRegistrarPago:F=>{Y({open:!1}),N({open:!0,pago:F})}})]})};function er(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Da(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Os(e,t){const r=er(e);return isNaN(t)?Da(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Xi(e,t){const r=er(e);if(isNaN(t))return Da(e,NaN);if(!t)return r;const n=r.getDate(),s=Da(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const kA=6048e5,d2e=864e5;let f2e={};function Kg(){return f2e}function $o(e,t){var l,c,u,d;const r=Kg(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=er(e),a=s.getDay(),i=(a<n?7:0)+a-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function of(e){return $o(e,{weekStartsOn:1})}function rH(e){const t=er(e),r=t.getFullYear(),n=Da(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=of(n),a=Da(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const i=of(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Em(e){const t=er(e);return t.setHours(0,0,0,0),t}function I_(e){const t=er(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function To(e,t){const r=Em(e),n=Em(t),s=+r-I_(r),a=+n-I_(n);return Math.round((s-a)/d2e)}function h2e(e){const t=rH(e),r=Da(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),of(r)}function AC(e,t){const r=t*7;return Os(e,r)}function m2e(e,t){return Xi(e,t*12)}function p2e(e){let t;return e.forEach(function(r){const n=er(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function v2e(e){let t;return e.forEach(r=>{const n=er(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function ta(e,t){const r=Em(e),n=Em(t);return+r==+n}function jA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function g2e(e){if(!jA(e)&&typeof e!="number")return!1;const t=er(e);return!isNaN(Number(t))}function zv(e,t){const r=er(e),n=er(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function x2e(e,t,r){const n=$o(e,r),s=$o(t,r),a=+n-I_(n),i=+s-I_(s);return Math.round((a-i)/kA)}function AA(e){const t=er(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function oa(e){const t=er(e);return t.setDate(1),t.setHours(0,0,0,0),t}function nH(e){const t=er(e),r=Da(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function PA(e,t){var l,c,u,d;const r=Kg(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=er(e),a=s.getDay(),i=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function sH(e){return PA(e,{weekStartsOn:1})}const y2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_2e=(e,t,r)=>{let n;const s=y2e[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Vh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const w2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},b2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},S2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},E2e={date:Vh({formats:w2e,defaultWidth:"full"}),time:Vh({formats:b2e,defaultWidth:"full"}),dateTime:Vh({formats:S2e,defaultWidth:"full"})},T2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},C2e=(e,t,r,n)=>T2e[e];function _o(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const N2e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},k2e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},j2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},A2e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},P2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},O2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},D2e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},R2e={ordinalNumber:D2e,era:_o({values:N2e,defaultWidth:"wide"}),quarter:_o({values:k2e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_o({values:j2e,defaultWidth:"wide"}),day:_o({values:A2e,defaultWidth:"wide"}),dayPeriod:_o({values:P2e,defaultWidth:"wide",formattingValues:O2e,defaultFormattingWidth:"wide"})};function wo(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?M2e(l,f=>f.test(i)):I2e(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function I2e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function M2e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function aH(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const F2e=/^(\d+)(th|st|nd|rd)?/i,L2e=/\d+/i,$2e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},U2e={any:[/^b/i,/^(a|c)/i]},B2e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W2e={any:[/1/i,/2/i,/3/i,/4/i]},V2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},z2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},H2e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Y2e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G2e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},q2e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},K2e={ordinalNumber:aH({matchPattern:F2e,parsePattern:L2e,valueCallback:e=>parseInt(e,10)}),era:wo({matchPatterns:$2e,defaultMatchWidth:"wide",parsePatterns:U2e,defaultParseWidth:"any"}),quarter:wo({matchPatterns:B2e,defaultMatchWidth:"wide",parsePatterns:W2e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wo({matchPatterns:V2e,defaultMatchWidth:"wide",parsePatterns:z2e,defaultParseWidth:"any"}),day:wo({matchPatterns:H2e,defaultMatchWidth:"wide",parsePatterns:Y2e,defaultParseWidth:"any"}),dayPeriod:wo({matchPatterns:G2e,defaultMatchWidth:"any",parsePatterns:q2e,defaultParseWidth:"any"})},iH={code:"en-US",formatDistance:_2e,formatLong:E2e,formatRelative:C2e,localize:R2e,match:K2e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X2e(e){const t=er(e);return To(t,nH(t))+1}function oH(e){const t=er(e),r=+of(t)-+h2e(t);return Math.round(r/kA)+1}function lH(e,t){var d,f,h,p;const r=er(e),n=r.getFullYear(),s=Kg(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=Da(e,0);i.setFullYear(n+1,0,a),i.setHours(0,0,0,0);const l=$o(i,t),c=Da(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=$o(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Q2e(e,t){var l,c,u,d;const r=Kg(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=lH(e,t),a=Da(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),$o(a,t)}function cH(e,t){const r=er(e),n=+$o(r,t)-+Q2e(r,t);return Math.round(n/kA)+1}function xr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const wc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return xr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):xr(r+1,2)},d(e,t){return xr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return xr(e.getHours()%12||12,t.length)},H(e,t){return xr(e.getHours(),t.length)},m(e,t){return xr(e.getMinutes(),t.length)},s(e,t){return xr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return xr(s,t.length)}},Jf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},z4={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return wc.y(e,t)},Y:function(e,t,r,n){const s=lH(e,n),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return xr(i,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):xr(a,t.length)},R:function(e,t){const r=rH(e);return xr(r,t.length)},u:function(e,t){const r=e.getFullYear();return xr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return xr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return xr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return wc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return xr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=cH(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):xr(s,t.length)},I:function(e,t,r){const n=oH(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):xr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):wc.d(e,t)},D:function(e,t,r){const n=X2e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):xr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return xr(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return xr(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return xr(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Jf.noon:n===0?s=Jf.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Jf.evening:n>=12?s=Jf.afternoon:n>=4?s=Jf.morning:s=Jf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return wc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):wc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):xr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):xr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):wc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):wc.s(e,t)},S:function(e,t){return wc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Y4(n);case"XXXX":case"XX":return cd(n);case"XXXXX":case"XXX":default:return cd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Y4(n);case"xxxx":case"xx":return cd(n);case"xxxxx":case"xxx":default:return cd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+H4(n,":");case"OOOO":default:return"GMT"+cd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+H4(n,":");case"zzzz":default:return"GMT"+cd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return xr(n,t.length)},T:function(e,t,r){const n=e.getTime();return xr(n,t.length)}};function H4(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+xr(a,2)}function Y4(e,t){return e%60===0?(e>0?"-":"+")+xr(Math.abs(e)/60,2):cd(e,t)}function cd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=xr(Math.trunc(n/60),2),a=xr(n%60,2);return r+s+t+a}const G4=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uH=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Z2e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return G4(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",G4(n,t)).replace("{{time}}",uH(s,t))},J2e={p:uH,P:Z2e},eTe=/^D+$/,tTe=/^Y+$/,rTe=["D","DD","YY","YYYY"];function nTe(e){return eTe.test(e)}function sTe(e){return tTe.test(e)}function aTe(e,t,r){const n=iTe(e,t,r);if(console.warn(n),rTe.includes(e))throw new RangeError(n)}function iTe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cTe=/^'([^]*?)'?$/,uTe=/''/g,dTe=/[a-zA-Z]/;function Hu(e,t,r){var d,f,h,p,x,m,g,_;const n=Kg(),s=(r==null?void 0:r.locale)??n.locale??iH,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((m=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((_=(g=n.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,l=er(e);if(!g2e(l))throw new RangeError("Invalid time value");let c=t.match(lTe).map(y=>{const S=y[0];if(S==="p"||S==="P"){const E=J2e[S];return E(y,s.formatLong)}return y}).join("").match(oTe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const S=y[0];if(S==="'")return{isToken:!1,value:fTe(y)};if(z4[S])return{isToken:!0,value:y};if(S.match(dTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const S=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&sTe(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&nTe(S))&&aTe(S,t,String(e));const E=z4[S[0]];return E(l,S,s.localize,u)}).join("")}function fTe(e){const t=e.match(cTe);return t?t[1].replace(uTe,"'"):e}function hTe(e){const t=er(e),r=t.getFullYear(),n=t.getMonth(),s=Da(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function mTe(e){return Math.trunc(+er(e)/1e3)}function pTe(e){const t=er(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function vTe(e,t){return x2e(pTe(e),oa(e),t)+1}function PC(e,t){const r=er(e),n=er(t);return r.getTime()>n.getTime()}function dH(e,t){const r=er(e),n=er(t);return+r<+n}function OA(e,t){const r=er(e),n=er(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function gTe(e,t){const r=er(e),n=er(t);return r.getFullYear()===n.getFullYear()}function t2(e,t){return Os(e,-t)}function r2(e,t){const r=er(e),n=r.getFullYear(),s=r.getDate(),a=Da(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const i=hTe(a);return r.setMonth(t,Math.min(s,i)),r}function q4(e,t){const r=er(e);return isNaN(+r)?Da(e,NaN):(r.setFullYear(t),r)}const xTe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},yTe=(e,t,r)=>{let n;const s=xTe[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},_Te={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},wTe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},bTe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},STe={date:Vh({formats:_Te,defaultWidth:"full"}),time:Vh({formats:wTe,defaultWidth:"full"}),dateTime:Vh({formats:bTe,defaultWidth:"full"})},ETe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},TTe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},CTe=(e,t,r,n)=>t.getHours()!==1?TTe[e]:ETe[e],NTe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},kTe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},jTe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},ATe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},PTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},OTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},DTe=(e,t)=>Number(e)+"º",RTe={ordinalNumber:DTe,era:_o({values:NTe,defaultWidth:"wide"}),quarter:_o({values:kTe,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:_o({values:jTe,defaultWidth:"wide"}),day:_o({values:ATe,defaultWidth:"wide"}),dayPeriod:_o({values:PTe,defaultWidth:"wide",formattingValues:OTe,defaultFormattingWidth:"wide"})},ITe=/^(\d+)(º)?/i,MTe=/\d+/i,FTe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},LTe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},$Te={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},UTe={any:[/1/i,/2/i,/3/i,/4/i]},BTe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},WTe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},VTe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},zTe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},HTe={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},YTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},GTe={ordinalNumber:aH({matchPattern:ITe,parsePattern:MTe,valueCallback:function(e){return parseInt(e,10)}}),era:wo({matchPatterns:FTe,defaultMatchWidth:"wide",parsePatterns:LTe,defaultParseWidth:"any"}),quarter:wo({matchPatterns:$Te,defaultMatchWidth:"wide",parsePatterns:UTe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wo({matchPatterns:BTe,defaultMatchWidth:"wide",parsePatterns:WTe,defaultParseWidth:"any"}),day:wo({matchPatterns:VTe,defaultMatchWidth:"wide",parsePatterns:zTe,defaultParseWidth:"any"}),dayPeriod:wo({matchPatterns:HTe,defaultMatchWidth:"any",parsePatterns:YTe,defaultParseWidth:"any"})},qTe={code:"es",formatDistance:yTe,formatLong:STe,formatRelative:CTe,localize:RTe,match:GTe,options:{weekStartsOn:1,firstWeekContainsDate:1}};var yt=function(){return yt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},yt.apply(this,arguments)};function KTe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function fH(e,t,r){for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Xg(e){return e.mode==="multiple"}function Qg(e){return e.mode==="range"}function Ab(e){return e.mode==="single"}var XTe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function QTe(e,t){return Hu(e,"LLLL y",t)}function ZTe(e,t){return Hu(e,"d",t)}function JTe(e,t){return Hu(e,"LLLL",t)}function eCe(e){return"".concat(e)}function tCe(e,t){return Hu(e,"cccccc",t)}function rCe(e,t){return Hu(e,"yyyy",t)}var nCe=Object.freeze({__proto__:null,formatCaption:QTe,formatDay:ZTe,formatMonthCaption:JTe,formatWeekNumber:eCe,formatWeekdayName:tCe,formatYearCaption:rCe}),sCe=function(e,t,r){return Hu(e,"do MMMM (EEEE)",r)},aCe=function(){return"Month: "},iCe=function(){return"Go to next month"},oCe=function(){return"Go to previous month"},lCe=function(e,t){return Hu(e,"cccc",t)},cCe=function(e){return"Week n. ".concat(e)},uCe=function(){return"Year: "},dCe=Object.freeze({__proto__:null,labelDay:sCe,labelMonthDropdown:aCe,labelNext:iCe,labelPrevious:oCe,labelWeekNumber:cCe,labelWeekday:lCe,labelYearDropdown:uCe});function fCe(){var e="buttons",t=XTe,r=iH,n={},s={},a=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:nCe,labels:dCe,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:i,today:l,mode:"default"}}function hCe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,a=e.fromDate,i=e.toDate;return n?a=oa(n):t&&(a=new Date(t,0,1)),s?i=AA(s):r&&(i=new Date(r,11,31)),{fromDate:a?Em(a):void 0,toDate:i?Em(i):void 0}}var hH=w.createContext(void 0);function mCe(e){var t,r=e.initialProps,n=fCe(),s=hCe(r),a=s.fromDate,i=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!i)&&(l="buttons");var c;(Ab(r)||Xg(r)||Qg(r))&&(c=r.onSelect);var u=yt(yt(yt({},n),r),{captionLayout:l,classNames:yt(yt({},n.classNames),r.classNames),components:yt({},r.components),formatters:yt(yt({},n.formatters),r.formatters),fromDate:a,labels:yt(yt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:yt(yt({},n.modifiers),r.modifiers),modifiersClassNames:yt(yt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:yt(yt({},n.styles),r.styles),toDate:i});return o.jsx(hH.Provider,{value:u,children:e.children})}function Rr(){var e=w.useContext(hH);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function mH(e){var t=Rr(),r=t.locale,n=t.classNames,s=t.styles,a=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function pCe(e){return o.jsx("svg",yt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function pH(e){var t,r,n=e.onChange,s=e.value,a=e.children,i=e.caption,l=e.className,c=e.style,u=Rr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:pCe;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:a}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function vCe(e){var t,r=Rr(),n=r.fromDate,s=r.toDate,a=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var f=[];if(gTe(n,s))for(var h=oa(n),p=n.getMonth();p<=s.getMonth();p++)f.push(r2(h,p));else for(var h=oa(new Date),p=0;p<=11;p++)f.push(r2(h,p));var x=function(g){var _=Number(g.target.value),y=r2(oa(e.displayMonth),_);e.onChange(y)},m=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:pH;return o.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:f.map(function(g){return o.jsx("option",{value:g.getMonth(),children:l(g,{locale:i})},g.getMonth())})})}function gCe(e){var t,r=e.displayMonth,n=Rr(),s=n.fromDate,a=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!s)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});for(var p=s.getFullYear(),x=a.getFullYear(),m=p;m<=x;m++)h.push(q4(nH(new Date),m));var g=function(y){var S=q4(oa(r),Number(y.target.value));e.onChange(S)},_=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:pH;return o.jsx(_,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:d(r,{locale:i}),children:h.map(function(y){return o.jsx("option",{value:y.getFullYear(),children:d(y,{locale:i})},y.getFullYear())})})}function xCe(e,t){var r=w.useState(e),n=r[0],s=r[1],a=t===void 0?n:t;return[a,s]}function yCe(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,a=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&zv(a,s)<0){var u=-1*(c-1);s=Xi(a,u)}return i&&zv(s,i)<0&&(s=i),oa(s)}function _Ce(){var e=Rr(),t=yCe(e),r=xCe(t,e.month),n=r[0],s=r[1],a=function(i){var l;if(!e.disableNavigation){var c=oa(i);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,a]}function wCe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=oa(e),a=oa(Xi(s,n)),i=zv(a,s),l=[],c=0;c<i;c++){var u=Xi(s,c);l.push(u)}return r&&(l=l.reverse()),l}function bCe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=n?a:1,l=oa(e);if(!r)return Xi(l,i);var c=zv(r,e);if(!(c<a))return Xi(l,i)}}function SCe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=n?a:1,l=oa(e);if(!r)return Xi(l,-i);var c=zv(l,r);if(!(c<=0))return Xi(l,-i)}}var vH=w.createContext(void 0);function ECe(e){var t=Rr(),r=_Ce(),n=r[0],s=r[1],a=wCe(n,t),i=bCe(n,t),l=SCe(n,t),c=function(f){return a.some(function(h){return OA(f,h)})},u=function(f,h){c(f)||(h&&dH(f,h)?s(Xi(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return o.jsx(vH.Provider,{value:d,children:e.children})}function Zg(){var e=w.useContext(vH);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function K4(e){var t,r=Rr(),n=r.classNames,s=r.styles,a=r.components,i=Zg().goToMonth,l=function(d){i(Xi(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:mH,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(vCe,{onChange:l,displayMonth:e.displayMonth}),o.jsx(gCe,{onChange:l,displayMonth:e.displayMonth})]})}function TCe(e){return o.jsx("svg",yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function CCe(e){return o.jsx("svg",yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var M_=w.forwardRef(function(e,t){var r=Rr(),n=r.classNames,s=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var i=a.join(" "),l=yt(yt({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),o.jsx("button",yt({},e,{ref:t,type:"button",className:i,style:l}))});function NCe(e){var t,r,n=Rr(),s=n.dir,a=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=u(e.previousMonth,{locale:a}),p=[i.nav_button,i.nav_button_previous].join(" "),x=d(e.nextMonth,{locale:a}),m=[i.nav_button,i.nav_button_next].join(" "),g=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:CCe,_=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:TCe;return o.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(M_,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?o.jsx(g,{className:i.nav_icon,style:l.nav_icon}):o.jsx(_,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(M_,{name:"next-month","aria-label":x,className:m,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?o.jsx(_,{className:i.nav_icon,style:l.nav_icon}):o.jsx(g,{className:i.nav_icon,style:l.nav_icon})})]})}function X4(e){var t=Rr().numberOfMonths,r=Zg(),n=r.previousMonth,s=r.nextMonth,a=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(x){return OA(e.displayMonth,x)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&a(n)},p=function(){s&&a(s)};return o.jsx(NCe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:p})}function kCe(e){var t,r=Rr(),n=r.classNames,s=r.disableNavigation,a=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:mH,u;return s?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=o.jsx(K4,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(K4,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(X4,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(X4,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:a.caption,children:u})}function jCe(e){var t=Rr(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?o.jsx("tfoot",{className:s,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function ACe(e,t,r){for(var n=r?of(new Date):$o(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var i=Os(n,a);s.push(i)}return s}function PCe(){var e=Rr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=ACe(s,a,i);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function OCe(){var e,t=Rr(),r=t.classNames,n=t.styles,s=t.components,a=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:PCe;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(a,{})})}function DCe(e){var t=Rr(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var DA=w.createContext(void 0);function RCe(e){if(!Xg(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(DA.Provider,{value:t,children:e.children})}return o.jsx(ICe,{initialProps:e.initialProps,children:e.children})}function ICe(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,a=t.max,i=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var x=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!x){var m=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!m){var g=n?fH([],n):[];if(d.selected){var _=g.findIndex(function(y){return ta(u,y)});g.splice(_,1)}else g.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,g,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=a&&n.length>a-1,f=n.some(function(h){return ta(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:i,modifiers:l};return o.jsx(DA.Provider,{value:c,children:r})}function RA(){var e=w.useContext(DA);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function MCe(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?ta(s,e)&&ta(n,e)?void 0:ta(s,e)?{from:s,to:void 0}:ta(n,e)?void 0:PC(n,e)?{from:e,to:s}:{from:n,to:e}:s?PC(e,s)?{from:s,to:e}:{from:e,to:s}:n?dH(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var IA=w.createContext(void 0);function FCe(e){if(!Qg(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(IA.Provider,{value:t,children:e.children})}return o.jsx(LCe,{initialProps:e.initialProps,children:e.children})}function LCe(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},a=s.from,i=s.to,l=t.min,c=t.max,u=function(p,x,m){var g,_;(g=t.onDayClick)===null||g===void 0||g.call(t,p,x,m);var y=MCe(p,n);(_=t.onSelect)===null||_===void 0||_.call(t,y,p,x,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],i?(d.range_end=[i],ta(a,i)||(d.range_middle=[{after:a,before:i}])):d.range_end=[a]):i&&(d.range_start=[i],d.range_end=[i]),l&&(a&&!i&&d.disabled.push({after:t2(a,l-1),before:Os(a,l-1)}),a&&i&&d.disabled.push({after:a,before:Os(a,l-1)}),!a&&i&&d.disabled.push({after:t2(i,l-1),before:Os(i,l-1)})),c){if(a&&!i&&(d.disabled.push({before:Os(a,-c+1)}),d.disabled.push({after:Os(a,c-1)})),a&&i){var f=To(i,a)+1,h=c-f;d.disabled.push({before:t2(a,h)}),d.disabled.push({after:Os(i,h)})}!a&&i&&(d.disabled.push({before:Os(i,-c+1)}),d.disabled.push({after:Os(i,c-1)}))}return o.jsx(IA.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function MA(){var e=w.useContext(IA);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function J1(e){return Array.isArray(e)?fH([],e):e!==void 0?[e]:[]}function $Ce(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=J1(s)}),t}var Qi;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Qi||(Qi={}));var UCe=Qi.Selected,il=Qi.Disabled,BCe=Qi.Hidden,WCe=Qi.Today,n2=Qi.RangeEnd,s2=Qi.RangeMiddle,a2=Qi.RangeStart,VCe=Qi.Outside;function zCe(e,t,r){var n,s=(n={},n[UCe]=J1(e.selected),n[il]=J1(e.disabled),n[BCe]=J1(e.hidden),n[WCe]=[e.today],n[n2]=[],n[s2]=[],n[a2]=[],n[VCe]=[],n);return e.fromDate&&s[il].push({before:e.fromDate}),e.toDate&&s[il].push({after:e.toDate}),Xg(e)?s[il]=s[il].concat(t.modifiers[il]):Qg(e)&&(s[il]=s[il].concat(r.modifiers[il]),s[a2]=r.modifiers[a2],s[s2]=r.modifiers[s2],s[n2]=r.modifiers[n2]),s}var gH=w.createContext(void 0);function HCe(e){var t=Rr(),r=RA(),n=MA(),s=zCe(t,r,n),a=$Ce(t.modifiers),i=yt(yt({},s),a);return o.jsx(gH.Provider,{value:i,children:e.children})}function xH(){var e=w.useContext(gH);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function YCe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function GCe(e){return!!(e&&typeof e=="object"&&"from"in e)}function qCe(e){return!!(e&&typeof e=="object"&&"after"in e)}function KCe(e){return!!(e&&typeof e=="object"&&"before"in e)}function XCe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function QCe(e,t){var r,n=t.from,s=t.to;if(n&&s){var a=To(s,n)<0;a&&(r=[s,n],n=r[0],s=r[1]);var i=To(e,n)>=0&&To(s,e)>=0;return i}return s?ta(s,e):n?ta(n,e):!1}function ZCe(e){return jA(e)}function JCe(e){return Array.isArray(e)&&e.every(jA)}function eNe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(ZCe(r))return ta(e,r);if(JCe(r))return r.includes(e);if(GCe(r))return QCe(e,r);if(XCe(r))return r.dayOfWeek.includes(e.getDay());if(YCe(r)){var n=To(r.before,e),s=To(r.after,e),a=n>0,i=s<0,l=PC(r.before,r.after);return l?i&&a:a||i}return qCe(r)?To(e,r.after)>0:KCe(r)?To(r.before,e)>0:typeof r=="function"?r(e):!1})}function FA(e,t,r){var n=Object.keys(t).reduce(function(a,i){var l=t[i];return eNe(e,l)&&a.push(i),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),r&&!OA(e,r)&&(s.outside=!0),s}function tNe(e,t){for(var r=oa(e[0]),n=AA(e[e.length-1]),s,a,i=r;i<=n;){var l=FA(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Os(i,1);continue}if(l.selected)return i;l.today&&!a&&(a=i),s||(s=i),i=Os(i,1)}return a||s}var rNe=365;function yH(e,t){var r=t.moveBy,n=t.direction,s=t.context,a=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:Os,week:AC,month:Xi,year:m2e,startOfWeek:function(g){return s.ISOWeek?of(g):$o(g,{locale:f,weekStartsOn:c})},endOfWeek:function(g){return s.ISOWeek?sH(g):PA(g,{locale:f,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=p2e([u,p]):n==="after"&&d&&(p=v2e([d,p]));var x=!0;if(a){var m=FA(p,a);x=!m.disabled&&!m.hidden}return x?p:l.count>rNe?l.lastFocused:yH(p,{moveBy:r,direction:n,context:s,modifiers:a,retry:yt(yt({},l),{count:l.count+1})})}var _H=w.createContext(void 0);function nNe(e){var t=Zg(),r=xH(),n=w.useState(),s=n[0],a=n[1],i=w.useState(),l=i[0],c=i[1],u=tNe(t.displayMonths,r),d=s??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(s),a(void 0)},h=function(g){a(g)},p=Rr(),x=function(g,_){if(s){var y=yH(s,{moveBy:g,direction:_,context:p,modifiers:r});ta(s,y)||(t.goToDate(y,s),h(y))}},m={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return o.jsx(_H.Provider,{value:m,children:e.children})}function LA(){var e=w.useContext(_H);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function sNe(e,t){var r=xH(),n=FA(e,r,t);return n}var $A=w.createContext(void 0);function aNe(e){if(!Ab(e.initialProps)){var t={selected:void 0};return o.jsx($A.Provider,{value:t,children:e.children})}return o.jsx(iNe,{initialProps:e.initialProps,children:e.children})}function iNe(e){var t=e.initialProps,r=e.children,n=function(a,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,i,l)},s={selected:t.selected,onDayClick:n};return o.jsx($A.Provider,{value:s,children:r})}function wH(){var e=w.useContext($A);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function oNe(e,t){var r=Rr(),n=wH(),s=RA(),a=MA(),i=LA(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,h=i.focus,p=i.focusMonthBefore,x=i.focusMonthAfter,m=i.focusYearBefore,g=i.focusYearAfter,_=i.focusStartOfWeek,y=i.focusEndOfWeek,S=function(re){var Z,ae,ge,se;Ab(r)?(Z=n.onDayClick)===null||Z===void 0||Z.call(n,e,t,re):Xg(r)?(ae=s.onDayClick)===null||ae===void 0||ae.call(s,e,t,re):Qg(r)?(ge=a.onDayClick)===null||ge===void 0||ge.call(a,e,t,re):(se=r.onDayClick)===null||se===void 0||se.call(r,e,t,re)},E=function(re){var Z;h(e),(Z=r.onDayFocus)===null||Z===void 0||Z.call(r,e,t,re)},C=function(re){var Z;f(),(Z=r.onDayBlur)===null||Z===void 0||Z.call(r,e,t,re)},P=function(re){var Z;(Z=r.onDayMouseEnter)===null||Z===void 0||Z.call(r,e,t,re)},N=function(re){var Z;(Z=r.onDayMouseLeave)===null||Z===void 0||Z.call(r,e,t,re)},A=function(re){var Z;(Z=r.onDayPointerEnter)===null||Z===void 0||Z.call(r,e,t,re)},j=function(re){var Z;(Z=r.onDayPointerLeave)===null||Z===void 0||Z.call(r,e,t,re)},O=function(re){var Z;(Z=r.onDayTouchCancel)===null||Z===void 0||Z.call(r,e,t,re)},W=function(re){var Z;(Z=r.onDayTouchEnd)===null||Z===void 0||Z.call(r,e,t,re)},z=function(re){var Z;(Z=r.onDayTouchMove)===null||Z===void 0||Z.call(r,e,t,re)},Y=function(re){var Z;(Z=r.onDayTouchStart)===null||Z===void 0||Z.call(r,e,t,re)},J=function(re){var Z;(Z=r.onDayKeyUp)===null||Z===void 0||Z.call(r,e,t,re)},ie=function(re){var Z;switch(re.key){case"ArrowLeft":re.preventDefault(),re.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":re.preventDefault(),re.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":re.preventDefault(),re.stopPropagation(),u();break;case"ArrowUp":re.preventDefault(),re.stopPropagation(),d();break;case"PageUp":re.preventDefault(),re.stopPropagation(),re.shiftKey?m():p();break;case"PageDown":re.preventDefault(),re.stopPropagation(),re.shiftKey?g():x();break;case"Home":re.preventDefault(),re.stopPropagation(),_();break;case"End":re.preventDefault(),re.stopPropagation(),y();break}(Z=r.onDayKeyDown)===null||Z===void 0||Z.call(r,e,t,re)},oe={onClick:S,onFocus:E,onBlur:C,onKeyDown:ie,onKeyUp:J,onMouseEnter:P,onMouseLeave:N,onPointerEnter:A,onPointerLeave:j,onTouchCancel:O,onTouchEnd:W,onTouchMove:z,onTouchStart:Y};return oe}function lNe(){var e=Rr(),t=wH(),r=RA(),n=MA(),s=Ab(e)?t.selected:Xg(e)?r.selected:Qg(e)?n.selected:void 0;return s}function cNe(e){return Object.values(Qi).includes(e)}function uNe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(cNe(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function dNe(e,t){var r=yt({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=yt(yt({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function fNe(e,t,r){var n,s,a,i=Rr(),l=LA(),c=sNe(e,t),u=oNe(e,c),d=lNe(),f=!!(i.onDayClick||i.mode!=="default");w.useEffect(function(){var P;c.outside||l.focusedDay&&f&&ta(l.focusedDay,e)&&((P=r.current)===null||P===void 0||P.focus())},[l.focusedDay,e,r,f,c.outside]);var h=uNe(i,c).join(" "),p=dNe(i,c),x=!!(c.outside&&!i.showOutsideDays||c.hidden),m=(a=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:DCe,g=o.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),_={style:p,className:h,children:g,role:"gridcell"},y=l.focusTarget&&ta(l.focusTarget,e)&&!c.outside,S=l.focusedDay&&ta(l.focusedDay,e),E=yt(yt(yt({},_),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=S||y?0:-1,n)),u),C={isButton:f,isHidden:x,activeModifiers:c,selectedDays:d,buttonProps:E,divProps:_};return C}function hNe(e){var t=w.useRef(null),r=fNe(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(M_,yt({name:"day",ref:t},r.buttonProps)):o.jsx("div",yt({},r.divProps))}function mNe(e){var t=e.number,r=e.dates,n=Rr(),s=n.onWeekNumberClick,a=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return o.jsx("span",{className:i.weeknumber,style:a.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(p){s(t,r,p)};return o.jsx(M_,{name:"week-number","aria-label":f,className:i.weeknumber,style:a.weeknumber,onClick:h,children:d})}function pNe(e){var t,r,n=Rr(),s=n.styles,a=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:hNe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:mNe,d;return i&&(d=o.jsx("td",{className:a.cell,style:s.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:a.row,style:s.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},mTe(f))})]})}function Q4(e,t,r){for(var n=r!=null&&r.ISOWeek?sH(t):PA(t,r),s=r!=null&&r.ISOWeek?of(e):$o(e,r),a=To(n,s),i=[],l=0;l<=a;l++)i.push(Os(s,l));var c=i.reduce(function(u,d){var f=r!=null&&r.ISOWeek?oH(d):cH(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function vNe(e,t){var r=Q4(oa(e),AA(e),t);if(t!=null&&t.useFixedWeeks){var n=vTe(e,t);if(n<6){var s=r[r.length-1],a=s.dates[s.dates.length-1],i=AC(a,6-n),l=Q4(AC(a,1),i,t);r.push.apply(r,l)}}return r}function gNe(e){var t,r,n,s=Rr(),a=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,p=s.ISOWeek,x=vNe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:f,firstWeekContainsDate:h}),m=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:OCe,g=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:pNe,_=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:jCe;return o.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(m,{}),o.jsx("tbody",{className:i.tbody,style:l.tbody,children:x.map(function(y){return o.jsx(g,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),o.jsx(_,{displayMonth:e.displayMonth})]})}function xNe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var yNe=xNe()?w.useLayoutEffect:w.useEffect,i2=!1,_Ne=0;function Z4(){return"react-day-picker-".concat(++_Ne)}function wNe(e){var t,r=e??(i2?Z4():null),n=w.useState(r),s=n[0],a=n[1];return yNe(function(){s===null&&a(Z4())},[]),w.useEffect(function(){i2===!1&&(i2=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function bNe(e){var t,r,n=Rr(),s=n.dir,a=n.classNames,i=n.styles,l=n.components,c=Zg().displayMonths,u=wNe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],h=i.month,p=e.displayIndex===0,x=e.displayIndex===c.length-1,m=!p&&!x;s==="rtl"&&(t=[p,x],x=t[0],p=t[1]),p&&(f.push(a.caption_start),h=yt(yt({},h),i.caption_start)),x&&(f.push(a.caption_end),h=yt(yt({},h),i.caption_end)),m&&(f.push(a.caption_between),h=yt(yt({},h),i.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:kCe;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(g,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(gNe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function SNe(e){var t=Rr(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function ENe(e){var t,r,n=e.initialProps,s=Rr(),a=LA(),i=Zg(),l=w.useState(!1),c=l[0],u=l[1];w.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=yt(yt({},s.styles.root),s.style),h=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,m){var g;return yt(yt({},x),(g={},g[m]=n[m],g))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:SNe;return o.jsx("div",yt({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:o.jsx(p,{children:i.displayMonths.map(function(x,m){return o.jsx(bNe,{displayIndex:m,displayMonth:x},m)})})}))}function TNe(e){var t=e.children,r=KTe(e,["children"]);return o.jsx(mCe,{initialProps:r,children:o.jsx(ECe,{children:o.jsx(aNe,{initialProps:r,children:o.jsx(RCe,{initialProps:r,children:o.jsx(FCe,{initialProps:r,children:o.jsx(HCe,{children:o.jsx(nNe,{children:t})})})})})})})}function CNe(e){return o.jsx(TNe,yt({},e,{children:o.jsx(ENe,{initialProps:e})}))}function bH({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(CNe,{showOutsideDays:r,className:Ye("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ye(Mv({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ye(Mv({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>o.jsx(w$,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(b$,{className:"h-4 w-4"})},...n})}bH.displayName="Calendar";var Pb="Popover",[SH,PZe]=ha(Pb,[Gm]),Jg=Gm(),[NNe,Yu]=SH(Pb),EH=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,l=Jg(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,h]=mu({prop:n,defaultProp:s??!1,onChange:a,caller:Pb});return o.jsx(a8,{...l,children:o.jsx(NNe,{scope:t,contentId:Sl(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:i,children:r})})};EH.displayName=Pb;var TH="PopoverAnchor",kNe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Yu(TH,r),a=Jg(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return w.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(Nw,{...a,...n,ref:t})});kNe.displayName=TH;var CH="PopoverTrigger",NH=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Yu(CH,r),a=Jg(r),i=Ht(t,s.triggerRef),l=o.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":OH(s.open),...n,ref:i,onClick:it(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Nw,{asChild:!0,...a,children:l})});NH.displayName=CH;var UA="PopoverPortal",[jNe,ANe]=SH(UA,{forceMount:void 0}),kH=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=Yu(UA,t);return o.jsx(jNe,{scope:t,forceMount:r,children:o.jsx($a,{present:r||a.open,children:o.jsx(xg,{asChild:!0,container:s,children:n})})})};kH.displayName=UA;var Tm="PopoverContent",jH=w.forwardRef((e,t)=>{const r=ANe(Tm,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=Yu(Tm,e.__scopePopover);return o.jsx($a,{present:n||a.open,children:a.modal?o.jsx(ONe,{...s,ref:t}):o.jsx(DNe,{...s,ref:t})})});jH.displayName=Tm;var PNe=Bd("PopoverContent.RemoveScroll"),ONe=w.forwardRef((e,t)=>{const r=Yu(Tm,e.__scopePopover),n=w.useRef(null),s=Ht(t,n),a=w.useRef(!1);return w.useEffect(()=>{const i=n.current;if(i)return Vj(i)},[]),o.jsx(fb,{as:PNe,allowPinchZoom:!0,children:o.jsx(AH,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:it(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:it(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:it(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),DNe=w.forwardRef((e,t)=>{const r=Yu(Tm,e.__scopePopover),n=w.useRef(!1),s=w.useRef(!1);return o.jsx(AH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),AH=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Yu(Tm,r),p=Jg(r);return Wj(),o.jsx(ub,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Wm,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(Tk,{"data-state":OH(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),PH="PopoverClose",RNe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Yu(PH,r);return o.jsx(dt.button,{type:"button",...n,ref:t,onClick:it(e.onClick,()=>s.onOpenChange(!1))})});RNe.displayName=PH;var INe="PopoverArrow",MNe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Jg(r);return o.jsx(Ck,{...s,...n,ref:t})});MNe.displayName=INe;function OH(e){return e?"open":"closed"}var FNe=EH,LNe=NH,$Ne=kH,DH=jH;const UNe=FNe,BNe=LNe,RH=w.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>o.jsx($Ne,{children:o.jsx(DH,{ref:s,align:t,sideOffset:r,className:Ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));RH.displayName=DH.displayName;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH="firebasestorage.googleapis.com",MH="storageBucket",WNe=2*60*1e3,VNe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends tc{constructor(t,r,n=0){super(o2(t),`Firebase Storage: ${r} (${o2(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return o2(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fn||(fn={}));function o2(e){return"storage/"+e}function BA(){const e="An unknown error occurred, please check the error payload for server response.";return new mn(fn.UNKNOWN,e)}function zNe(e){return new mn(fn.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function HNe(e){return new mn(fn.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function YNe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(fn.UNAUTHENTICATED,e)}function GNe(){return new mn(fn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qNe(e){return new mn(fn.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function KNe(){return new mn(fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XNe(){return new mn(fn.CANCELED,"User canceled the upload/download.")}function QNe(e){return new mn(fn.INVALID_URL,"Invalid URL '"+e+"'.")}function ZNe(e){return new mn(fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function JNe(){return new mn(fn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MH+"' property when initializing the app?")}function eke(){return new mn(fn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tke(){return new mn(fn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function rke(e){return new mn(fn.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function OC(e){return new mn(fn.INVALID_ARGUMENT,e)}function FH(){return new mn(fn.APP_DELETED,"The Firebase app was deleted.")}function nke(e){return new mn(fn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function z0(e,t){return new mn(fn.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Jp(e){throw new mn(fn.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=Na.makeFromUrl(t,r)}catch{return new Na(t,"")}if(n.path==="")return n;throw ZNe(t)}static makeFromUrl(t,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function a(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const i="(/(.*))?$",l=new RegExp("^gs://"+s+i,"i"),c={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${s}/o${h}`,"i"),x={bucket:1,path:3},m=r===IH?"(?:storage.googleapis.com|storage.cloud.google.com)":r,g="([^?#]*)",_=new RegExp(`^https?://${m}/${s}/${g}`,"i"),S=[{regex:l,indices:c,postModify:a},{regex:p,indices:x,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<S.length;E++){const C=S[E],P=C.regex.exec(t);if(P){const N=P[C.indices.bucket];let A=P[C.indices.path];A||(A=""),n=new Na(N,A),C.postModify(n);break}}if(n==null)throw QNe(t);return n}}class ske{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ake(e,t,r){let n=1,s=null,a=null,i=!1,l=0;function c(){return l===2}let u=!1;function d(...g){u||(u=!0,t.apply(null,g))}function f(g){s=setTimeout(()=>{s=null,e(p,c())},g)}function h(){a&&clearTimeout(a)}function p(g,..._){if(u){h();return}if(g){h(),d.call(null,g,..._);return}if(c()||i){h(),d.call(null,g,..._);return}n<64&&(n*=2);let S;l===1?(l=2,S=0):S=(n+Math.random())*1e3,f(S)}let x=!1;function m(g){x||(x=!0,h(),!u&&(s!==null?(g||(l=2),clearTimeout(s),f(0)):g||(l=1)))}return f(0),a=setTimeout(()=>{i=!0,m(!0)},r),m}function ike(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oke(e){return e!==void 0}function lke(e){return typeof e=="object"&&!Array.isArray(e)}function WA(e){return typeof e=="string"||e instanceof String}function J4(e){return VA()&&e instanceof Blob}function VA(){return typeof Blob<"u"}function eF(e,t,r,n){if(n<t)throw OC(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw OC(`Invalid value for '${e}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(e,t,r){let n=t;return r==null&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function LH(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const s=t(n)+"="+t(e[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var Pd;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Pd||(Pd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cke(e,t){const r=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return r||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uke{constructor(t,r,n,s,a,i,l,c,u,d,f,h=!0,p=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=i,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,m)=>{this.resolve_=x,this.reject_=m,this.start_()})}start_(){const t=(n,s)=>{if(s){n(!1,new v1(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const i=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(i),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(i),this.pendingConnection_=null;const l=a.getErrorCode()===Pd.NO_ERROR,c=a.getStatus();if(!l||cke(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===Pd.ABORT;n(!1,new v1(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new v1(u,a))})},r=(n,s)=>{const a=this.resolve_,i=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());oke(c)?a(c):a()}catch(c){i(c)}else if(l!==null){const c=BA();c.serverResponse=l.getErrorText(),this.errorCallback_?i(this.errorCallback_(l,c)):i(c)}else if(s.canceled){const c=this.appDelete_?FH():XNe();i(c)}else{const c=KNe();i(c)}};this.canceled_?r(!1,new v1(!1,null,!0)):this.backoffId_=ake(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&ike(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class v1{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function dke(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function fke(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function hke(e,t){t&&(e["X-Firebase-GMPID"]=t)}function mke(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function pke(e,t,r,n,s,a,i=!0,l=!1){const c=LH(e.urlParams),u=e.url+c,d=Object.assign({},e.headers);return hke(d,t),dke(d,r),fke(d,a),mke(d,n),new uke(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vke(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gke(...e){const t=vke();if(t!==void 0){const r=new t;for(let n=0;n<e.length;n++)r.append(e[n]);return r.getBlob()}else{if(VA())return new Blob(e);throw new mn(fn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function xke(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yke(e){if(typeof atob>"u")throw rke("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class l2{constructor(t,r){this.data=t,this.contentType=r||null}}function _ke(e,t){switch(e){case Co.RAW:return new l2($H(t));case Co.BASE64:case Co.BASE64URL:return new l2(UH(e,t));case Co.DATA_URL:return new l2(bke(t),Ske(t))}throw BA()}function $H(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const a=n,i=e.charCodeAt(++r);n=65536|(a&1023)<<10|i&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function wke(e){let t;try{t=decodeURIComponent(e)}catch{throw z0(Co.DATA_URL,"Malformed data URL.")}return $H(t)}function UH(e,t){switch(e){case Co.BASE64:{const s=t.indexOf("-")!==-1,a=t.indexOf("_")!==-1;if(s||a)throw z0(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Co.BASE64URL:{const s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a)throw z0(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=yke(t)}catch(s){throw s.message.includes("polyfill")?s:z0(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}class BH{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw z0(Co.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Eke(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function bke(e){const t=new BH(e);return t.base64?UH(Co.BASE64,t.rest):wke(t.rest)}function Ske(e){return new BH(e).contentType}function Eke(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,r){let n=0,s="";J4(t)?(this.data_=t,n=t.size,s=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,r){if(J4(this.data_)){const n=this.data_,s=xke(n,t,r);return s===null?null:new Rc(s)}else{const n=new Uint8Array(this.data_.buffer,t,r-t);return new Rc(n,!0)}}static getBlob(...t){if(VA()){const r=t.map(n=>n instanceof Rc?n.data_:n);return new Rc(gke.apply(null,r))}else{const r=t.map(i=>WA(i)?_ke(Co.RAW,i).data:i.data_);let n=0;r.forEach(i=>{n+=i.byteLength});const s=new Uint8Array(n);let a=0;return r.forEach(i=>{for(let l=0;l<i.length;l++)s[a++]=i[l]}),new Rc(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(e){let t;try{t=JSON.parse(e)}catch{return null}return lke(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tke(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Cke(e,t){const r=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?r:e+"/"+r}function VH(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nke(e,t){return t}class Cs{constructor(t,r,n,s){this.server=t,this.local=r||t,this.writable=!!n,this.xform=s||Nke}}let g1=null;function kke(e){return!WA(e)||e.length<2?e:VH(e)}function zH(){if(g1)return g1;const e=[];e.push(new Cs("bucket")),e.push(new Cs("generation")),e.push(new Cs("metageneration")),e.push(new Cs("name","fullPath",!0));function t(a,i){return kke(i)}const r=new Cs("name");r.xform=t,e.push(r);function n(a,i){return i!==void 0?Number(i):i}const s=new Cs("size");return s.xform=n,e.push(s),e.push(new Cs("timeCreated")),e.push(new Cs("updated")),e.push(new Cs("md5Hash",null,!0)),e.push(new Cs("cacheControl",null,!0)),e.push(new Cs("contentDisposition",null,!0)),e.push(new Cs("contentEncoding",null,!0)),e.push(new Cs("contentLanguage",null,!0)),e.push(new Cs("contentType",null,!0)),e.push(new Cs("metadata","customMetadata",!0)),g1=e,g1}function jke(e,t){function r(){const n=e.bucket,s=e.fullPath,a=new Na(n,s);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:r})}function Ake(e,t,r){const n={};n.type="file";const s=r.length;for(let a=0;a<s;a++){const i=r[a];n[i.local]=i.xform(n,t[i.server])}return jke(n,e),n}function HH(e,t,r){const n=WH(t);return n===null?null:Ake(e,n,r)}function Pke(e,t,r,n){const s=WH(t);if(s===null||!WA(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const i=encodeURIComponent;return a.split(",").map(u=>{const d=e.bucket,f=e.fullPath,h="/b/"+i(d)+"/o/"+i(f),p=zA(h,r,n),x=LH({alt:"media",token:u});return p+x})[0]}function Oke(e,t){const r={},n=t.length;for(let s=0;s<n;s++){const a=t[s];a.writable&&(r[a.server]=e[a.local])}return JSON.stringify(r)}class YH{constructor(t,r,n,s){this.url=t,this.method=r,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(e){if(!e)throw BA()}function Dke(e,t){function r(n,s){const a=HH(e,s,t);return GH(a!==null),a}return r}function Rke(e,t){function r(n,s){const a=HH(e,s,t);return GH(a!==null),Pke(a,s,e.host,e._protocol)}return r}function qH(e){function t(r,n){let s;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?s=GNe():s=YNe():r.getStatus()===402?s=HNe(e.bucket):r.getStatus()===403?s=qNe(e.path):s=n,s.status=r.getStatus(),s.serverResponse=n.serverResponse,s}return t}function Ike(e){const t=qH(e);function r(n,s){let a=t(n,s);return n.getStatus()===404&&(a=zNe(e.path)),a.serverResponse=s.serverResponse,a}return r}function Mke(e,t,r){const n=t.fullServerUrl(),s=zA(n,e.host,e._protocol),a="GET",i=e.maxOperationRetryTime,l=new YH(s,a,Rke(e,r),i);return l.errorHandler=Ike(t),l}function Fke(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Lke(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=Fke(null,t)),n}function $ke(e,t,r,n,s){const a=t.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function l(){let S="";for(let E=0;E<2;E++)S=S+Math.random().toString().slice(2);return S}const c=l();i["Content-Type"]="multipart/related; boundary="+c;const u=Lke(t,n,s),d=Oke(u,r),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",p=Rc.getBlob(f,n,h);if(p===null)throw eke();const x={name:u.fullPath},m=zA(a,e.host,e._protocol),g="POST",_=e.maxUploadRetryTime,y=new YH(m,g,Dke(e,r),_);return y.urlParams=x,y.headers=i,y.body=p.uploadData(),y.errorHandler=qH(t),y}class Uke{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pd.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pd.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pd.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,n,s,a){if(this.sent_)throw Jp("cannot .send() more than once");if(Iu(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,t,!0),a!==void 0)for(const i in a)a.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,a[i].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Bke extends Uke{initXhr(){this.xhr_.responseType="text"}}function KH(){return new Bke}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,r){this._service=t,r instanceof Na?this._location=r:this._location=Na.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new lf(t,r)}get root(){const t=new Na(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VH(this._location.path)}get storage(){return this._service}get parent(){const t=Tke(this._location.path);if(t===null)return null;const r=new Na(this._location.bucket,t);return new lf(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw nke(t)}}function Wke(e,t,r){e._throwIfRoot("uploadBytes");const n=$ke(e.storage,e._location,zH(),new Rc(t,!0),r);return e.storage.makeRequestWithTokens(n,KH).then(s=>({metadata:s,ref:e}))}function Vke(e){e._throwIfRoot("getDownloadURL");const t=Mke(e.storage,e._location,zH());return e.storage.makeRequestWithTokens(t,KH).then(r=>{if(r===null)throw tke();return r})}function zke(e,t){const r=Cke(e._location.path,t),n=new Na(e._location.bucket,r);return new lf(e.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hke(e){return/^[A-Za-z]+:\/\//.test(e)}function Yke(e,t){return new lf(e,t)}function XH(e,t){if(e instanceof HA){const r=e;if(r._bucket==null)throw JNe();const n=new lf(r,r._bucket);return t!=null?XH(n,t):n}else return t!==void 0?zke(e,t):e}function Gke(e,t){if(t&&Hke(t)){if(e instanceof HA)return Yke(e,t);throw OC("To use ref(service, url), the first argument must be a Storage instance.")}else return XH(e,t)}function tF(e,t){const r=t==null?void 0:t[MH];return r==null?null:Na.makeFromBucketSpec(r,e)}function qke(e,t,r,n={}){e.host=`${t}:${r}`;const s=Iu(t);s&&(Mk(`https://${e.host}/b`),Fk("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:a}=n;a&&(e._overrideAuthToken=typeof a=="string"?a:$8(a,e.app.options.projectId))}class HA{constructor(t,r,n,s,a,i=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=i,this._bucket=null,this._host=IH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WNe,this._maxUploadRetryTime=VNe,this._requests=new Set,s!=null?this._bucket=Na.makeFromBucketSpec(s,this._host):this._bucket=tF(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Na.makeFromBucketSpec(this._url,t):this._bucket=tF(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){eF("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){eF("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new lf(this,t)}_makeRequest(t,r,n,s,a=!0){if(this._deleted)return new ske(FH());{const i=pke(t,this._appId,n,s,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(t,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,s).getPromise()}}const rF="@firebase/storage",nF="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH="storage";function ZH(e,t,r){return e=hn(e),Wke(e,t,r)}function JH(e){return e=hn(e),Vke(e)}function eY(e,t){return e=hn(e),Gke(e,t)}function tY(e=Mw(),t){e=hn(e);const n=Iw(e,QH).getImmediate({identifier:t}),s=M8("storage");return s&&Kke(n,...s),n}function Kke(e,t,r,n={}){qke(e,t,r,n)}function Xke(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new HA(r,n,s,t,wf)}function Qke(){Gd(new gu(QH,Xke,"PUBLIC").setMultipleInstances(!0)),Po(rF,nF,""),Po(rF,nF,"esm2020")}Qke();let Hs=[{id:"1",numeroSancion:"SAN-2024-001",tipoEntidad:"empadronado",entidadId:"emp-1",entidadNombre:"Juan Pérez García",entidadDocumento:"12345678",tipoSancion:"multa",motivo:"Incumplimiento de estatutos",descripcion:"No cumplimiento de horarios de construcción establecidos",montoMulta:150,fechaAplicacion:"2024-01-15",fechaVencimiento:"2024-02-15",estado:"activa",aplicadoPor:"fiscal-1",aplicadoPorNombre:"María González",resolucion:"RES-001-2024",createdAt:Date.now()-864e5*30,updatedAt:Date.now()-864e5*30},{id:"2",numeroSancion:"SAN-2024-002",tipoEntidad:"vehiculo",entidadId:"veh-1",entidadNombre:"Vehículo ABC-123",entidadDocumento:"ABC-123",tipoSancion:"amonestacion",motivo:"Estacionamiento indebido",descripcion:"Vehículo estacionado en área común",fechaAplicacion:"2024-01-20",estado:"cumplida",aplicadoPor:"fiscal-1",aplicadoPorNombre:"María González",fechaCumplimiento:"2024-01-25",createdAt:Date.now()-864e5*25,updatedAt:Date.now()-864e5*20}],rd={empadronados:[{id:"emp-1",nombre:"Juan",apellidos:"Pérez García",dni:"12345678",numeroPadron:"P-001",manzana:"A",lote:"01",etapa:"I"},{id:"emp-2",nombre:"Ana",apellidos:"López Silva",dni:"87654321",numeroPadron:"P-002",manzana:"B",lote:"05",etapa:"II"}],maestrosObra:[{id:"mo-1",nombre:"Carlos",apellidos:"Ramírez Torres",dni:"11223344",licencia:"LIC-001",telefono:"987654321"}],direcciones:[{id:"dir-1",nombre:"Roberto",apellidos:"Fernández Vega",dni:"55667788",cargo:"Presidente",periodo:"2024-2026"}],vehiculos:[{id:"veh-1",placa:"ABC-123",tipo:"vehiculo",propietario:"Juan Pérez García",propietarioDni:"12345678"}],negocios:[{id:"neg-1",nombre:"Bodega San José",ruc:"20123456789",propietario:"José Martínez",propietarioDni:"99887766",direccion:"Mza. C Lote 10"}],delegados:[{id:"del-1",nombre:"Patricia",apellidos:"Rojas Medina",dni:"44556677",etapaAsignada:"Etapa I",telefono:"912345678"}],juntaDirectiva:[{id:"jd-1",nombre:"Roberto",apellidos:"Fernández Vega",dni:"55667788",cargo:"Presidente",periodo:"2024-2026"}]};const Zke=async e=>{try{const t=Ge(qe,"sanciones"),r=await Mt(t);if(!r.exists())return[];const n=r.val();let s=Object.keys(n).map(a=>({id:a,...n[a]}));if(e&&(e.tipoEntidad&&(s=s.filter(a=>a.tipoEntidad===e.tipoEntidad)),e.tipoSancion&&(s=s.filter(a=>a.tipoSancion===e.tipoSancion)),e.estado&&(s=s.filter(a=>a.estado===e.estado)),e.search)){const a=e.search.toLowerCase();s=s.filter(i=>i.entidadNombre.toLowerCase().includes(a)||i.motivo.toLowerCase().includes(a)||i.numeroSancion.toLowerCase().includes(a))}return s.sort((a,i)=>i.createdAt-a.createdAt)}catch(t){throw console.error("Error getting sanciones:",t),t}},Jke=async(e,t)=>{try{const r=Ge(qe,"sanciones"),n=await Mt(r),s=n.exists()?Object.keys(n.val()).length:0,a=`SAN-${new Date().getFullYear()}-${String(s+1).padStart(3,"0")}`;let i;if(t){const u=tY(),d=`sanciones/${Date.now()}_${t.name}`,f=eY(u,d);await ZH(f,t),i=await JH(f)}const l={numeroSancion:a,...e,fechaAplicacion:new Date().toISOString().split("T")[0],estado:"activa",aplicadoPor:"current-user-id",aplicadoPorNombre:"Usuario Actual",documentoSancion:i,createdAt:Date.now(),updatedAt:Date.now()},c=ro(r);return await pr(c,l),{id:c.key,...l}}catch(r){throw console.error("Error creating sancion:",r),r}},eje=async()=>(await new Promise(t=>setTimeout(t,400)),{total:Hs.length,activas:Hs.filter(t=>t.estado==="activa").length,cumplidas:Hs.filter(t=>t.estado==="cumplida").length,anuladas:Hs.filter(t=>t.estado==="anulada").length,enProceso:Hs.filter(t=>t.estado==="en_proceso").length,porTipoEntidad:{empadronado:Hs.filter(t=>t.tipoEntidad==="empadronado").length,maestro_obra:Hs.filter(t=>t.tipoEntidad==="maestro_obra").length,direccion:Hs.filter(t=>t.tipoEntidad==="direccion").length,vehiculo:Hs.filter(t=>t.tipoEntidad==="vehiculo").length,negocio:Hs.filter(t=>t.tipoEntidad==="negocio").length,delegado:Hs.filter(t=>t.tipoEntidad==="delegado").length,junta_directiva:Hs.filter(t=>t.tipoEntidad==="junta_directiva").length},montoTotalMultas:Hs.reduce((t,r)=>t+(r.montoMulta||0),0),montoMultasPendientes:Hs.filter(t=>t.estado==="activa"&&t.montoMulta).reduce((t,r)=>t+(r.montoMulta||0),0)}),tje=async e=>{switch(await new Promise(t=>setTimeout(t,300)),e){case"empadronado":return rd.empadronados;case"maestro_obra":return rd.maestrosObra;case"direccion":return rd.direcciones;case"vehiculo":return rd.vehiculos;case"negocio":return rd.negocios;case"delegado":return rd.delegados;case"junta_directiva":return rd.juntaDirectiva;default:return[]}},rje=({open:e,onOpenChange:t,onSuccess:r})=>{const{register:n,handleSubmit:s,setValue:a,watch:i,reset:l,formState:{errors:c}}=$u(),{toast:u}=La(),[d,f]=w.useState(!1),[h,p]=w.useState([]),[x,m]=w.useState(!1),[g,_]=w.useState(),[y,S]=w.useState(null),E=i("tipoEntidad"),C=i("tipoSancion"),P=async Y=>{try{m(!0);const J=await tje(Y);p(J)}catch{u({title:"Error",description:"No se pudieron cargar las entidades",variant:"destructive"})}finally{m(!1)}},N=Y=>{a("tipoEntidad",Y),a("entidadId",""),a("entidadNombre",""),a("entidadDocumento",""),P(Y)},A=Y=>{const J=h.find(ie=>ie.id===Y);J&&(a("entidadId",J.id),a("entidadNombre",j(J)),a("entidadDocumento",W(J)))},j=Y=>"nombre"in Y&&"apellidos"in Y?`${Y.nombre} ${Y.apellidos}`:"nombre"in Y?Y.nombre:"placa"in Y?`Vehículo ${Y.placa}`:Y.id,O=()=>{const Y=`
ACTA DE SANCIÓN N° _______________

RESOLUCIÓN N° _______________

FECHA: ${new Date().toLocaleDateString("es-PE")}

ANTECEDENTES:
En sesión de Junta Directiva de fecha _____________, se acordó aplicar la siguiente sanción:

DATOS DE LA PERSONA/ENTIDAD SANCIONADA:
- Nombre/Razón Social: _______________________________
- DNI/RUC/Placa: ___________________________________
- Domicilio/Ubicación: _____________________________

TIPO DE SANCIÓN: _____________________________________

MOTIVO: ____________________________________________
_________________________________________________
_________________________________________________

DESCRIPCIÓN DE LOS HECHOS:
_________________________________________________
_________________________________________________
_________________________________________________

MONTO DE LA MULTA (si aplica): S/ ___________________

FECHA DE VENCIMIENTO: _______________________________

DISPOSICIONES:
1. La presente sanción deberá ser cumplida en el plazo establecido.
2. El incumplimiento de la presente resolución acarreará las medidas adicionales previstas en el estatuto.
3. La presente resolución es apelable dentro de los 15 días calendario siguientes a su notificación.

OBSERVACIONES:
_________________________________________________
_________________________________________________

Dado en _____________ a los ____ días del mes de _________ del año 2024.


_____________________          _____________________
    PRESIDENTE                      FISCAL
   Junta Directiva               Junta Directiva


SELLO:
    `,J=document.createElement("a");J.href="data:text/plain;charset=utf-8,"+encodeURIComponent(Y),J.download=`plantilla_sancion_${new Date().getTime()}.txt`,document.body.appendChild(J),J.click(),document.body.removeChild(J),u({title:"Plantilla descargada",description:"Complete los datos y obtenga las firmas correspondientes"})},W=Y=>{if("dni"in Y)return Y.dni;if("ruc"in Y)return Y.ruc;if("placa"in Y)return Y.placa;if("licencia"in Y)return Y.licencia},z=async Y=>{try{f(!0);const J={...Y,fechaVencimiento:g?g.toISOString().split("T")[0]:void 0};await Jke(J,y||void 0),u({title:"Sanción creada",description:"La sanción se ha registrado correctamente"}),r(),t(!1),l(),_(void 0),S(null),p([])}catch{u({title:"Error",description:"No se pudo crear la sanción",variant:"destructive"})}finally{f(!1)}};return o.jsx(fi,{open:e,onOpenChange:t,children:o.jsxs(Ua,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ba,{children:o.jsxs(Wa,{className:"flex items-center gap-2",children:[o.jsx(xo,{className:"h-5 w-5 text-destructive"}),"Nueva Sanción"]})}),o.jsxs("form",{onSubmit:s(z),className:"space-y-4",children:[o.jsx("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-primary",children:"Plantilla de Sanción"}),o.jsx("p",{className:"text-xs text-primary/80",children:"Descargue, complete y adjunte el documento firmado"})]}),o.jsxs(_e,{type:"button",onClick:O,variant:"outline",size:"sm",className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:[o.jsx(_g,{className:"h-4 w-4 mr-2"}),"Descargar"]})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"tipoEntidad",children:"Tipo de Entidad *"}),o.jsxs(hr,{onValueChange:N,children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar tipo"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"empadronado",children:"Empadronado"}),o.jsx(Te,{value:"maestro_obra",children:"Maestro de Obra"}),o.jsx(Te,{value:"direccion",children:"Dirección"}),o.jsx(Te,{value:"vehiculo",children:"Vehículo"}),o.jsx(Te,{value:"negocio",children:"Negocio"}),o.jsx(Te,{value:"delegado",children:"Delegado"}),o.jsx(Te,{value:"junta_directiva",children:"Junta Directiva"})]})]}),c.tipoEntidad&&o.jsx("p",{className:"text-sm text-destructive",children:"Este campo es requerido"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"entidadId",children:"Entidad *"}),o.jsxs(hr,{onValueChange:A,disabled:!E||x,children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:x?"Cargando...":"Seleccionar entidad"})}),o.jsx(fr,{children:h.map(Y=>o.jsxs(Te,{value:Y.id,children:[j(Y),W(Y)&&` - ${W(Y)}`]},Y.id))})]}),c.entidadId&&o.jsx("p",{className:"text-sm text-destructive",children:"Este campo es requerido"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"tipoSancion",children:"Tipo de Sanción *"}),o.jsxs(hr,{onValueChange:Y=>a("tipoSancion",Y),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar tipo"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"amonestacion",children:"Amonestación"}),o.jsx(Te,{value:"multa",children:"Multa"}),o.jsx(Te,{value:"suspension_temporal",children:"Suspensión Temporal"}),o.jsx(Te,{value:"suspension_permanente",children:"Suspensión Permanente"}),o.jsx(Te,{value:"inhabilitacion",children:"Inhabilitación"}),o.jsx(Te,{value:"otros",children:"Otros"})]})]}),c.tipoSancion&&o.jsx("p",{className:"text-sm text-destructive",children:"Este campo es requerido"})]}),C==="multa"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"montoMulta",children:"Monto de Multa (S/) *"}),o.jsx(Ce,{id:"montoMulta",type:"number",min:"0",step:"0.01",...n("montoMulta",{required:C==="multa",valueAsNumber:!0,min:0}),placeholder:"Ej: 100.00"}),c.montoMulta&&o.jsx("p",{className:"text-sm text-destructive",children:"Ingrese un monto válido"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"motivo",children:"Motivo de la Sanción *"}),o.jsx(Ce,{id:"motivo",...n("motivo",{required:!0}),placeholder:"Ej: Incumplimiento de estatutos"}),c.motivo&&o.jsx("p",{className:"text-sm text-destructive",children:"Este campo es requerido"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"descripcion",children:"Descripción Detallada *"}),o.jsx(ai,{id:"descripcion",...n("descripcion",{required:!0}),placeholder:"Describa detalladamente los hechos que motivan la sanción",rows:3}),c.descripcion&&o.jsx("p",{className:"text-sm text-destructive",children:"Este campo es requerido"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{children:"Fecha de Vencimiento"}),o.jsxs(UNe,{children:[o.jsx(BNe,{asChild:!0,children:o.jsxs(_e,{variant:"outline",className:Ye("w-full justify-start text-left font-normal",!g&&"text-muted-foreground"),children:[o.jsx(gs,{className:"mr-2 h-4 w-4"}),g?Hu(g,"PPP",{locale:qTe}):o.jsx("span",{children:"Seleccionar fecha"})]})}),o.jsx(RH,{className:"w-auto p-0",align:"start",children:o.jsx(bH,{mode:"single",selected:g,onSelect:_,disabled:Y=>Y<new Date,className:Ye("p-3 pointer-events-auto")})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"resolucion",children:"Número de Acta de la Resolución"}),o.jsx(Ce,{id:"resolucion",...n("resolucion"),placeholder:"Ej: ACTA-001-2024"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"observaciones",children:"Observaciones"}),o.jsx(ai,{id:"observaciones",...n("observaciones"),placeholder:"Observaciones adicionales (opcional)",rows:2})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(be,{htmlFor:"archivo",children:"Documento de Sanción Firmado *"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Suba el acta de sanción firmada por el Presidente y Fiscal (PDF, JPG, PNG)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ce,{type:"file",accept:"application/pdf,image/jpeg,image/jpg,image/png",onChange:Y=>{var J;return S(((J=Y.target.files)==null?void 0:J[0])||null)},className:"flex-1",required:!0}),o.jsx(_e,{type:"button",variant:"outline",size:"sm",children:o.jsx(wg,{className:"h-4 w-4"})})]}),y&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx(_f,{className:"h-4 w-4"}),o.jsxs("span",{children:["Archivo seleccionado: ",y.name]})]}),o.jsx("p",{className:"text-xs text-destructive",children:"* Este campo es obligatorio. Debe adjuntar el documento firmado."})]}),o.jsxs(Wu,{children:[o.jsx(_e,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),o.jsx(_e,{type:"submit",disabled:d||!y,variant:"destructive",children:d?"Creando...":"Crear Sanción"})]})]})]})})},nje=()=>{const{toast:e}=La(),[t,r]=w.useState([]),[n,s]=w.useState(null),[a,i]=w.useState(!0),[l,c]=w.useState(""),[u,d]=w.useState(""),[f,h]=w.useState(""),[p,x]=w.useState(""),[m,g]=w.useState(!1),_=async()=>{try{i(!0);const[C,P]=await Promise.all([Zke({search:l||void 0,tipoEntidad:u||void 0,tipoSancion:f||void 0,estado:p||void 0}),eje()]);r(C),s(P)}catch{e({title:"Error",description:"No se pudieron cargar las sanciones",variant:"destructive"})}finally{i(!1)}};w.useEffect(()=>{_()},[l,u,f,p]);const y=C=>({empadronado:"Empadronado",maestro_obra:"Maestro de Obra",direccion:"Dirección",vehiculo:"Vehículo",negocio:"Negocio",delegado:"Delegado",junta_directiva:"Junta Directiva"})[C],S=C=>({amonestacion:"Amonestación",multa:"Multa",suspension_temporal:"Suspensión Temporal",suspension_permanente:"Suspensión Permanente",inhabilitacion:"Inhabilitación",otros:"Otros"})[C],E=C=>{const P={activa:"destructive",cumplida:"default",anulada:"secondary",en_proceso:"outline"},N={activa:"Activa",cumplida:"Cumplida",anulada:"Anulada",en_proceso:"En Proceso"};return o.jsx(pt,{variant:P[C],children:N[C]})};return o.jsxs("div",{className:"min-h-screen bg-background pb-20 md:pb-0",children:[o.jsx(Jd,{}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>window.location.href="/",className:"gap-2",children:[o.jsx(Wi,{className:"w-4 h-4"}),"Inicio"]}),o.jsx("div",{className:"h-6 w-px bg-border"}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[o.jsx(xo,{className:"h-6 w-6 text-destructive"}),"Sanciones"]}),o.jsx("p",{className:"text-muted-foreground",children:"Gestión de sanciones disciplinarias"})]})]}),o.jsxs(_e,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>g(!0),children:[o.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Nueva Sanción"]})]}),n&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(ke,{className:"border-destructive/20",children:o.jsx(Ae,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xo,{className:"h-5 w-5 text-destructive"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-destructive font-medium",children:"Total"}),o.jsx("p",{className:"text-xl font-bold text-destructive",children:n.total})]})]})})}),o.jsx(ke,{className:"border-warning/20 bg-warning/5",children:o.jsx(Ae,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xo,{className:"h-5 w-5 text-warning"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-warning font-medium",children:"Activas"}),o.jsx("p",{className:"text-xl font-bold text-warning",children:n.activas})]})]})})}),o.jsx(ke,{className:"border-success/20 bg-success/5",children:o.jsx(Ae,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(_f,{className:"h-5 w-5 text-success"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-success font-medium",children:"Cumplidas"}),o.jsx("p",{className:"text-xl font-bold text-success",children:n.cumplidas})]})]})})}),o.jsx(ke,{className:"border-primary/20 bg-primary/5",children:o.jsx(Ae,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xo,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-primary font-medium",children:"Multas Pendientes"}),o.jsxs("p",{className:"text-xl font-bold text-primary",children:["S/ ",n.montoMultasPendientes]})]})]})})})]}),o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(fk,{className:"h-5 w-5"}),"Filtros de Búsqueda"]})}),o.jsx(Ae,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Buscar"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ou,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ce,{placeholder:"Nombre, motivo, número...",value:l,onChange:C=>c(C.target.value),className:"pl-10"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Tipo de Entidad"}),o.jsxs(hr,{value:u||"all",onValueChange:C=>d(C==="all"?"":C),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Todas las entidades"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"all",children:"Todas las entidades"}),o.jsx(Te,{value:"empadronado",children:"Empadronados"}),o.jsx(Te,{value:"maestro_obra",children:"Maestros de Obra"}),o.jsx(Te,{value:"direccion",children:"Dirección"}),o.jsx(Te,{value:"vehiculo",children:"Vehículos"}),o.jsx(Te,{value:"negocio",children:"Negocios"}),o.jsx(Te,{value:"delegado",children:"Delegados"}),o.jsx(Te,{value:"junta_directiva",children:"Junta Directiva"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Tipo de Sanción"}),o.jsxs(hr,{value:f||"all",onValueChange:C=>h(C==="all"?"":C),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Todos los tipos"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"all",children:"Todos los tipos"}),o.jsx(Te,{value:"amonestacion",children:"Amonestación"}),o.jsx(Te,{value:"multa",children:"Multa"}),o.jsx(Te,{value:"suspension_temporal",children:"Suspensión Temporal"}),o.jsx(Te,{value:"suspension_permanente",children:"Suspensión Permanente"}),o.jsx(Te,{value:"inhabilitacion",children:"Inhabilitación"}),o.jsx(Te,{value:"otros",children:"Otros"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Estado"}),o.jsxs(hr,{value:p||"all",onValueChange:C=>x(C==="all"?"":C),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Todos los estados"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"all",children:"Todos los estados"}),o.jsx(Te,{value:"activa",children:"Activa"}),o.jsx(Te,{value:"cumplida",children:"Cumplida"}),o.jsx(Te,{value:"anulada",children:"Anulada"}),o.jsx(Te,{value:"en_proceso",children:"En Proceso"})]})]})]})]})})]}),o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsx(Ze,{children:"Lista de Sanciones"})}),o.jsx(Ae,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Xj,{children:[o.jsx(Qj,{children:o.jsxs(yd,{children:[o.jsx(Jn,{children:"Número"}),o.jsx(Jn,{children:"Entidad"}),o.jsx(Jn,{children:"Tipo"}),o.jsx(Jn,{children:"Motivo"}),o.jsx(Jn,{children:"Monto"}),o.jsx(Jn,{children:"Fecha"}),o.jsx(Jn,{children:"Estado"}),o.jsx(Jn,{children:"Acciones"})]})}),o.jsx(Zj,{children:a?o.jsx(yd,{children:o.jsx(Dn,{colSpan:8,className:"text-center py-8",children:"Cargando sanciones..."})}):t.length===0?o.jsx(yd,{children:o.jsxs(Dn,{colSpan:8,className:"text-center py-8",children:[o.jsx(xo,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No hay sanciones registradas"})]})}):t.map(C=>o.jsxs(yd,{children:[o.jsx(Dn,{className:"font-mono text-sm",children:C.numeroSancion}),o.jsx(Dn,{children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:C.entidadNombre}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[y(C.tipoEntidad),C.entidadDocumento&&` • ${C.entidadDocumento}`]})]})}),o.jsx(Dn,{children:o.jsx(pt,{variant:"outline",children:S(C.tipoSancion)})}),o.jsx(Dn,{className:"max-w-xs truncate",children:C.motivo}),o.jsx(Dn,{children:C.montoMulta?`S/ ${C.montoMulta}`:"-"}),o.jsx(Dn,{children:new Date(C.fechaAplicacion).toLocaleDateString("es-PE")}),o.jsx(Dn,{children:E(C.estado)}),o.jsx(Dn,{children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_e,{variant:"ghost",size:"sm",children:o.jsx(Wd,{className:"h-4 w-4"})}),o.jsx(_e,{variant:"ghost",size:"sm",children:o.jsx(hk,{className:"h-4 w-4"})}),o.jsx(_e,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",children:o.jsx(T$,{className:"h-4 w-4"})})]})})]},C.id))})]})})})]})]}),o.jsx(rje,{open:m,onOpenChange:g,onSuccess:_}),o.jsx(_m,{})]})};function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function sje(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rY(e){var t=sje(e,"string");return ql(t)=="symbol"?t:t+""}function hd(e,t,r){return(t=rY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(r),!0).forEach(function(n){hd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ob(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Uo(e,t){if(e==null)return{};var r,n,s=Ob(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rY(n.key),n)}}function $n(e,t,r){return t&&aF(e.prototype,t),r&&aF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function F_(e){return F_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F_(e)}function nY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nY=function(){return!!e})()}function aje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ije(e,t){if(t&&(ql(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aje(e)}function bs(e,t,r){return t=F_(t),ije(e,nY()?Reflect.construct(t,r||[],F_(e).constructor):t.apply(e,r))}function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},L_(e,t)}function Ss(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function sY(e){if(Array.isArray(e))return e}function oje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function DC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function YA(e,t){if(e){if(typeof e=="string")return DC(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?DC(e,t):void 0}}function aY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ja(e,t){return sY(e)||oje(e,t)||YA(e,t)||aY()}function iY(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=iY(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function dn(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=iY(e))&&(n&&(n+=" "),n+=t);return n}function ln(){return ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ln.apply(null,arguments)}var lje=function(e,t,r,n,s,a,i,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,a,i,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},cje=lje;const Hv=Us(cje);var uje=function(){};function dje(e,t){var r={};return Object.keys(e).forEach(function(n){r[ey(n)]=uje}),r}function iF(e,t){return e[t]!==void 0}function ey(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function fje(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function hje(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L_(e,t)}function oY(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function lY(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function cY(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}oY.__suppressDeprecationWarning=!0;lY.__suppressDeprecationWarning=!0;cY.__suppressDeprecationWarning=!0;function mje(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,s=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?s="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),r!==null||n!==null||s!==null){var a=e.displayName||e.name,i=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+i+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=oY,t.componentWillReceiveProps=lY),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=cY;var l=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,u,d,h)}}return e}var pje="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function uY(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",s=fje(e),a=Object.keys(t),i=a.map(ey);s||!r.length||Hv(!1);var l=function(u){hje(d,u);function d(){for(var h,p=arguments.length,x=new Array(p),m=0;m<p;m++)x[m]=arguments[m];h=u.call.apply(u,[this].concat(x))||this,h.handlers=Object.create(null),a.forEach(function(_){var y=t[_],S=function(C){if(h.props[y]){var P;h._notifying=!0;for(var N=arguments.length,A=new Array(N>1?N-1:0),j=1;j<N;j++)A[j-1]=arguments[j];(P=h.props)[y].apply(P,[C].concat(A)),h._notifying=!1}h.unmounted||h.setState(function(O){var W,z=O.values;return{values:ln(Object.create(null),z,(W={},W[_]=C,W))}})};h.handlers[y]=S}),r.length&&(h.attachRef=function(_){h.inner=_});var g=Object.create(null);return a.forEach(function(_){g[_]=h.props[ey(_)]}),h.state={values:g,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(p,x){var m=x.values,g=x.prevProps,_={values:ln(Object.create(null),m),prevProps:{}};return a.forEach(function(y){_.prevProps[y]=p[y],!iF(p,y)&&iF(g,y)&&(_.values[y]=p[ey(y)])}),_},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var p=this,x=this.props,m=x.innerRef,g=Ob(x,["innerRef"]);i.forEach(function(y){delete g[y]});var _={};return a.forEach(function(y){var S=p.props[y];_[y]=S!==void 0?S:p.state.values[y]}),H.createElement(e,ln({},g,_,this.handlers,{ref:m||this.attachRef}))},d}(H.Component);mje(l),l.displayName="Uncontrolled("+n+")",l.propTypes=ln({innerRef:function(){}},dje(t)),r.forEach(function(u){l.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=l;return H.forwardRef&&(c=H.forwardRef(function(u,d){return H.createElement(l,ln({},u,{innerRef:d,__source:{fileName:pje,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=e,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),uY(u,ln({},t,d),f)},c}var dY={exports:{}},vje="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gje=vje,xje=gje;function fY(){}function hY(){}hY.resetWarningCache=fY;var yje=function(){function e(n,s,a,i,l,c){if(c!==xje){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:hY,resetWarningCache:fY};return r.PropTypes=r,r};dY.exports=yje();var _je=dY.exports;const Be=Us(_je);var $_="milliseconds",Yv="seconds",Gv="minutes",qv="hours",cf="day",Cm="week",Kv="month",uf="year",df="decade",ff="century",mY={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},wje={month:1,year:12,decade:10*12,century:100*12};function bje(e){return[31,Sje(e),31,30,31,30,31,31,30,31,30,31]}function Sje(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Zi(e,t,r){switch(e=new Date(e),r){case $_:case Yv:case Gv:case qv:case cf:case Cm:return Eje(e,t*mY[r]);case Kv:case uf:case df:case ff:return Tje(e,t*wje[r])}throw new TypeError('Invalid units: "'+r+'"')}function Eje(e,t){var r=new Date(+e+t);return Cje(e,r)}function Tje(e,t){var r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),a=r*12+n+t,i=Math.trunc(a/12),l=a%12,c=Math.min(s,bje(i)[l]),u=new Date(e);return u.setFullYear(i),u.setDate(1),u.setMonth(l),u.setDate(c),u}function Cje(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),s=n-r;return new Date(+t+s*mY.minutes)}function Xv(e,t,r){return Zi(e,-t,r)}function ls(e,t,r){switch(e=new Date(e),t){case ff:case df:case uf:e=B_(e,0);case Kv:e=yY(e,1);case Cm:case cf:e=Jv(e,0);case qv:e=Nm(e,0);case Gv:e=Zv(e,0);case Yv:e=Qv(e,0)}return t===df&&(e=Xv(e,hf(e)%10,"year")),t===ff&&(e=Xv(e,hf(e)%100,"year")),t===Cm&&(e=_Y(e,0,r)),e}function U_(e,t,r){switch(e=new Date(e),e=ls(e,t,r),t){case ff:case df:case uf:case Kv:case Cm:e=Zi(e,1,t),e=Xv(e,1,cf),e.setHours(23,59,59,999);break;case cf:e.setHours(23,59,59,999);break;case qv:case Gv:case Yv:e=Zi(e,1,t),e=Xv(e,1,$_)}return e}var ex=mp(function(e,t){return e===t}),GA=mp(function(e,t){return e!==t}),Db=mp(function(e,t){return e>t}),tx=mp(function(e,t){return e>=t}),qA=mp(function(e,t){return e<t}),hp=mp(function(e,t){return e<=t});function pY(){return new Date(Math.min.apply(Math,arguments))}function vY(){return new Date(Math.max.apply(Math,arguments))}function gY(e,t,r,n){return n=n||"day",(!t||tx(e,t,n))&&(!r||hp(e,r,n))}var Qv=Gu("Milliseconds"),Zv=Gu("Seconds"),Nm=Gu("Minutes"),Jv=Gu("Hours"),xY=Gu("Day"),yY=Gu("Date"),B_=Gu("Month"),hf=Gu("FullYear");function Nje(e,t){return t===void 0?hf(ls(e,df)):Zi(e,t+10,uf)}function kje(e,t){return t===void 0?hf(ls(e,ff)):Zi(e,t+100,uf)}function _Y(e,t,r){var n=(xY(e)+7-(r||0))%7;return t===void 0?n:Zi(e,t-n,cf)}function jje(e,t,r,n){var s,a,i;switch(r){case $_:case Yv:case Gv:case qv:case cf:case Cm:s=t.getTime()-e.getTime();break;case Kv:case uf:case df:case ff:s=(hf(t)-hf(e))*12+B_(t)-B_(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case $_:a=1;break;case Yv:a=1e3;break;case Gv:a=1e3*60;break;case qv:a=1e3*60*60;break;case cf:a=1e3*60*60*24;break;case Cm:a=1e3*60*60*24*7;break;case Kv:a=1;break;case uf:a=12;break;case df:a=120;break;case ff:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return i=s/a,n?i:Math.round(i)}function Gu(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var s=new Date(r);return s["set"+e](n),t&&s["get"+e]()!=n&&(e==="Hours"||n>=t&&s.getHours()-r.getHours()<Math.floor(n/t))&&s["set"+e](n+t),s}}function mp(e){return function(t,r,n){return e(+ls(t,n),+ls(r,n))}}const oF=Object.freeze(Object.defineProperty({__proto__:null,add:Zi,century:kje,date:yY,day:xY,decade:Nje,diff:jje,endOf:U_,eq:ex,gt:Db,gte:tx,hours:Jv,inRange:gY,lt:qA,lte:hp,max:vY,milliseconds:Qv,min:pY,minutes:Nm,month:B_,neq:GA,seconds:Zv,startOf:ls,subtract:Xv,weekday:_Y,year:hf},Symbol.toStringTag,{value:"Module"}));function Aje(e){if(Array.isArray(e))return DC(e)}function wY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ty(e){return Aje(e)||wY(e)||YA(e)||Pje()}function Oje(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var bY=Oje;function Dje(e,t){return e===t||e!==e&&t!==t}var rx=Dje,Rje=typeof Zs=="object"&&Zs&&Zs.Object===Object&&Zs,SY=Rje,Ije=SY,Mje=typeof self=="object"&&self&&self.Object===Object&&self,Fje=Ije||Mje||Function("return this")(),Yo=Fje,Lje=Yo,$je=Lje.Symbol,pp=$je,lF=pp,EY=Object.prototype,Uje=EY.hasOwnProperty,Bje=EY.toString,e0=lF?lF.toStringTag:void 0;function Wje(e){var t=Uje.call(e,e0),r=e[e0];try{e[e0]=void 0;var n=!0}catch{}var s=Bje.call(e);return n&&(t?e[e0]=r:delete e[e0]),s}var Vje=Wje,zje=Object.prototype,Hje=zje.toString;function Yje(e){return Hje.call(e)}var Gje=Yje,cF=pp,qje=Vje,Kje=Gje,Xje="[object Null]",Qje="[object Undefined]",uF=cF?cF.toStringTag:void 0;function Zje(e){return e==null?e===void 0?Qje:Xje:uF&&uF in Object(e)?qje(e):Kje(e)}var vp=Zje;function Jje(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var oc=Jje,eAe=vp,tAe=oc,rAe="[object AsyncFunction]",nAe="[object Function]",sAe="[object GeneratorFunction]",aAe="[object Proxy]";function iAe(e){if(!tAe(e))return!1;var t=eAe(e);return t==nAe||t==sAe||t==rAe||t==aAe}var KA=iAe,oAe=9007199254740991;function lAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=oAe}var XA=lAe,cAe=KA,uAe=XA;function dAe(e){return e!=null&&uAe(e.length)&&!cAe(e)}var nx=dAe,fAe=9007199254740991,hAe=/^(?:0|[1-9]\d*)$/;function mAe(e,t){var r=typeof e;return t=t??fAe,!!t&&(r=="number"||r!="symbol"&&hAe.test(e))&&e>-1&&e%1==0&&e<t}var QA=mAe,pAe=rx,vAe=nx,gAe=QA,xAe=oc;function yAe(e,t,r){if(!xAe(r))return!1;var n=typeof t;return(n=="number"?vAe(r)&&gAe(t,r.length):n=="string"&&t in r)?pAe(r[t],e):!1}var Rb=yAe,_Ae=/\s/;function wAe(e){for(var t=e.length;t--&&_Ae.test(e.charAt(t)););return t}var bAe=wAe,SAe=bAe,EAe=/^\s+/;function TAe(e){return e&&e.slice(0,SAe(e)+1).replace(EAe,"")}var CAe=TAe;function NAe(e){return e!=null&&typeof e=="object"}var qu=NAe,kAe=vp,jAe=qu,AAe="[object Symbol]";function PAe(e){return typeof e=="symbol"||jAe(e)&&kAe(e)==AAe}var sx=PAe,OAe=CAe,dF=oc,DAe=sx,fF=NaN,RAe=/^[-+]0x[0-9a-f]+$/i,IAe=/^0b[01]+$/i,MAe=/^0o[0-7]+$/i,FAe=parseInt;function LAe(e){if(typeof e=="number")return e;if(DAe(e))return fF;if(dF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=dF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=OAe(e);var r=IAe.test(e);return r||MAe.test(e)?FAe(e.slice(2),r?2:8):RAe.test(e)?fF:+e}var $Ae=LAe,UAe=$Ae,hF=1/0,BAe=17976931348623157e292;function WAe(e){if(!e)return e===0?e:0;if(e=UAe(e),e===hF||e===-hF){var t=e<0?-1:1;return t*BAe}return e===e?e:0}var TY=WAe,VAe=TY;function zAe(e){var t=VAe(e),r=t%1;return t===t?r?t-r:t:0}var CY=zAe,HAe=bY,YAe=Rb,GAe=CY,qAe=Math.ceil,KAe=Math.max;function XAe(e,t,r){(r?YAe(e,t,r):t===void 0)?t=1:t=KAe(GAe(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var s=0,a=0,i=Array(qAe(n/t));s<n;)i[a++]=HAe(e,s,s+=t);return i}var QAe=XAe;const ZAe=Us(QAe);function ax(e){return e&&e.ownerDocument||document}function JAe(e){var t=ax(e);return t&&t.defaultView||window}function ePe(e,t){return JAe(e).getComputedStyle(e,t)}var tPe=/([A-Z])/g;function rPe(e){return e.replace(tPe,"-$1").toLowerCase()}var nPe=/^ms-/;function x1(e){return rPe(e).replace(nPe,"-ms-")}var sPe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function aPe(e){return!!(e&&sPe.test(e))}function ah(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(x1(t))||ePe(e).getPropertyValue(x1(t));Object.keys(t).forEach(function(s){var a=t[s];!a&&a!==0?e.style.removeProperty(x1(s)):aPe(s)?n+=s+"("+a+") ":r+=x1(s)+": "+a+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function eg(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function iPe(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function ZA(e){return"window"in e&&e.window===e?e:iPe(e)&&e.defaultView||!1}function NY(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,s){var a=ZA(n);if(s===void 0)return a?a[e]:n[t];a?a.scrollTo(a[e],s):n[t]=s}return r}const kY=NY("pageXOffset"),jY=NY("pageYOffset");function Od(e){var t=ax(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!eg(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+jY(n)-(n.clientTop||0),left:r.left+kY(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var oPe=function(t){return!!t&&"offsetParent"in t};function lPe(e){for(var t=ax(e),r=e&&e.offsetParent;oPe(r)&&r.nodeName!=="HTML"&&ah(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var cPe=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function AY(e,t){var r={top:0,left:0},n;if(ah(e,"position")==="fixed")n=e.getBoundingClientRect();else{var s=t||lPe(e);n=Od(e),cPe(s)!=="html"&&(r=Od(s));var a=String(ah(s,"borderTopWidth")||0);r.top+=parseInt(a,10)-jY(s)||0;var i=String(ah(s,"borderLeftWidth")||0);r.left+=parseInt(i,10)-kY(s)||0}var l=String(ah(e,"marginTop")||0),c=String(ah(e,"marginLeft")||0);return ln({},n,{top:n.top-r.top-(parseInt(l,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const JA=!!(typeof window<"u"&&window.document&&window.document.createElement);var mF=new Date().getTime();function uPe(e){var t=new Date().getTime(),r=Math.max(0,16-(t-mF)),n=setTimeout(e,r);return mF=t,n}var dPe=["","webkit","moz","o","ms"],RC="clearTimeout",IC=uPe,pF=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};JA&&dPe.some(function(e){var t=pF(e,"request");return t in window&&(RC=pF(e,"cancel"),IC=function(n){return window[t](n)}),!!IC});var vF=function(t){typeof window[RC]=="function"&&window[RC](t)},PY=IC,c2;function fPe(e,t){if(!c2){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;c2=function(a,i){return n.call(a,i)}}return c2(e,t)}var hPe=Function.prototype.bind.call(Function.prototype.call,[].slice);function mPe(e,t){return hPe(e.querySelectorAll(t))}var MC=!1,FC=!1;try{var u2={get passive(){return MC=!0},get once(){return FC=MC=!0}};JA&&(window.addEventListener("test",u2,u2),window.removeEventListener("test",u2,!0))}catch{}function pPe(e,t,r,n){if(n&&typeof n!="boolean"&&!FC){var s=n.once,a=n.capture,i=r;!FC&&s&&(i=r.__once||function l(c){this.removeEventListener(t,l,a),r.call(this,c)},r.__once=i),e.addEventListener(t,i,MC?n:a)}e.addEventListener(t,r,n)}function vPe(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e},[e]),t}function gF(e){const t=vPe(e);return w.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function xF(){return w.useState(null)}function gPe(){const e=w.useRef(!0),t=w.useRef(()=>e.current);return w.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function xPe(e){const t=gPe();return[e[0],w.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var la="top",li="bottom",ci="right",ca="left",eP="auto",ix=[la,li,ci,ca],km="start",tg="end",yPe="clippingParents",OY="viewport",t0="popper",_Pe="reference",yF=ix.reduce(function(e,t){return e.concat([t+"-"+km,t+"-"+tg])},[]),tP=[].concat(ix,[eP]).reduce(function(e,t){return e.concat([t,t+"-"+km,t+"-"+tg])},[]),wPe="beforeRead",bPe="read",SPe="afterRead",EPe="beforeMain",TPe="main",CPe="afterMain",NPe="beforeWrite",kPe="write",jPe="afterWrite",APe=[wPe,bPe,SPe,EPe,TPe,CPe,NPe,kPe,jPe];function Ro(e){return e.split("-")[0]}function Ra(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function mf(e){var t=Ra(e).Element;return e instanceof t||e instanceof Element}function Io(e){var t=Ra(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function rP(e){if(typeof ShadowRoot>"u")return!1;var t=Ra(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Dd=Math.max,W_=Math.min,jm=Math.round;function LC(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function DY(){return!/^((?!chrome|android).)*safari/i.test(LC())}function Am(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),s=1,a=1;t&&Io(e)&&(s=e.offsetWidth>0&&jm(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&jm(n.height)/e.offsetHeight||1);var i=mf(e)?Ra(e):window,l=i.visualViewport,c=!DY()&&r,u=(n.left+(c&&l?l.offsetLeft:0))/s,d=(n.top+(c&&l?l.offsetTop:0))/a,f=n.width/s,h=n.height/a;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function nP(e){var t=Am(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function RY(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&rP(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Tu(e){return e?(e.nodeName||"").toLowerCase():null}function Kl(e){return Ra(e).getComputedStyle(e)}function PPe(e){return["table","td","th"].indexOf(Tu(e))>=0}function Ku(e){return((mf(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ib(e){return Tu(e)==="html"?e:e.assignedSlot||e.parentNode||(rP(e)?e.host:null)||Ku(e)}function _F(e){return!Io(e)||Kl(e).position==="fixed"?null:e.offsetParent}function OPe(e){var t=/firefox/i.test(LC()),r=/Trident/i.test(LC());if(r&&Io(e)){var n=Kl(e);if(n.position==="fixed")return null}var s=Ib(e);for(rP(s)&&(s=s.host);Io(s)&&["html","body"].indexOf(Tu(s))<0;){var a=Kl(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function ox(e){for(var t=Ra(e),r=_F(e);r&&PPe(r)&&Kl(r).position==="static";)r=_F(r);return r&&(Tu(r)==="html"||Tu(r)==="body"&&Kl(r).position==="static")?t:r||OPe(e)||t}function sP(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function H0(e,t,r){return Dd(e,W_(t,r))}function DPe(e,t,r){var n=H0(e,t,r);return n>r?r:n}function IY(){return{top:0,right:0,bottom:0,left:0}}function MY(e){return Object.assign({},IY(),e)}function FY(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var RPe=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,MY(typeof t!="number"?t:FY(t,ix))};function IPe(e){var t,r=e.state,n=e.name,s=e.options,a=r.elements.arrow,i=r.modifiersData.popperOffsets,l=Ro(r.placement),c=sP(l),u=[ca,ci].indexOf(l)>=0,d=u?"height":"width";if(!(!a||!i)){var f=RPe(s.padding,r),h=nP(a),p=c==="y"?la:ca,x=c==="y"?li:ci,m=r.rects.reference[d]+r.rects.reference[c]-i[c]-r.rects.popper[d],g=i[c]-r.rects.reference[c],_=ox(a),y=_?c==="y"?_.clientHeight||0:_.clientWidth||0:0,S=m/2-g/2,E=f[p],C=y-h[d]-f[x],P=y/2-h[d]/2+S,N=H0(E,P,C),A=c;r.modifiersData[n]=(t={},t[A]=N,t.centerOffset=N-P,t)}}function MPe(e){var t=e.state,r=e.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||RY(t.elements.popper,s)&&(t.elements.arrow=s))}const FPe={name:"arrow",enabled:!0,phase:"main",fn:IPe,effect:MPe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pm(e){return e.split("-")[1]}var LPe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $Pe(e,t){var r=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:jm(r*s)/s||0,y:jm(n*s)/s||0}}function wF(e){var t,r=e.popper,n=e.popperRect,s=e.placement,a=e.variation,i=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=i.x,p=h===void 0?0:h,x=i.y,m=x===void 0?0:x,g=typeof d=="function"?d({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var _=i.hasOwnProperty("x"),y=i.hasOwnProperty("y"),S=ca,E=la,C=window;if(u){var P=ox(r),N="clientHeight",A="clientWidth";if(P===Ra(r)&&(P=Ku(r),Kl(P).position!=="static"&&l==="absolute"&&(N="scrollHeight",A="scrollWidth")),P=P,s===la||(s===ca||s===ci)&&a===tg){E=li;var j=f&&P===C&&C.visualViewport?C.visualViewport.height:P[N];m-=j-n.height,m*=c?1:-1}if(s===ca||(s===la||s===li)&&a===tg){S=ci;var O=f&&P===C&&C.visualViewport?C.visualViewport.width:P[A];p-=O-n.width,p*=c?1:-1}}var W=Object.assign({position:l},u&&LPe),z=d===!0?$Pe({x:p,y:m},Ra(r)):{x:p,y:m};if(p=z.x,m=z.y,c){var Y;return Object.assign({},W,(Y={},Y[E]=y?"0":"",Y[S]=_?"0":"",Y.transform=(C.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",Y))}return Object.assign({},W,(t={},t[E]=y?m+"px":"",t[S]=_?p+"px":"",t.transform="",t))}function UPe(e){var t=e.state,r=e.options,n=r.gpuAcceleration,s=n===void 0?!0:n,a=r.adaptive,i=a===void 0?!0:a,l=r.roundOffsets,c=l===void 0?!0:l,u={placement:Ro(t.placement),variation:Pm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,wF(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,wF(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const BPe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:UPe,data:{}};var y1={passive:!0};function WPe(e){var t=e.state,r=e.instance,n=e.options,s=n.scroll,a=s===void 0?!0:s,i=n.resize,l=i===void 0?!0:i,c=Ra(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(d){d.addEventListener("scroll",r.update,y1)}),l&&c.addEventListener("resize",r.update,y1),function(){a&&u.forEach(function(d){d.removeEventListener("scroll",r.update,y1)}),l&&c.removeEventListener("resize",r.update,y1)}}const VPe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:WPe,data:{}};var zPe={left:"right",right:"left",bottom:"top",top:"bottom"};function ry(e){return e.replace(/left|right|bottom|top/g,function(t){return zPe[t]})}var HPe={start:"end",end:"start"};function bF(e){return e.replace(/start|end/g,function(t){return HPe[t]})}function aP(e){var t=Ra(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function iP(e){return Am(Ku(e)).left+aP(e).scrollLeft}function YPe(e,t){var r=Ra(e),n=Ku(e),s=r.visualViewport,a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;var u=DY();(u||!u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l+iP(e),y:c}}function GPe(e){var t,r=Ku(e),n=aP(e),s=(t=e.ownerDocument)==null?void 0:t.body,a=Dd(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=Dd(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-n.scrollLeft+iP(e),c=-n.scrollTop;return Kl(s||r).direction==="rtl"&&(l+=Dd(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:i,x:l,y:c}}function oP(e){var t=Kl(e),r=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function LY(e){return["html","body","#document"].indexOf(Tu(e))>=0?e.ownerDocument.body:Io(e)&&oP(e)?e:LY(Ib(e))}function Y0(e,t){var r;t===void 0&&(t=[]);var n=LY(e),s=n===((r=e.ownerDocument)==null?void 0:r.body),a=Ra(n),i=s?[a].concat(a.visualViewport||[],oP(n)?n:[]):n,l=t.concat(i);return s?l:l.concat(Y0(Ib(i)))}function $C(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function qPe(e,t){var r=Am(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function SF(e,t,r){return t===OY?$C(YPe(e,r)):mf(t)?qPe(t,r):$C(GPe(Ku(e)))}function KPe(e){var t=Y0(Ib(e)),r=["absolute","fixed"].indexOf(Kl(e).position)>=0,n=r&&Io(e)?ox(e):e;return mf(n)?t.filter(function(s){return mf(s)&&RY(s,n)&&Tu(s)!=="body"}):[]}function XPe(e,t,r,n){var s=t==="clippingParents"?KPe(e):[].concat(t),a=[].concat(s,[r]),i=a[0],l=a.reduce(function(c,u){var d=SF(e,u,n);return c.top=Dd(d.top,c.top),c.right=W_(d.right,c.right),c.bottom=W_(d.bottom,c.bottom),c.left=Dd(d.left,c.left),c},SF(e,i,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function $Y(e){var t=e.reference,r=e.element,n=e.placement,s=n?Ro(n):null,a=n?Pm(n):null,i=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,c;switch(s){case la:c={x:i,y:t.y-r.height};break;case li:c={x:i,y:t.y+t.height};break;case ci:c={x:t.x+t.width,y:l};break;case ca:c={x:t.x-r.width,y:l};break;default:c={x:t.x,y:t.y}}var u=s?sP(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(a){case km:c[u]=c[u]-(t[d]/2-r[d]/2);break;case tg:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function rg(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=n===void 0?e.placement:n,a=r.strategy,i=a===void 0?e.strategy:a,l=r.boundary,c=l===void 0?yPe:l,u=r.rootBoundary,d=u===void 0?OY:u,f=r.elementContext,h=f===void 0?t0:f,p=r.altBoundary,x=p===void 0?!1:p,m=r.padding,g=m===void 0?0:m,_=MY(typeof g!="number"?g:FY(g,ix)),y=h===t0?_Pe:t0,S=e.rects.popper,E=e.elements[x?y:h],C=XPe(mf(E)?E:E.contextElement||Ku(e.elements.popper),c,d,i),P=Am(e.elements.reference),N=$Y({reference:P,element:S,strategy:"absolute",placement:s}),A=$C(Object.assign({},S,N)),j=h===t0?A:P,O={top:C.top-j.top+_.top,bottom:j.bottom-C.bottom+_.bottom,left:C.left-j.left+_.left,right:j.right-C.right+_.right},W=e.modifiersData.offset;if(h===t0&&W){var z=W[s];Object.keys(O).forEach(function(Y){var J=[ci,li].indexOf(Y)>=0?1:-1,ie=[la,li].indexOf(Y)>=0?"y":"x";O[Y]+=z[ie]*J})}return O}function QPe(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=r.boundary,a=r.rootBoundary,i=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?tP:c,d=Pm(n),f=d?l?yF:yF.filter(function(x){return Pm(x)===d}):ix,h=f.filter(function(x){return u.indexOf(x)>=0});h.length===0&&(h=f);var p=h.reduce(function(x,m){return x[m]=rg(e,{placement:m,boundary:s,rootBoundary:a,padding:i})[Ro(m)],x},{});return Object.keys(p).sort(function(x,m){return p[x]-p[m]})}function ZPe(e){if(Ro(e)===eP)return[];var t=ry(e);return[bF(e),t,bF(t)]}function JPe(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=r.mainAxis,a=s===void 0?!0:s,i=r.altAxis,l=i===void 0?!0:i,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,x=p===void 0?!0:p,m=r.allowedAutoPlacements,g=t.options.placement,_=Ro(g),y=_===g,S=c||(y||!x?[ry(g)]:ZPe(g)),E=[g].concat(S).reduce(function(L,I){return L.concat(Ro(I)===eP?QPe(t,{placement:I,boundary:d,rootBoundary:f,padding:u,flipVariations:x,allowedAutoPlacements:m}):I)},[]),C=t.rects.reference,P=t.rects.popper,N=new Map,A=!0,j=E[0],O=0;O<E.length;O++){var W=E[O],z=Ro(W),Y=Pm(W)===km,J=[la,li].indexOf(z)>=0,ie=J?"width":"height",oe=rg(t,{placement:W,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),re=J?Y?ci:ca:Y?li:la;C[ie]>P[ie]&&(re=ry(re));var Z=ry(re),ae=[];if(a&&ae.push(oe[z]<=0),l&&ae.push(oe[re]<=0,oe[Z]<=0),ae.every(function(L){return L})){j=W,A=!1;break}N.set(W,ae)}if(A)for(var ge=x?3:1,se=function(I){var U=E.find(function(X){var de=N.get(X);if(de)return de.slice(0,I).every(function(ye){return ye})});if(U)return j=U,"break"},R=ge;R>0;R--){var F=se(R);if(F==="break")break}t.placement!==j&&(t.modifiersData[n]._skip=!0,t.placement=j,t.reset=!0)}}const eOe={name:"flip",enabled:!0,phase:"main",fn:JPe,requiresIfExists:["offset"],data:{_skip:!1}};function EF(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function TF(e){return[la,ci,li,ca].some(function(t){return e[t]>=0})}function tOe(e){var t=e.state,r=e.name,n=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,i=rg(t,{elementContext:"reference"}),l=rg(t,{altBoundary:!0}),c=EF(i,n),u=EF(l,s,a),d=TF(c),f=TF(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const rOe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:tOe};function nOe(e,t,r){var n=Ro(e),s=[ca,la].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,i=a[0],l=a[1];return i=i||0,l=(l||0)*s,[ca,ci].indexOf(n)>=0?{x:l,y:i}:{x:i,y:l}}function sOe(e){var t=e.state,r=e.options,n=e.name,s=r.offset,a=s===void 0?[0,0]:s,i=tP.reduce(function(d,f){return d[f]=nOe(f,t.rects,a),d},{}),l=i[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=i}const aOe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sOe};function iOe(e){var t=e.state,r=e.name;t.modifiersData[r]=$Y({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const oOe={name:"popperOffsets",enabled:!0,phase:"read",fn:iOe,data:{}};function lOe(e){return e==="x"?"y":"x"}function cOe(e){var t=e.state,r=e.options,n=e.name,s=r.mainAxis,a=s===void 0?!0:s,i=r.altAxis,l=i===void 0?!1:i,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,p=h===void 0?!0:h,x=r.tetherOffset,m=x===void 0?0:x,g=rg(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),_=Ro(t.placement),y=Pm(t.placement),S=!y,E=sP(_),C=lOe(E),P=t.modifiersData.popperOffsets,N=t.rects.reference,A=t.rects.popper,j=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,O=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),W=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,z={x:0,y:0};if(P){if(a){var Y,J=E==="y"?la:ca,ie=E==="y"?li:ci,oe=E==="y"?"height":"width",re=P[E],Z=re+g[J],ae=re-g[ie],ge=p?-A[oe]/2:0,se=y===km?N[oe]:A[oe],R=y===km?-A[oe]:-N[oe],F=t.elements.arrow,L=p&&F?nP(F):{width:0,height:0},I=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:IY(),U=I[J],X=I[ie],de=H0(0,N[oe],L[oe]),ye=S?N[oe]/2-ge-de-U-O.mainAxis:se-de-U-O.mainAxis,me=S?-N[oe]/2+ge+de+X+O.mainAxis:R+de+X+O.mainAxis,Ue=t.elements.arrow&&ox(t.elements.arrow),We=Ue?E==="y"?Ue.clientTop||0:Ue.clientLeft||0:0,mt=(Y=W==null?void 0:W[E])!=null?Y:0,lt=re+ye-mt-We,Kt=re+me-mt,ut=H0(p?W_(Z,lt):Z,re,p?Dd(ae,Kt):ae);P[E]=ut,z[E]=ut-re}if(l){var Ie,ht=E==="x"?la:ca,wt=E==="x"?li:ci,Q=P[C],ne=C==="y"?"height":"width",te=Q+g[ht],he=Q-g[wt],pe=[la,ca].indexOf(_)!==-1,je=(Ie=W==null?void 0:W[C])!=null?Ie:0,Me=pe?te:Q-N[ne]-A[ne]-je+O.altAxis,bt=pe?Q+N[ne]+A[ne]-je-O.altAxis:he,jt=p&&pe?DPe(Me,Q,bt):H0(p?Me:te,Q,p?bt:he);P[C]=jt,z[C]=jt-Q}t.modifiersData[n]=z}}const uOe={name:"preventOverflow",enabled:!0,phase:"main",fn:cOe,requiresIfExists:["offset"]};function dOe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function fOe(e){return e===Ra(e)||!Io(e)?aP(e):dOe(e)}function hOe(e){var t=e.getBoundingClientRect(),r=jm(t.width)/e.offsetWidth||1,n=jm(t.height)/e.offsetHeight||1;return r!==1||n!==1}function mOe(e,t,r){r===void 0&&(r=!1);var n=Io(t),s=Io(t)&&hOe(t),a=Ku(t),i=Am(e,s,r),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((Tu(t)!=="body"||oP(a))&&(l=fOe(t)),Io(t)?(c=Am(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=iP(a))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function pOe(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function s(a){r.add(a.name);var i=[].concat(a.requires||[],a.requiresIfExists||[]);i.forEach(function(l){if(!r.has(l)){var c=t.get(l);c&&s(c)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||s(a)}),n}function vOe(e){var t=pOe(e);return APe.reduce(function(r,n){return r.concat(t.filter(function(s){return s.phase===n}))},[])}function gOe(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function xOe(e){var t=e.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var CF={placement:"bottom",modifiers:[],strategy:"absolute"};function NF(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function yOe(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,s=t.defaultOptions,a=s===void 0?CF:s;return function(l,c,u){u===void 0&&(u=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},CF,a),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],h=!1,p={state:d,setOptions:function(_){var y=typeof _=="function"?_(d.options):_;m(),d.options=Object.assign({},a,d.options,y),d.scrollParents={reference:mf(l)?Y0(l):l.contextElement?Y0(l.contextElement):[],popper:Y0(c)};var S=vOe(xOe([].concat(n,d.options.modifiers)));return d.orderedModifiers=S.filter(function(E){return E.enabled}),x(),p.update()},forceUpdate:function(){if(!h){var _=d.elements,y=_.reference,S=_.popper;if(NF(y,S)){d.rects={reference:mOe(y,ox(S),d.options.strategy==="fixed"),popper:nP(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(O){return d.modifiersData[O.name]=Object.assign({},O.data)});for(var E=0;E<d.orderedModifiers.length;E++){if(d.reset===!0){d.reset=!1,E=-1;continue}var C=d.orderedModifiers[E],P=C.fn,N=C.options,A=N===void 0?{}:N,j=C.name;typeof P=="function"&&(d=P({state:d,options:A,name:j,instance:p})||d)}}}},update:gOe(function(){return new Promise(function(g){p.forceUpdate(),g(d)})}),destroy:function(){m(),h=!0}};if(!NF(l,c))return p;p.setOptions(u).then(function(g){!h&&u.onFirstUpdate&&u.onFirstUpdate(g)});function x(){d.orderedModifiers.forEach(function(g){var _=g.name,y=g.options,S=y===void 0?{}:y,E=g.effect;if(typeof E=="function"){var C=E({state:d,name:_,instance:p,options:S}),P=function(){};f.push(C||P)}})}function m(){f.forEach(function(g){return g()}),f=[]}return p}}var _Oe=yOe({defaultModifiers:[rOe,oOe,BPe,VPe,aOe,eOe,uOe,FPe]}),kF=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},wOe={name:"applyStyles",enabled:!1},bOe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,s=n.reference,a=n.popper;if("removeAttribute"in s){var i=(s.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==a.id});i.length?s.setAttribute("aria-describedby",i.join(",")):s.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,s=n.elements,a=s.popper,i=s.reference,l=(r=a.getAttribute("role"))==null?void 0:r.toLowerCase();if(a.id&&l==="tooltip"&&"setAttribute"in i){var c=i.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(a.id)!==-1)return;i.setAttribute("aria-describedby",c?c+","+a.id:a.id)}}},SOe=[];function EOe(e,t,r){var n=r===void 0?{}:r,s=n.enabled,a=s===void 0?!0:s,i=n.placement,l=i===void 0?"bottom":i,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?SOe:d,h=Ob(n,["enabled","placement","strategy","modifiers"]),p=w.useRef(),x=w.useCallback(function(){var E;(E=p.current)==null||E.update()},[]),m=w.useCallback(function(){var E;(E=p.current)==null||E.forceUpdate()},[]),g=xPe(w.useState({placement:l,update:x,forceUpdate:m,attributes:{},styles:{popper:kF(u),arrow:{}}})),_=g[0],y=g[1],S=w.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(C){var P=C.state,N={},A={};Object.keys(P.elements).forEach(function(j){N[j]=P.styles[j],A[j]=P.attributes[j]}),y({state:P,styles:N,attributes:A,update:x,forceUpdate:m,placement:P.placement})}}},[x,m,y]);return w.useEffect(function(){!p.current||!a||p.current.setOptions({placement:l,strategy:u,modifiers:[].concat(f,[S,wOe])})},[u,l,S,a]),w.useEffect(function(){if(!(!a||e==null||t==null))return p.current=_Oe(e,t,ln({},h,{placement:l,strategy:u,modifiers:[].concat(f,[bOe,S])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,y(function(E){return ln({},E,{attributes:{},styles:{popper:kF(u)}})}))}},[a,e,t]),_}function TOe(e,t,r,n){var s=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,s),r.__once&&e.removeEventListener(t,r.__once,s)}function v0(e,t,r,n){return pPe(e,t,r,n),function(){TOe(e,t,r,n)}}var COe=function(){},NOe=COe;const kOe=Us(NOe);function jOe(e){return e&&"setState"in e?ww.findDOMNode(e):e??null}const AOe=function(e){return ax(jOe(e))};var POe=27,jF=function(){};function OOe(e){return e.button===0}function DOe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var AF=function(t){return t&&("current"in t?t.current:t)};function ROe(e,t,r){var n=r===void 0?{}:r,s=n.disabled,a=n.clickTrigger,i=a===void 0?"click":a,l=w.useRef(!1),c=t||jF,u=w.useCallback(function(h){var p,x=AF(e);kOe(!!x,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!x||DOe(h)||!OOe(h)||!!eg(x,(p=h.composedPath==null?void 0:h.composedPath()[0])!=null?p:h.target)},[e]),d=gF(function(h){l.current||c(h)}),f=gF(function(h){h.keyCode===POe&&c(h)});w.useEffect(function(){if(!(s||e==null)){var h=window.event,p=AOe(AF(e)),x=v0(p,i,u,!0),m=v0(p,i,function(y){if(y===h){h=void 0;return}d(y)}),g=v0(p,"keyup",function(y){if(y===h){h=void 0;return}f(y)}),_=[];return"ontouchstart"in p.documentElement&&(_=[].slice.call(p.body.children).map(function(y){return v0(y,"mousemove",jF)})),function(){x(),m(),g(),_.forEach(function(y){return y()})}}},[e,s,i,u,d,f])}function IOe(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function MOe(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function FOe(e){var t,r,n,s,a=e.enabled,i=e.enableEvents,l=e.placement,c=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,h=e.arrowElement,p=e.popperConfig,x=p===void 0?{}:p,m=IOe(x.modifiers);return ln({},x,{placement:l,enabled:a,strategy:d?"fixed":x.strategy,modifiers:MOe(ln({},m,{eventListeners:{enabled:i},preventOverflow:ln({},m.preventOverflow,{options:f?ln({padding:f},(t=m.preventOverflow)==null?void 0:t.options):(r=m.preventOverflow)==null?void 0:r.options}),offset:{options:ln({offset:u},(n=m.offset)==null?void 0:n.options)},arrow:ln({},m.arrow,{enabled:!!h,options:ln({},(s=m.arrow)==null?void 0:s.options,{element:h})}),flip:ln({enabled:!!c},m.flip)}))})}function LOe(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function $Oe(e,t){e.classList?e.classList.add(t):LOe(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function PF(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function UOe(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=PF(e.className,t):e.setAttribute("class",PF(e.className&&e.className.baseVal||"",t))}var _1;function lP(e){if((!_1&&_1!==0||e)&&JA){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),_1=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return _1}var d2=function(t){var r;return typeof document>"u"?null:t==null?ax().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function OF(e,t){var r=w.useState(function(){return d2(e)}),n=r[0],s=r[1];if(!n){var a=d2(e);a&&s(a)}return w.useEffect(function(){},[t,n]),w.useEffect(function(){var i=d2(e);i!==n&&s(i)},[e,n]),n}const DF=e=>!e||typeof e=="function"?e:t=>{e.current=t};function BOe(e,t){const r=DF(e),n=DF(t);return s=>{r&&r(s),n&&n(s)}}function WOe(e,t){return w.useMemo(()=>BOe(e,t),[e,t])}var cP=H.forwardRef(function(e,t){var r=e.flip,n=e.offset,s=e.placement,a=e.containerPadding,i=a===void 0?5:a,l=e.popperConfig,c=l===void 0?{}:l,u=e.transition,d=xF(),f=d[0],h=d[1],p=xF(),x=p[0],m=p[1],g=WOe(h,t),_=OF(e.container),y=OF(e.target),S=w.useState(!e.show),E=S[0],C=S[1],P=EOe(y,f,FOe({placement:s,enableEvents:!!e.show,containerPadding:i||5,flip:r,offset:n,arrowElement:x,popperConfig:c})),N=P.styles,A=P.attributes,j=Ob(P,["styles","attributes"]);e.show?E&&C(!1):!e.transition&&!E&&C(!0);var O=function(){C(!0),e.onExited&&e.onExited.apply(e,arguments)},W=e.show||u&&!E;if(ROe(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!W)return null;var z=e.children(ln({},j,{show:!!e.show,props:ln({},A.popper,{style:N.popper,ref:g}),arrowProps:ln({},A.arrow,{style:N.arrow,ref:m})}));if(u){var Y=e.onExit,J=e.onExiting,ie=e.onEnter,oe=e.onEntering,re=e.onEntered;z=H.createElement(u,{in:e.show,appear:!0,onExit:Y,onExiting:J,onExited:O,onEnter:ie,onEntering:oe,onEntered:re},z)}return _?ww.createPortal(z,_):null});cP.displayName="Overlay";cP.propTypes={show:Be.bool,placement:Be.oneOf(tP),target:Be.any,container:Be.any,flip:Be.bool,children:Be.func.isRequired,containerPadding:Be.number,popperConfig:Be.object,rootClose:Be.bool,rootCloseEvent:Be.oneOf(["click","mousedown"]),rootCloseDisabled:Be.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];if(t.rootClose){var a;return(a=Be.func).isRequired.apply(a,[t].concat(n))}return Be.func.apply(Be,[t].concat(n))},transition:Be.elementType,onEnter:Be.func,onEntering:Be.func,onEntered:Be.func,onExit:Be.func,onExiting:Be.func,onExited:Be.func};function VOe(){this.__data__=[],this.size=0}var zOe=VOe,HOe=rx;function YOe(e,t){for(var r=e.length;r--;)if(HOe(e[r][0],t))return r;return-1}var Mb=YOe,GOe=Mb,qOe=Array.prototype,KOe=qOe.splice;function XOe(e){var t=this.__data__,r=GOe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():KOe.call(t,r,1),--this.size,!0}var QOe=XOe,ZOe=Mb;function JOe(e){var t=this.__data__,r=ZOe(t,e);return r<0?void 0:t[r][1]}var eDe=JOe,tDe=Mb;function rDe(e){return tDe(this.__data__,e)>-1}var nDe=rDe,sDe=Mb;function aDe(e,t){var r=this.__data__,n=sDe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var iDe=aDe,oDe=zOe,lDe=QOe,cDe=eDe,uDe=nDe,dDe=iDe;function gp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gp.prototype.clear=oDe;gp.prototype.delete=lDe;gp.prototype.get=cDe;gp.prototype.has=uDe;gp.prototype.set=dDe;var Fb=gp,fDe=Fb;function hDe(){this.__data__=new fDe,this.size=0}var mDe=hDe;function pDe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var vDe=pDe;function gDe(e){return this.__data__.get(e)}var xDe=gDe;function yDe(e){return this.__data__.has(e)}var _De=yDe,wDe=Yo,bDe=wDe["__core-js_shared__"],SDe=bDe,f2=SDe,RF=function(){var e=/[^.]+$/.exec(f2&&f2.keys&&f2.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function EDe(e){return!!RF&&RF in e}var TDe=EDe,CDe=Function.prototype,NDe=CDe.toString;function kDe(e){if(e!=null){try{return NDe.call(e)}catch{}try{return e+""}catch{}}return""}var UY=kDe,jDe=KA,ADe=TDe,PDe=oc,ODe=UY,DDe=/[\\^$.*+?()[\]{}|]/g,RDe=/^\[object .+?Constructor\]$/,IDe=Function.prototype,MDe=Object.prototype,FDe=IDe.toString,LDe=MDe.hasOwnProperty,$De=RegExp("^"+FDe.call(LDe).replace(DDe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UDe(e){if(!PDe(e)||ADe(e))return!1;var t=jDe(e)?$De:RDe;return t.test(ODe(e))}var BDe=UDe;function WDe(e,t){return e==null?void 0:e[t]}var VDe=WDe,zDe=BDe,HDe=VDe;function YDe(e,t){var r=HDe(e,t);return zDe(r)?r:void 0}var Df=YDe,GDe=Df,qDe=Yo,KDe=GDe(qDe,"Map"),uP=KDe,XDe=Df,QDe=XDe(Object,"create"),Lb=QDe,IF=Lb;function ZDe(){this.__data__=IF?IF(null):{},this.size=0}var JDe=ZDe;function eRe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tRe=eRe,rRe=Lb,nRe="__lodash_hash_undefined__",sRe=Object.prototype,aRe=sRe.hasOwnProperty;function iRe(e){var t=this.__data__;if(rRe){var r=t[e];return r===nRe?void 0:r}return aRe.call(t,e)?t[e]:void 0}var oRe=iRe,lRe=Lb,cRe=Object.prototype,uRe=cRe.hasOwnProperty;function dRe(e){var t=this.__data__;return lRe?t[e]!==void 0:uRe.call(t,e)}var fRe=dRe,hRe=Lb,mRe="__lodash_hash_undefined__";function pRe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=hRe&&t===void 0?mRe:t,this}var vRe=pRe,gRe=JDe,xRe=tRe,yRe=oRe,_Re=fRe,wRe=vRe;function xp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xp.prototype.clear=gRe;xp.prototype.delete=xRe;xp.prototype.get=yRe;xp.prototype.has=_Re;xp.prototype.set=wRe;var bRe=xp,MF=bRe,SRe=Fb,ERe=uP;function TRe(){this.size=0,this.__data__={hash:new MF,map:new(ERe||SRe),string:new MF}}var CRe=TRe;function NRe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var kRe=NRe,jRe=kRe;function ARe(e,t){var r=e.__data__;return jRe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var $b=ARe,PRe=$b;function ORe(e){var t=PRe(this,e).delete(e);return this.size-=t?1:0,t}var DRe=ORe,RRe=$b;function IRe(e){return RRe(this,e).get(e)}var MRe=IRe,FRe=$b;function LRe(e){return FRe(this,e).has(e)}var $Re=LRe,URe=$b;function BRe(e,t){var r=URe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var WRe=BRe,VRe=CRe,zRe=DRe,HRe=MRe,YRe=$Re,GRe=WRe;function yp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yp.prototype.clear=VRe;yp.prototype.delete=zRe;yp.prototype.get=HRe;yp.prototype.has=YRe;yp.prototype.set=GRe;var dP=yp,qRe=Fb,KRe=uP,XRe=dP,QRe=200;function ZRe(e,t){var r=this.__data__;if(r instanceof qRe){var n=r.__data__;if(!KRe||n.length<QRe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new XRe(n)}return r.set(e,t),this.size=r.size,this}var JRe=ZRe,eIe=Fb,tIe=mDe,rIe=vDe,nIe=xDe,sIe=_De,aIe=JRe;function _p(e){var t=this.__data__=new eIe(e);this.size=t.size}_p.prototype.clear=tIe;_p.prototype.delete=rIe;_p.prototype.get=nIe;_p.prototype.has=sIe;_p.prototype.set=aIe;var fP=_p,iIe="__lodash_hash_undefined__";function oIe(e){return this.__data__.set(e,iIe),this}var lIe=oIe;function cIe(e){return this.__data__.has(e)}var uIe=cIe,dIe=dP,fIe=lIe,hIe=uIe;function V_(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new dIe;++t<r;)this.add(e[t])}V_.prototype.add=V_.prototype.push=fIe;V_.prototype.has=hIe;var mIe=V_;function pIe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var vIe=pIe;function gIe(e,t){return e.has(t)}var xIe=gIe,yIe=mIe,_Ie=vIe,wIe=xIe,bIe=1,SIe=2;function EIe(e,t,r,n,s,a){var i=r&bIe,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&SIe?new yIe:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var x=e[f],m=t[f];if(n)var g=i?n(m,x,f,t,e,a):n(x,m,f,e,t,a);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!_Ie(t,function(_,y){if(!wIe(p,y)&&(x===_||s(x,_,r,n,a)))return p.push(y)})){h=!1;break}}else if(!(x===m||s(x,m,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var BY=EIe,TIe=Yo,CIe=TIe.Uint8Array,WY=CIe;function NIe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var kIe=NIe;function jIe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var AIe=jIe,FF=pp,LF=WY,PIe=rx,OIe=BY,DIe=kIe,RIe=AIe,IIe=1,MIe=2,FIe="[object Boolean]",LIe="[object Date]",$Ie="[object Error]",UIe="[object Map]",BIe="[object Number]",WIe="[object RegExp]",VIe="[object Set]",zIe="[object String]",HIe="[object Symbol]",YIe="[object ArrayBuffer]",GIe="[object DataView]",$F=FF?FF.prototype:void 0,h2=$F?$F.valueOf:void 0;function qIe(e,t,r,n,s,a,i){switch(r){case GIe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case YIe:return!(e.byteLength!=t.byteLength||!a(new LF(e),new LF(t)));case FIe:case LIe:case BIe:return PIe(+e,+t);case $Ie:return e.name==t.name&&e.message==t.message;case WIe:case zIe:return e==t+"";case UIe:var l=DIe;case VIe:var c=n&IIe;if(l||(l=RIe),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=MIe,i.set(e,t);var d=OIe(l(e),l(t),n,s,a,i);return i.delete(e),d;case HIe:if(h2)return h2.call(e)==h2.call(t)}return!1}var KIe=qIe;function XIe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var hP=XIe,QIe=Array.isArray,mi=QIe,ZIe=hP,JIe=mi;function eMe(e,t,r){var n=t(e);return JIe(e)?n:ZIe(n,r(e))}var VY=eMe;function tMe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[s++]=i)}return a}var rMe=tMe;function nMe(){return[]}var zY=nMe,sMe=rMe,aMe=zY,iMe=Object.prototype,oMe=iMe.propertyIsEnumerable,UF=Object.getOwnPropertySymbols,lMe=UF?function(e){return e==null?[]:(e=Object(e),sMe(UF(e),function(t){return oMe.call(e,t)}))}:aMe,mP=lMe;function cMe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var uMe=cMe,dMe=vp,fMe=qu,hMe="[object Arguments]";function mMe(e){return fMe(e)&&dMe(e)==hMe}var pMe=mMe,BF=pMe,vMe=qu,HY=Object.prototype,gMe=HY.hasOwnProperty,xMe=HY.propertyIsEnumerable,yMe=BF(function(){return arguments}())?BF:function(e){return vMe(e)&&gMe.call(e,"callee")&&!xMe.call(e,"callee")},pP=yMe,z_={exports:{}};function _Me(){return!1}var wMe=_Me;z_.exports;(function(e,t){var r=Yo,n=wMe,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(z_,z_.exports);var Ub=z_.exports,bMe=vp,SMe=XA,EMe=qu,TMe="[object Arguments]",CMe="[object Array]",NMe="[object Boolean]",kMe="[object Date]",jMe="[object Error]",AMe="[object Function]",PMe="[object Map]",OMe="[object Number]",DMe="[object Object]",RMe="[object RegExp]",IMe="[object Set]",MMe="[object String]",FMe="[object WeakMap]",LMe="[object ArrayBuffer]",$Me="[object DataView]",UMe="[object Float32Array]",BMe="[object Float64Array]",WMe="[object Int8Array]",VMe="[object Int16Array]",zMe="[object Int32Array]",HMe="[object Uint8Array]",YMe="[object Uint8ClampedArray]",GMe="[object Uint16Array]",qMe="[object Uint32Array]",$r={};$r[UMe]=$r[BMe]=$r[WMe]=$r[VMe]=$r[zMe]=$r[HMe]=$r[YMe]=$r[GMe]=$r[qMe]=!0;$r[TMe]=$r[CMe]=$r[LMe]=$r[NMe]=$r[$Me]=$r[kMe]=$r[jMe]=$r[AMe]=$r[PMe]=$r[OMe]=$r[DMe]=$r[RMe]=$r[IMe]=$r[MMe]=$r[FMe]=!1;function KMe(e){return EMe(e)&&SMe(e.length)&&!!$r[bMe(e)]}var XMe=KMe;function QMe(e){return function(t){return e(t)}}var Bb=QMe,H_={exports:{}};H_.exports;(function(e,t){var r=SY,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(H_,H_.exports);var vP=H_.exports,ZMe=XMe,JMe=Bb,WF=vP,VF=WF&&WF.isTypedArray,e4e=VF?JMe(VF):ZMe,gP=e4e,t4e=uMe,r4e=pP,n4e=mi,s4e=Ub,a4e=QA,i4e=gP,o4e=Object.prototype,l4e=o4e.hasOwnProperty;function c4e(e,t){var r=n4e(e),n=!r&&r4e(e),s=!r&&!n&&s4e(e),a=!r&&!n&&!s&&i4e(e),i=r||n||s||a,l=i?t4e(e.length,String):[],c=l.length;for(var u in e)(t||l4e.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||a4e(u,c)))&&l.push(u);return l}var YY=c4e,u4e=Object.prototype;function d4e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||u4e;return e===r}var xP=d4e;function f4e(e,t){return function(r){return e(t(r))}}var GY=f4e,h4e=GY,m4e=h4e(Object.keys,Object),p4e=m4e,v4e=xP,g4e=p4e,x4e=Object.prototype,y4e=x4e.hasOwnProperty;function _4e(e){if(!v4e(e))return g4e(e);var t=[];for(var r in Object(e))y4e.call(e,r)&&r!="constructor"&&t.push(r);return t}var w4e=_4e,b4e=YY,S4e=w4e,E4e=nx;function T4e(e){return E4e(e)?b4e(e):S4e(e)}var lx=T4e,C4e=VY,N4e=mP,k4e=lx;function j4e(e){return C4e(e,k4e,N4e)}var qY=j4e,zF=qY,A4e=1,P4e=Object.prototype,O4e=P4e.hasOwnProperty;function D4e(e,t,r,n,s,a){var i=r&A4e,l=zF(e),c=l.length,u=zF(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:O4e.call(t,h)))return!1}var p=a.get(e),x=a.get(t);if(p&&x)return p==t&&x==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=i;++f<c;){h=l[f];var _=e[h],y=t[h];if(n)var S=i?n(y,_,h,t,e,a):n(_,y,h,e,t,a);if(!(S===void 0?_===y||s(_,y,r,n,a):S)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var E=e.constructor,C=t.constructor;E!=C&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof C=="function"&&C instanceof C)&&(m=!1)}return a.delete(e),a.delete(t),m}var R4e=D4e,I4e=Df,M4e=Yo,F4e=I4e(M4e,"DataView"),L4e=F4e,$4e=Df,U4e=Yo,B4e=$4e(U4e,"Promise"),W4e=B4e,V4e=Df,z4e=Yo,H4e=V4e(z4e,"Set"),Y4e=H4e,G4e=Df,q4e=Yo,K4e=G4e(q4e,"WeakMap"),X4e=K4e,UC=L4e,BC=uP,WC=W4e,VC=Y4e,zC=X4e,KY=vp,wp=UY,HF="[object Map]",Q4e="[object Object]",YF="[object Promise]",GF="[object Set]",qF="[object WeakMap]",KF="[object DataView]",Z4e=wp(UC),J4e=wp(BC),eFe=wp(WC),tFe=wp(VC),rFe=wp(zC),ud=KY;(UC&&ud(new UC(new ArrayBuffer(1)))!=KF||BC&&ud(new BC)!=HF||WC&&ud(WC.resolve())!=YF||VC&&ud(new VC)!=GF||zC&&ud(new zC)!=qF)&&(ud=function(e){var t=KY(e),r=t==Q4e?e.constructor:void 0,n=r?wp(r):"";if(n)switch(n){case Z4e:return KF;case J4e:return HF;case eFe:return YF;case tFe:return GF;case rFe:return qF}return t});var Wb=ud,m2=fP,nFe=BY,sFe=KIe,aFe=R4e,XF=Wb,QF=mi,ZF=Ub,iFe=gP,oFe=1,JF="[object Arguments]",e3="[object Array]",w1="[object Object]",lFe=Object.prototype,t3=lFe.hasOwnProperty;function cFe(e,t,r,n,s,a){var i=QF(e),l=QF(t),c=i?e3:XF(e),u=l?e3:XF(t);c=c==JF?w1:c,u=u==JF?w1:u;var d=c==w1,f=u==w1,h=c==u;if(h&&ZF(e)){if(!ZF(t))return!1;i=!0,d=!1}if(h&&!d)return a||(a=new m2),i||iFe(e)?nFe(e,t,r,n,s,a):sFe(e,t,c,r,n,s,a);if(!(r&oFe)){var p=d&&t3.call(e,"__wrapped__"),x=f&&t3.call(t,"__wrapped__");if(p||x){var m=p?e.value():e,g=x?t.value():t;return a||(a=new m2),s(m,g,r,n,a)}}return h?(a||(a=new m2),aFe(e,t,r,n,s,a)):!1}var uFe=cFe,dFe=uFe,r3=qu;function XY(e,t,r,n,s){return e===t?!0:e==null||t==null||!r3(e)&&!r3(t)?e!==e&&t!==t:dFe(e,t,r,n,XY,s)}var yP=XY,fFe=yP;function hFe(e,t){return fFe(e,t)}var mFe=hFe;const pFe=Us(mFe);function p2(e,t){var r=ZA(e);return r?r.innerHeight:Od(e).height}function QY(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(fPe(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function vFe(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var gFe=vFe,xFe=fP,yFe=yP,_Fe=1,wFe=2;function bFe(e,t,r,n){var s=r.length,a=s,i=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new xFe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?yFe(d,u,_Fe|wFe,n,f):h))return!1}}return!0}var SFe=bFe,EFe=oc;function TFe(e){return e===e&&!EFe(e)}var ZY=TFe,CFe=ZY,NFe=lx;function kFe(e){for(var t=NFe(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,CFe(s)]}return t}var jFe=kFe;function AFe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var JY=AFe,PFe=SFe,OFe=jFe,DFe=JY;function RFe(e){var t=OFe(e);return t.length==1&&t[0][2]?DFe(t[0][0],t[0][1]):function(r){return r===e||PFe(r,e,t)}}var IFe=RFe,MFe=mi,FFe=sx,LFe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$Fe=/^\w*$/;function UFe(e,t){if(MFe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||FFe(e)?!0:$Fe.test(e)||!LFe.test(e)||t!=null&&e in Object(t)}var _P=UFe,eG=dP,BFe="Expected a function";function wP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(BFe);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var i=e.apply(this,n);return r.cache=a.set(s,i)||a,i};return r.cache=new(wP.Cache||eG),r}wP.Cache=eG;var WFe=wP,VFe=WFe,zFe=500;function HFe(e){var t=VFe(e,function(n){return r.size===zFe&&r.clear(),n}),r=t.cache;return t}var YFe=HFe,GFe=YFe,qFe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,KFe=/\\(\\)?/g,XFe=GFe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(qFe,function(r,n,s,a){t.push(s?a.replace(KFe,"$1"):n||r)}),t}),QFe=XFe;function ZFe(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var bP=ZFe,n3=pp,JFe=bP,e3e=mi,t3e=sx,r3e=1/0,s3=n3?n3.prototype:void 0,a3=s3?s3.toString:void 0;function tG(e){if(typeof e=="string")return e;if(e3e(e))return JFe(e,tG)+"";if(t3e(e))return a3?a3.call(e):"";var t=e+"";return t=="0"&&1/e==-r3e?"-0":t}var n3e=tG,s3e=n3e;function a3e(e){return e==null?"":s3e(e)}var i3e=a3e,o3e=mi,l3e=_P,c3e=QFe,u3e=i3e;function d3e(e,t){return o3e(e)?e:l3e(e,t)?[e]:c3e(u3e(e))}var Vb=d3e,f3e=sx,h3e=1/0;function m3e(e){if(typeof e=="string"||f3e(e))return e;var t=e+"";return t=="0"&&1/e==-h3e?"-0":t}var cx=m3e,p3e=Vb,v3e=cx;function g3e(e,t){t=p3e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[v3e(t[r++])];return r&&r==n?e:void 0}var zb=g3e,x3e=zb;function y3e(e,t,r){var n=e==null?void 0:x3e(e,t);return n===void 0?r:n}var _3e=y3e;function w3e(e,t){return e!=null&&t in Object(e)}var b3e=w3e,S3e=Vb,E3e=pP,T3e=mi,C3e=QA,N3e=XA,k3e=cx;function j3e(e,t,r){t=S3e(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var i=k3e(t[n]);if(!(a=e!=null&&r(e,i)))break;e=e[i]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&N3e(s)&&C3e(i,s)&&(T3e(e)||E3e(e)))}var A3e=j3e,P3e=b3e,O3e=A3e;function D3e(e,t){return e!=null&&O3e(e,t,P3e)}var R3e=D3e,I3e=yP,M3e=_3e,F3e=R3e,L3e=_P,$3e=ZY,U3e=JY,B3e=cx,W3e=1,V3e=2;function z3e(e,t){return L3e(e)&&$3e(t)?U3e(B3e(e),t):function(r){var n=M3e(r,e);return n===void 0&&n===t?F3e(r,e):I3e(t,n,W3e|V3e)}}var H3e=z3e;function Y3e(e){return e}var Hb=Y3e;function G3e(e){return function(t){return t==null?void 0:t[e]}}var q3e=G3e,K3e=zb;function X3e(e){return function(t){return K3e(t,e)}}var Q3e=X3e,Z3e=q3e,J3e=Q3e,eLe=_P,tLe=cx;function rLe(e){return eLe(e)?Z3e(tLe(e)):J3e(e)}var nLe=rLe,sLe=IFe,aLe=H3e,iLe=Hb,oLe=mi,lLe=nLe;function cLe(e){return typeof e=="function"?e:e==null?iLe:typeof e=="object"?oLe(e)?aLe(e[0],e[1]):sLe(e):lLe(e)}var Yb=cLe,uLe=gFe,dLe=Yb,fLe=CY,hLe=Math.max;function mLe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:fLe(r);return s<0&&(s=hLe(n+s,0)),uLe(e,dLe(t),s)}var pLe=mLe;const vLe=Us(pLe);var gLe=Math.ceil,xLe=Math.max;function yLe(e,t,r,n){for(var s=-1,a=xLe(gLe((t-e)/(r||1)),0),i=Array(a);a--;)i[n?a:++s]=e,e+=r;return i}var _Le=yLe,wLe=_Le,bLe=Rb,v2=TY;function SLe(e){return function(t,r,n){return n&&typeof n!="number"&&bLe(t,r,n)&&(r=n=void 0),t=v2(t),r===void 0?(r=t,t=0):r=v2(r),n=n===void 0?t<r?1:-1:v2(n),wLe(t,r,n,e)}}var ELe=SLe,TLe=ELe,CLe=TLe(),NLe=CLe;const kLe=Us(NLe);var i3=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function jLe(e,t){return!!(e===t||i3(e)&&i3(t))}function ALe(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!jLe(e[r],t[r]))return!1;return!0}function rG(e,t){t===void 0&&(t=ALe);var r=null;function n(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var i=e.apply(this,s);return r={lastResult:i,lastArgs:s,lastThis:this},i}return n.clear=function(){r=null},n}function HC(e,t){var r=ZA(e);return r?r.innerWidth:Od(e).width}var o3=pp,PLe=pP,OLe=mi,l3=o3?o3.isConcatSpreadable:void 0;function DLe(e){return OLe(e)||PLe(e)||!!(l3&&e&&e[l3])}var RLe=DLe,ILe=hP,MLe=RLe;function nG(e,t,r,n,s){var a=-1,i=e.length;for(r||(r=MLe),s||(s=[]);++a<i;){var l=e[a];t>0&&r(l)?t>1?nG(l,t-1,r,n,s):ILe(s,l):n||(s[s.length]=l)}return s}var sG=nG;function FLe(e){return function(t,r,n){for(var s=-1,a=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var LLe=FLe,$Le=LLe,ULe=$Le(),BLe=ULe,WLe=BLe,VLe=lx;function zLe(e,t){return e&&WLe(e,t,VLe)}var SP=zLe,HLe=nx;function YLe(e,t){return function(r,n){if(r==null)return r;if(!HLe(r))return e(r,n);for(var s=r.length,a=t?s:-1,i=Object(r);(t?a--:++a<s)&&n(i[a],a,i)!==!1;);return r}}var GLe=YLe,qLe=SP,KLe=GLe,XLe=KLe(qLe),QLe=XLe,ZLe=QLe,JLe=nx;function e6e(e,t){var r=-1,n=JLe(e)?Array(e.length):[];return ZLe(e,function(s,a,i){n[++r]=t(s,a,i)}),n}var t6e=e6e;function r6e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var n6e=r6e,c3=sx;function s6e(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=c3(e),i=t!==void 0,l=t===null,c=t===t,u=c3(t);if(!l&&!u&&!a&&e>t||a&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!i&&s||!c)return-1}return 0}var a6e=s6e,i6e=a6e;function o6e(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,i=s.length,l=r.length;++n<i;){var c=i6e(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var l6e=o6e,g2=bP,c6e=zb,u6e=Yb,d6e=t6e,f6e=n6e,h6e=Bb,m6e=l6e,p6e=Hb,v6e=mi;function g6e(e,t,r){t.length?t=g2(t,function(a){return v6e(a)?function(i){return c6e(i,a.length===1?a[0]:a)}:a}):t=[p6e];var n=-1;t=g2(t,h6e(u6e));var s=d6e(e,function(a,i,l){var c=g2(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return f6e(s,function(a,i){return m6e(a,i,r)})}var x6e=g6e;function y6e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _6e=y6e,w6e=_6e,u3=Math.max;function b6e(e,t,r){return t=u3(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=u3(n.length-t,0),i=Array(a);++s<a;)i[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(i),w6e(e,this,l)}}var aG=b6e;function S6e(e){return function(){return e}}var E6e=S6e,T6e=Df,C6e=function(){try{var e=T6e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),iG=C6e,N6e=E6e,d3=iG,k6e=Hb,j6e=d3?function(e,t){return d3(e,"toString",{configurable:!0,enumerable:!1,value:N6e(t),writable:!0})}:k6e,A6e=j6e,P6e=800,O6e=16,D6e=Date.now;function R6e(e){var t=0,r=0;return function(){var n=D6e(),s=O6e-(n-r);if(r=n,s>0){if(++t>=P6e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var I6e=R6e,M6e=A6e,F6e=I6e,L6e=F6e(M6e),oG=L6e,$6e=Hb,U6e=aG,B6e=oG;function W6e(e,t){return B6e(U6e(e,t,$6e),e+"")}var lG=W6e,V6e=sG,z6e=x6e,H6e=lG,f3=Rb,Y6e=H6e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&f3(e,t[0],t[1])?t=[]:r>2&&f3(t[0],t[1],t[2])&&(t=[t[0]]),z6e(e,V6e(t,1),[])}),G6e=Y6e;const q6e=Us(G6e);function cG(e){return sY(e)||wY(e)||YA(e)||aY()}function K6e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var X6e=K6e,Q6e=oc,Z6e=xP,J6e=X6e,e5e=Object.prototype,t5e=e5e.hasOwnProperty;function r5e(e){if(!Q6e(e))return J6e(e);var t=Z6e(e),r=[];for(var n in e)n=="constructor"&&(t||!t5e.call(e,n))||r.push(n);return r}var n5e=r5e,s5e=YY,a5e=n5e,i5e=nx;function o5e(e){return i5e(e)?s5e(e,!0):a5e(e)}var Gb=o5e,l5e=lG,c5e=rx,u5e=Rb,d5e=Gb,uG=Object.prototype,f5e=uG.hasOwnProperty,h5e=l5e(function(e,t){e=Object(e);var r=-1,n=t.length,s=n>2?t[2]:void 0;for(s&&u5e(t[0],t[1],s)&&(n=1);++r<n;)for(var a=t[r],i=d5e(a),l=-1,c=i.length;++l<c;){var u=i[l],d=e[u];(d===void 0||c5e(d,uG[u])&&!f5e.call(e,u))&&(e[u]=a[u])}return e}),m5e=h5e;const p5e=Us(m5e);var h3=iG;function v5e(e,t,r){t=="__proto__"&&h3?h3(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var EP=v5e,g5e=EP,x5e=SP,y5e=Yb;function _5e(e,t){var r={};return t=y5e(t),x5e(e,function(n,s,a){g5e(r,s,t(n,s,a))}),r}var w5e=_5e;const b5e=Us(w5e);function S5e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var dG=S5e,E5e=EP,T5e=rx,C5e=Object.prototype,N5e=C5e.hasOwnProperty;function k5e(e,t,r){var n=e[t];(!(N5e.call(e,t)&&T5e(n,r))||r===void 0&&!(t in e))&&E5e(e,t,r)}var fG=k5e,j5e=fG,A5e=EP;function P5e(e,t,r,n){var s=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var l=t[a],c=n?n(r[l],e[l],l,r,e):void 0;c===void 0&&(c=e[l]),s?A5e(r,l,c):j5e(r,l,c)}return r}var ux=P5e,O5e=ux,D5e=lx;function R5e(e,t){return e&&O5e(t,D5e(t),e)}var I5e=R5e,M5e=ux,F5e=Gb;function L5e(e,t){return e&&M5e(t,F5e(t),e)}var $5e=L5e,Y_={exports:{}};Y_.exports;(function(e,t){var r=Yo,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a?r.Buffer:void 0,l=i?i.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,h=l?l(f):new u.constructor(f);return u.copy(h),h}e.exports=c})(Y_,Y_.exports);var U5e=Y_.exports;function B5e(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var W5e=B5e,V5e=ux,z5e=mP;function H5e(e,t){return V5e(e,z5e(e),t)}var Y5e=H5e,G5e=GY,q5e=G5e(Object.getPrototypeOf,Object),qb=q5e,K5e=hP,X5e=qb,Q5e=mP,Z5e=zY,J5e=Object.getOwnPropertySymbols,e$e=J5e?function(e){for(var t=[];e;)K5e(t,Q5e(e)),e=X5e(e);return t}:Z5e,hG=e$e,t$e=ux,r$e=hG;function n$e(e,t){return t$e(e,r$e(e),t)}var s$e=n$e,a$e=VY,i$e=hG,o$e=Gb;function l$e(e){return a$e(e,o$e,i$e)}var mG=l$e,c$e=Object.prototype,u$e=c$e.hasOwnProperty;function d$e(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&u$e.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var f$e=d$e,m3=WY;function h$e(e){var t=new e.constructor(e.byteLength);return new m3(t).set(new m3(e)),t}var TP=h$e,m$e=TP;function p$e(e,t){var r=t?m$e(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var v$e=p$e,g$e=/\w*$/;function x$e(e){var t=new e.constructor(e.source,g$e.exec(e));return t.lastIndex=e.lastIndex,t}var y$e=x$e,p3=pp,v3=p3?p3.prototype:void 0,g3=v3?v3.valueOf:void 0;function _$e(e){return g3?Object(g3.call(e)):{}}var w$e=_$e,b$e=TP;function S$e(e,t){var r=t?b$e(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var E$e=S$e,T$e=TP,C$e=v$e,N$e=y$e,k$e=w$e,j$e=E$e,A$e="[object Boolean]",P$e="[object Date]",O$e="[object Map]",D$e="[object Number]",R$e="[object RegExp]",I$e="[object Set]",M$e="[object String]",F$e="[object Symbol]",L$e="[object ArrayBuffer]",$$e="[object DataView]",U$e="[object Float32Array]",B$e="[object Float64Array]",W$e="[object Int8Array]",V$e="[object Int16Array]",z$e="[object Int32Array]",H$e="[object Uint8Array]",Y$e="[object Uint8ClampedArray]",G$e="[object Uint16Array]",q$e="[object Uint32Array]";function K$e(e,t,r){var n=e.constructor;switch(t){case L$e:return T$e(e);case A$e:case P$e:return new n(+e);case $$e:return C$e(e,r);case U$e:case B$e:case W$e:case V$e:case z$e:case H$e:case Y$e:case G$e:case q$e:return j$e(e,r);case O$e:return new n;case D$e:case M$e:return new n(e);case R$e:return N$e(e);case I$e:return new n;case F$e:return k$e(e)}}var X$e=K$e,Q$e=oc,x3=Object.create,Z$e=function(){function e(){}return function(t){if(!Q$e(t))return{};if(x3)return x3(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),pG=Z$e,J$e=pG,e8e=qb,t8e=xP;function r8e(e){return typeof e.constructor=="function"&&!t8e(e)?J$e(e8e(e)):{}}var n8e=r8e,s8e=Wb,a8e=qu,i8e="[object Map]";function o8e(e){return a8e(e)&&s8e(e)==i8e}var l8e=o8e,c8e=l8e,u8e=Bb,y3=vP,_3=y3&&y3.isMap,d8e=_3?u8e(_3):c8e,f8e=d8e,h8e=Wb,m8e=qu,p8e="[object Set]";function v8e(e){return m8e(e)&&h8e(e)==p8e}var g8e=v8e,x8e=g8e,y8e=Bb,w3=vP,b3=w3&&w3.isSet,_8e=b3?y8e(b3):x8e,w8e=_8e,b8e=fP,S8e=dG,E8e=fG,T8e=I5e,C8e=$5e,N8e=U5e,k8e=W5e,j8e=Y5e,A8e=s$e,P8e=qY,O8e=mG,D8e=Wb,R8e=f$e,I8e=X$e,M8e=n8e,F8e=mi,L8e=Ub,$8e=f8e,U8e=oc,B8e=w8e,W8e=lx,V8e=Gb,z8e=1,H8e=2,Y8e=4,vG="[object Arguments]",G8e="[object Array]",q8e="[object Boolean]",K8e="[object Date]",X8e="[object Error]",gG="[object Function]",Q8e="[object GeneratorFunction]",Z8e="[object Map]",J8e="[object Number]",xG="[object Object]",eUe="[object RegExp]",tUe="[object Set]",rUe="[object String]",nUe="[object Symbol]",sUe="[object WeakMap]",aUe="[object ArrayBuffer]",iUe="[object DataView]",oUe="[object Float32Array]",lUe="[object Float64Array]",cUe="[object Int8Array]",uUe="[object Int16Array]",dUe="[object Int32Array]",fUe="[object Uint8Array]",hUe="[object Uint8ClampedArray]",mUe="[object Uint16Array]",pUe="[object Uint32Array]",Ar={};Ar[vG]=Ar[G8e]=Ar[aUe]=Ar[iUe]=Ar[q8e]=Ar[K8e]=Ar[oUe]=Ar[lUe]=Ar[cUe]=Ar[uUe]=Ar[dUe]=Ar[Z8e]=Ar[J8e]=Ar[xG]=Ar[eUe]=Ar[tUe]=Ar[rUe]=Ar[nUe]=Ar[fUe]=Ar[hUe]=Ar[mUe]=Ar[pUe]=!0;Ar[X8e]=Ar[gG]=Ar[sUe]=!1;function ny(e,t,r,n,s,a){var i,l=t&z8e,c=t&H8e,u=t&Y8e;if(r&&(i=s?r(e,n,s,a):r(e)),i!==void 0)return i;if(!U8e(e))return e;var d=F8e(e);if(d){if(i=R8e(e),!l)return k8e(e,i)}else{var f=D8e(e),h=f==gG||f==Q8e;if(L8e(e))return N8e(e,l);if(f==xG||f==vG||h&&!s){if(i=c||h?{}:M8e(e),!l)return c?A8e(e,C8e(i,e)):j8e(e,T8e(i,e))}else{if(!Ar[f])return s?e:{};i=I8e(e,f,l)}}a||(a=new b8e);var p=a.get(e);if(p)return p;a.set(e,i),B8e(e)?e.forEach(function(g){i.add(ny(g,t,r,g,e,a))}):$8e(e)&&e.forEach(function(g,_){i.set(_,ny(g,t,r,_,e,a))});var x=u?c?O8e:P8e:c?V8e:W8e,m=d?void 0:x(e);return S8e(m||e,function(g,_){m&&(_=g,g=e[_]),E8e(i,_,ny(g,t,r,_,e,a))}),i}var vUe=ny;function gUe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var xUe=gUe,yUe=zb,_Ue=bY;function wUe(e,t){return t.length<2?e:yUe(e,_Ue(t,0,-1))}var bUe=wUe,SUe=Vb,EUe=xUe,TUe=bUe,CUe=cx;function NUe(e,t){return t=SUe(t,e),e=TUe(e,t),e==null||delete e[CUe(EUe(t))]}var kUe=NUe,jUe=vp,AUe=qb,PUe=qu,OUe="[object Object]",DUe=Function.prototype,RUe=Object.prototype,yG=DUe.toString,IUe=RUe.hasOwnProperty,MUe=yG.call(Object);function FUe(e){if(!PUe(e)||jUe(e)!=OUe)return!1;var t=AUe(e);if(t===null)return!0;var r=IUe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&yG.call(r)==MUe}var LUe=FUe,$Ue=LUe;function UUe(e){return $Ue(e)?void 0:e}var BUe=UUe,WUe=sG;function VUe(e){var t=e==null?0:e.length;return t?WUe(e,1):[]}var zUe=VUe,HUe=zUe,YUe=aG,GUe=oG;function qUe(e){return GUe(YUe(e,void 0,HUe),e+"")}var KUe=qUe,XUe=bP,QUe=vUe,ZUe=kUe,JUe=Vb,eBe=ux,tBe=BUe,rBe=KUe,nBe=mG,sBe=1,aBe=2,iBe=4,oBe=rBe(function(e,t){var r={};if(e==null)return r;var n=!1;t=XUe(t,function(a){return a=JUe(a,e),n||(n=a.length>1),a}),eBe(e,nBe(e),r),n&&(r=QUe(r,sBe|aBe|iBe,tBe));for(var s=t.length;s--;)ZUe(r,t[s]);return r}),lBe=oBe;const cBe=Us(lBe);var uBe=dG,dBe=pG,fBe=SP,hBe=Yb,mBe=qb,pBe=mi,vBe=Ub,gBe=KA,xBe=oc,yBe=gP;function _Be(e,t,r){var n=pBe(e),s=n||vBe(e)||yBe(e);if(t=hBe(t),r==null){var a=e&&e.constructor;s?r=n?new a:[]:xBe(e)?r=gBe(a)?dBe(mBe(e)):{}:r={}}return(s?uBe:fBe)(e,function(i,l,c){return t(r,i,l,c)}),r}var wBe=_Be;const bBe=Us(wBe);var SBe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zs,function(){return function(r,n,s){n.prototype.isBetween=function(a,i,l,c){var u=s(a),d=s(i),f=(c=c||"()")[0]==="(",h=c[1]===")";return(f?this.isAfter(u,l):!this.isBefore(u,l))&&(h?this.isBefore(d,l):!this.isAfter(d,l))||(f?this.isBefore(u,l):!this.isAfter(u,l))&&(h?this.isAfter(d,l):!this.isBefore(d,l))}}})})(SBe);var EBe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zs,function(){return function(r,n){n.prototype.isSameOrAfter=function(s,a){return this.isSame(s,a)||this.isAfter(s,a)}}})})(EBe);var TBe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zs,function(){return function(r,n){n.prototype.isSameOrBefore=function(s,a){return this.isSame(s,a)||this.isBefore(s,a)}}})})(TBe);var CBe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zs,function(){return function(r,n,s){var a=n.prototype,i=function(f){return f&&(f.indexOf?f:f.s)},l=function(f,h,p,x,m){var g=f.name?f:f.$locale(),_=i(g[h]),y=i(g[p]),S=_||y.map(function(C){return C.slice(0,x)});if(!m)return S;var E=g.weekStart;return S.map(function(C,P){return S[(P+(E||0))%7]})},c=function(){return s.Ls[s.locale()]},u=function(f,h){return f.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,m,g){return m||g.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):l(f,"months")},monthsShort:function(h){return h?h.format("MMM"):l(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):l(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):l(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):l(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return d.bind(this)()},s.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},s.months=function(){return l(c(),"months")},s.monthsShort=function(){return l(c(),"monthsShort","months",3)},s.weekdays=function(f){return l(c(),"weekdays",null,null,f)},s.weekdaysShort=function(f){return l(c(),"weekdaysShort","weekdays",3,f)},s.weekdaysMin=function(f){return l(c(),"weekdaysMin","weekdays",2,f)}}})})(CBe);var NBe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zs,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,s,a){var i=s.prototype,l=i.format;a.en.formats=r,i.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,x,m){var g=m&&m.toUpperCase();return x||h[m]||r[m]||h[g].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,y,S){return y||S.slice(1)})})}(c,u===void 0?{}:u);return l.call(this,d)}}})})(NBe);var kBe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zs,function(){return function(r,n,s){var a=function(i,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(d){return d}))[0];for(var u=1;u<l.length;u+=1)l[u].isValid()&&!l[u][i](c)||(c=l[u]);return c};s.max=function(){var i=[].slice.call(arguments,0);return a("isAfter",i)},s.min=function(){var i=[].slice.call(arguments,0);return a("isBefore",i)}}})})(kBe);var jBe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zs,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(a,i,l){var c=i.prototype;l.utc=function(m){var g={date:m,utc:!0,args:arguments};return new i(g)},c.utc=function(m){var g=l(this.toDate(),{locale:this.$L,utc:!0});return m?g.add(this.utcOffset(),r):g},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),u.call(this,m)};var d=c.init;c.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(m,g){var _=this.$utils().u;if(_(m))return this.$u?0:_(this.$offset)?f.call(this):this.$offset;if(typeof m=="string"&&(m=function(C){C===void 0&&(C="");var P=C.match(n);if(!P)return null;var N=(""+P[0]).match(s)||["-",0,0],A=N[0],j=60*+N[1]+ +N[2];return j===0?0:A==="+"?j:-j}(m),m===null))return this;var y=Math.abs(m)<=16?60*m:m;if(y===0)return this.utc(g);var S=this.clone();if(g)return S.$offset=y,S.$u=!1,S;var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(S=this.local().add(y+E,r)).$offset=y,S.$x.$localOffset=E,S};var h=c.format;c.format=function(m){var g=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,g)},c.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var p=c.toDate;c.toDate=function(m){return m==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var x=c.diff;c.diff=function(m,g,_){if(m&&this.$u===m.$u)return x.call(this,m,g,_);var y=this.local(),S=l(m).local();return x.call(y,S,g,_)}}})})(jBe);var ABe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Zs,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(ABe);function ho(e){return e.children}var ua={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},en={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},S3=Object.keys(en).map(function(e){return en[e]});Be.oneOfType([Be.string,Be.func]);Be.any;Be.func;Be.oneOfType([Be.arrayOf(Be.oneOf(S3)),Be.objectOf(function(e,t){var r=S3.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a];return Be.elementType.apply(Be,[e,t].concat(s))})]);Be.oneOfType([Be.oneOf(["overlap","no-overlap"]),Be.func]);var E3={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function _G(e,t){var r=ls(e,"month");return ls(r,"week",t.startOfWeek())}function wG(e,t){var r=U_(e,"month");return U_(r,"week",t.startOfWeek())}function PBe(e,t){for(var r=_G(e,t),n=wG(e,t),s=[];hp(r,n,"day");)s.push(r),r=Zi(r,1,"day");return s}function OBe(e,t){var r=ls(e,t);return ex(r,e)?r:Zi(r,1,t)}function DBe(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,s=[];hp(n,t,r);)s.push(n),n=Zi(n,1,r);return s}function RBe(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=ls(e,"day"),e=Jv(e,Jv(t)),e=Nm(e,Nm(t)),e=Zv(e,Zv(t)),Qv(e,Qv(t)))}function T3(e){return Jv(e)===0&&Nm(e)===0&&Zv(e)===0&&Qv(e)===0}function IBe(e,t,r,n){return r==="day"&&(r="date"),Math.abs(oF[r](e,void 0,n)-oF[r](t,void 0,n))}function CP(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+ls(e,r)/E3[r]-+ls(t,r)/E3[r]))}var MBe=Be.oneOfType([Be.string,Be.func]);function FBe(e,t,r,n,s){var a=typeof n=="function"?n(r,s,e):t.call(e,r,n,s);return Hv(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function LBe(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function NP(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function $Be(e,t){return CP(e,t,"minutes")+NP(e,t)}function UBe(e){var t=ls(e,"day");return CP(t,e,"minutes")+NP(t,e)}function BBe(e,t){return qA(e,t,"day")}function WBe(e,t,r){var n=ex(e,t,"minutes");return n?tx(t,r,"minutes"):Db(t,r,"minutes")}function YC(e,t){return IBe(e,t,"day")}function VBe(e){var t=e.evtA,r=t.start,n=t.end,s=t.allDay,a=e.evtB,i=a.start,l=a.end,c=a.allDay,u=+ls(r,"day")-+ls(i,"day"),d=YC(r,n),f=YC(i,l);return u||f-d||!!c-!!s||+r-+i||+n-+l}function zBe(e){var t=e.event,r=t.start,n=t.end,s=e.range,a=s.start,i=s.end,l=ls(r,"day"),c=hp(l,i,"day"),u=GA(l,n,"minutes"),d=u?Db(n,a,"minutes"):tx(n,a,"minutes");return c&&d}function HBe(e,t){return ex(e,t,"day")}function YBe(e,t){return T3(e)&&T3(t)}var GBe=$n(function e(t){var r=this;Ln(this,e),Hv(typeof t.format=="function","date localizer `format(..)` must be a function"),Hv(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||MBe,this.formats=t.formats,this.format=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return FBe.apply(void 0,[r,t.format].concat(s))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||RBe,this.inRange=t.inRange||gY,this.lt=t.lt||qA,this.lte=t.lte||hp,this.gt=t.gt||Db,this.gte=t.gte||tx,this.eq=t.eq||ex,this.neq=t.neq||GA,this.startOf=t.startOf||ls,this.endOf=t.endOf||U_,this.add=t.add||Zi,this.range=t.range||DBe,this.diff=t.diff||CP,this.ceil=t.ceil||OBe,this.min=t.min||pY,this.max=t.max||vY,this.minutes=t.minutes||Nm,this.daySpan=t.daySpan||YC,this.firstVisibleDay=t.firstVisibleDay||_G,this.lastVisibleDay=t.lastVisibleDay||wG,this.visibleDays=t.visibleDays||PBe,this.getSlotDate=t.getSlotDate||LBe,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||NP,this.getTotalMin=t.getTotalMin||$Be,this.getMinutesFromMidnight=t.getMinutesFromMidnight||UBe,this.continuesPrior=t.continuesPrior||BBe,this.continuesAfter=t.continuesAfter||WBe,this.sortEvents=t.sortEvents||VBe,this.inEventRange=t.inEventRange||zBe,this.isSameDate=t.isSameDate||HBe,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||YBe,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function qBe(e,t,r,n){var s=kr(kr({},e.formats),r);return kr(kr({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(i,l){return e.format(i,s[l]||l,t)}})}var KBe=function(e){function t(){var r;Ln(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=bs(this,t,[].concat(s)),r.navigate=function(i){r.props.onNavigate(i)},r.view=function(i){r.props.onView(i)},r}return Ss(t,e),$n(t,[{key:"render",value:function(){var n=this.props,s=n.localizer.messages,a=n.label;return H.createElement("div",{className:"rbc-toolbar"},H.createElement("span",{className:"rbc-btn-group"},H.createElement("button",{type:"button",onClick:this.navigate.bind(null,ua.TODAY)},s.today),H.createElement("button",{type:"button",onClick:this.navigate.bind(null,ua.PREVIOUS)},s.previous),H.createElement("button",{type:"button",onClick:this.navigate.bind(null,ua.NEXT)},s.next)),H.createElement("span",{className:"rbc-toolbar-label"},a),H.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(s)))}},{key:"viewNamesGroup",value:function(n){var s=this,a=this.props.views,i=this.props.view;if(a.length>1)return a.map(function(l){return H.createElement("button",{type:"button",key:l,className:dn({"rbc-active":i===l}),onClick:s.view.bind(null,l)},n[l])})}}])}(H.Component);function Ur(e,t){e&&e.apply(null,[].concat(t))}var XBe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function QBe(e){return kr(kr({},XBe),e)}function ZBe(e){var t=e.ref,r=e.callback;w.useEffect(function(){var n=function(a){t.current&&!t.current.contains(a.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var JBe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],bG=function(e){function t(){return Ln(this,t),bs(this,t,arguments)}return Ss(t,e),$n(t,[{key:"render",value:function(){var n=this.props,s=n.style,a=n.className,i=n.event,l=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,p=n.continuesPrior,x=n.continuesAfter,m=n.accessors,g=n.getters,_=n.children,y=n.components,S=y.event,E=y.eventWrapper,C=n.slotStart,P=n.slotEnd,N=Uo(n,JBe);delete N.resizable;var A=m.title(i),j=m.tooltip(i),O=m.end(i),W=m.start(i),z=m.allDay(i),Y=c||z||h.diff(W,h.ceil(O,"day"),"day")>1,J=g.eventProp(i,W,O,l),ie=H.createElement("div",{className:"rbc-event-content",title:j||void 0},S?H.createElement(S,{event:i,continuesPrior:p,continuesAfter:x,title:A,isAllDay:z,localizer:h,slotStart:C,slotEnd:P}):A);return H.createElement(E,Object.assign({},this.props,{type:"date"}),H.createElement("div",Object.assign({},N,{style:kr(kr({},J.style),s),className:dn("rbc-event",a,J.className,{"rbc-selected":l,"rbc-event-allday":Y,"rbc-event-continues-prior":p,"rbc-event-continues-after":x}),onClick:function(re){return u&&u(i,re)},onDoubleClick:function(re){return d&&d(i,re)},onKeyDown:function(re){return f&&f(i,re)}}),typeof _=="function"?_(ie):ie))}}])}(H.Component);function Kb(e,t){return!e||t==null?!1:pFe(e,t)}function SG(e,t){var r=e.right-e.left,n=r/t;return n}function EG(e,t,r,n){var s=SG(e,n);return r?n-1-Math.floor((t-e.left)/s):Math.floor((t-e.left)/s)}function e9e(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function t9e(e,t,r,n,s){var a=-1,i=-1,l=n-1,c=SG(t,n),u=EG(t,r.x,s,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,p=t.top>e.y,x=r.top<t.top&&r.bottom>t.bottom;return x&&(a=0,i=l),d&&(p?(a=0,i=u):h&&(a=u,i=l)),f&&(a=i=s?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<a?a=u:i=u:e.y<r.y?i=l:a=0),{startIdx:a,endIdx:i}}function r9e(e){var t=e.target,r=e.offset,n=e.container,s=e.box,a=Od(t),i=a.top,l=a.left,c=a.width,u=a.height,d=Od(n),f=d.top,h=d.left,p=d.width,x=d.height,m=Od(s),g=m.width,_=m.height,y=f+x,S=h+p,E=i+_,C=l+g,P=r.x,N=r.y,A=E>y?i-_-N:i+N+u,j=C>S?l+P-g+c:l+P;return{topOffset:A,leftOffset:j}}function n9e(e){var t=e.containerRef,r=e.accessors,n=e.getters,s=e.selected,a=e.components,i=e.localizer,l=e.position,c=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,h=e.onSelect,p=e.onDoubleClick,x=e.onKeyPress,m=e.handleDragStart,g=e.popperRef,_=e.target,y=e.offset;ZBe({ref:g,callback:c}),w.useLayoutEffect(function(){var C=r9e({target:_,offset:y,container:t.current,box:g.current}),P=C.topOffset,N=C.leftOffset;g.current.style.top="".concat(P,"px"),g.current.style.left="".concat(N,"px")},[y.x,y.y,_]);var S=l.width,E={minWidth:S+S/2};return H.createElement("div",{style:E,className:"rbc-overlay",ref:g},H.createElement("div",{className:"rbc-overlay-header"},i.format(d,"dayHeaderFormat")),u.map(function(C,P){return H.createElement(bG,{key:P,type:"popup",localizer:i,event:C,getters:n,onSelect:h,accessors:r,components:a,onDoubleClick:p,onKeyPress:x,continuesPrior:i.lt(r.end(C),d,"day"),continuesAfter:i.gte(r.start(C),f,"day"),slotStart:d,slotEnd:f,selected:Kb(C,s),draggable:!0,onDragStart:function(){return m(C)},onDragEnd:function(){return c()}})}))}var TG=H.forwardRef(function(e,t){return H.createElement(n9e,Object.assign({},e,{popperRef:t}))});TG.propTypes={accessors:Be.object.isRequired,getters:Be.object.isRequired,selected:Be.object,components:Be.object.isRequired,localizer:Be.object.isRequired,position:Be.object.isRequired,show:Be.func.isRequired,events:Be.array.isRequired,slotStart:Be.instanceOf(Date).isRequired,slotEnd:Be.instanceOf(Date),onSelect:Be.func,onDoubleClick:Be.func,onKeyPress:Be.func,handleDragStart:Be.func,style:Be.object,offset:Be.shape({x:Be.number,y:Be.number})};function s9e(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,s=e.overlay,a=e.accessors,i=e.localizer,l=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,p=e.handleDragStart,x=e.onHide,m=e.overlayDisplay,g=w.useRef(null);if(!s.position)return null;var _=n;isNaN(n)||(_={x:n,y:n});var y=s.position,S=s.events,E=s.date,C=s.end;return H.createElement(cP,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:x,target:s.target},function(P){var N=P.props;return H.createElement(TG,Object.assign({},N,{containerRef:t,ref:g,target:s.target,offset:_,accessors:a,getters:c,selected:u,components:l,localizer:i,position:y,show:m,events:S,slotStart:E,slotEnd:C,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:p}))})}var kP=H.forwardRef(function(e,t){return H.createElement(s9e,Object.assign({},e,{containerRef:t}))});kP.propTypes={popupOffset:Be.oneOfType([Be.number,Be.shape({x:Be.number,y:Be.number})]),overlay:Be.shape({position:Be.object,events:Be.array,date:Be.instanceOf(Date),end:Be.instanceOf(Date)}),accessors:Be.object.isRequired,localizer:Be.object.isRequired,components:Be.object.isRequired,getters:Be.object.isRequired,selected:Be.object,handleSelectEvent:Be.func,handleDoubleClickEvent:Be.func,handleKeyPressEvent:Be.func,handleDragStart:Be.func,onHide:Be.func,overlayDisplay:Be.func};function ms(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return v0(r,e,t,{passive:!1})}function a9e(e,t,r){return!e||eg(e,document.elementFromPoint(t,r))}function i9e(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return QY(s,".rbc-event",e)}function o9e(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return QY(s,".rbc-show-more",e)}function G_(e,t){return!!i9e(e,t)}function l9e(e,t){return!!o9e(e,t)}function r0(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var C3=5,c9e=250,CG=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,s=n===void 0?!1:n,a=r.longPressThreshold,i=a===void 0?250:a,l=r.validContainers,c=l===void 0?[]:l;Ln(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||s,this.longPressThreshold=i,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=ms("touchmove",function(){},window),this._removeKeyDownListener=ms("keydown",this._keyListener),this._removeKeyUpListener=ms("keyup",this._keyListener),this._removeDropFromOutsideListener=ms("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=ms("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return $n(e,[{key:"on",value:function(r,n){var s=this._listeners[r]||(this._listeners[r]=[]);return s.push(n),{remove:function(){var i=s.indexOf(n);i!==-1&&s.splice(i,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];var i,l=this._listeners[r]||[];return l.forEach(function(c){i===void 0&&(i=c.apply(void 0,s))}),i}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:N3(n,pf(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var s=this,a=null,i=null,l=null,c=function(h){a=setTimeout(function(){d(),r(h)},s.longPressThreshold),i=ms("touchmove",function(){return d()}),l=ms("touchend",function(){return d()})},u=ms("touchstart",c),d=function(){a&&clearTimeout(a),i&&i(),l&&l(),a=null,i=null,l=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=ms("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=ms("mousedown",r._handleInitialEvent)}),s=ms("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),s()}}},{key:"_dropFromOutsideListener",value:function(r){var n=r0(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY;this.emit("dropFromOutside",{x:s,y:a,clientX:i,clientY:l}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=r0(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY;this.emit("dragOverFromOutside",{x:s,y:a,clientX:i,clientY:l}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=r0(r),s=n.clientX,a=n.clientY,i=n.pageX,l=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!a9e(c,s,a))){if(!this.globalMouse&&c&&!eg(c,r.target)){var f=u9e(0),h=f.top,p=f.left,x=f.bottom,m=f.right;if(d=pf(c),u=N3({top:d.top-h,left:d.left-p,bottom:d.bottom+x,right:d.right+m},{top:l,left:i}),!u)return}var g=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:i,y:l,clientX:s,clientY:a});if(g!==!1)switch(r.type){case"mousedown":this._removeEndListener=ms("mouseup",this._handleTerminatingEvent),this._onEscListener=ms("keydown",this._handleTerminatingEvent),this._removeMoveListener=ms("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=ms("touchend",this._handleTerminatingEvent),this._removeMoveListener=ms("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,s=this.validContainers;return!s||!s.length||!n?!0:s.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,s=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||eg(this.container(),r.target),i=this._isWithinValidContainer(r);return r.key==="Escape"||!i?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",s):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=r0(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<c9e?(this._lastClickData=null,this.emit("doubleClick",{x:s,y:a,clientX:i,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:s,y:a,clientX:i,clientY:l}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,s=n.x,a=n.y,i=r0(r),l=i.pageX,c=i.pageY,u=Math.abs(s-l),d=Math.abs(a-c),f=Math.min(l,s),h=Math.min(c,a),p=this.selecting,x=this.isClick(l,c);x&&!p&&!(u||d)||(!p&&!x&&this.emit("selectStart",this._initialEventData),x||(this.selecting=!0,this._selectRect={top:h,left:f,x:l,y:c,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var s=this._initialEventData,a=s.x,i=s.y,l=s.isTouch;return!l&&Math.abs(r-a)<=C3&&Math.abs(n-i)<=C3}}])}();function u9e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ql(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function N3(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=pf(e),s=n.top,a=n.left,i=n.right,l=i===void 0?a:i,c=n.bottom,u=c===void 0?s:c,d=pf(t),f=d.top,h=d.left,p=d.right,x=p===void 0?h:p,m=d.bottom,g=m===void 0?f:m;return!(u-r<f||s+r>g||l-r<h||a+r>x)}function pf(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+k3("left"),n=t.top+k3("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function k3(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var d9e=function(e){function t(r,n){var s;return Ln(this,t),s=bs(this,t,[r,n]),s.state={selecting:!1},s.containerRef=w.createRef(),s}return Ss(t,e),$n(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,s=n.range,a=n.getNow,i=n.getters,l=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,h=d.startIdx,p=d.endIdx,x=a();return H.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},s.map(function(m,g){var _=f&&g>=h&&g<=p,y=i.dayProp(m),S=y.className,E=y.style;return H.createElement(c,{key:g,value:m,range:s},H.createElement("div",{style:E,className:dn("rbc-day-bg",S,_&&"rbc-selected-cell",u.isSameDate(m,x)&&"rbc-today",l&&u.neq(l,m,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,s=this.containerRef.current,a=this._selector=new CG(this.props.container,{longPressThreshold:this.props.longPressThreshold}),i=function(c,u){if(!G_(s,c)&&!l9e(s,c)){var d=pf(s),f=n.props,h=f.range,p=f.rtl;if(e9e(d,c)){var x=EG(d,c.x,p,h.length);n._selectSlot({startIdx:x,endIdx:x,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};a.on("selecting",function(l){var c=n.props,u=c.range,d=c.rtl,f=-1,h=-1;if(n.state.selecting||(Ur(n.props.onSelectStart,[l]),n._initial={x:l.x,y:l.y}),a.isSelected(s)){var p=pf(s),x=t9e(n._initial,p,l,u.length,d);f=x.startIdx,h=x.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),a.on("beforeSelect",function(l){if(n.props.selectable==="ignoreEvents")return!G_(n.containerRef.current,l)}),a.on("click",function(l){return i(l,"click")}),a.on("doubleClick",function(l){return i(l,"doubleClick")}),a.on("select",function(l){n._selectSlot(kr(kr({},n.state),{},{action:"select",bounds:l})),n._initial={},n.setState({selecting:!1}),Ur(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var s=n.endIdx,a=n.startIdx,i=n.action,l=n.bounds,c=n.box;s!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:s,action:i,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(H.Component),Ka={propTypes:{slotMetrics:Be.object.isRequired,selected:Be.object,isAllDay:Be.bool,accessors:Be.object.isRequired,localizer:Be.object.isRequired,components:Be.object.isRequired,getters:Be.object.isRequired,onSelect:Be.func,onDoubleClick:Be.func,onKeyPress:Be.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var s=t.accessors,a=t.getters,i=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,h=t.resizable,p=d.continuesPrior(r),x=d.continuesAfter(r);return H.createElement(bG,{event:r,getters:a,localizer:u,accessors:s,components:f,onSelect:i,onDoubleClick:l,onKeyPress:c,continuesPrior:p,continuesAfter:x,slotStart:d.first,slotEnd:d.last,selected:Kb(r,n),resizable:h})},renderSpan:function(t,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/t*100+"%";return H.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},s)}},NG=function(e){function t(){return Ln(this,t),bs(this,t,arguments)}return Ss(t,e),$n(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.segments,i=s.slotMetrics.slots,l=s.className,c=1;return H.createElement("div",{className:dn(l,"rbc-row")},a.reduce(function(u,d,f){var h=d.event,p=d.left,x=d.right,m=d.span,g="_lvl_"+f,_=p-c,y=Ka.renderEvent(n.props,h);return _&&u.push(Ka.renderSpan(i,_,"".concat(g,"_gap"))),u.push(Ka.renderSpan(i,m,g,y)),c=x+1,u},[]))}}])}(H.Component);NG.defaultProps=kr({},Ka.defaultProps);function kG(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,s=e.localizer;return{first:t[0],last:s.add(t[t.length-1],1,n)}}function f9e(e,t,r,n){var s=kG({dateRange:t,localizer:n}),a=s.first,i=s.last,l=n.diff(a,i,"day"),c=n.max(n.startOf(r.start(e),"day"),a),u=n.min(n.ceil(r.end(e),"day"),i),d=vLe(t,function(h){return n.isSameDate(h,c)}),f=n.diff(c,u,"day");return f=Math.min(f,l),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function GC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,s,a=[],i=[];for(r=0;r<e.length;r++){for(s=e[r],n=0;n<a.length&&h9e(s,a[n]);n++);n>=t?i.push(s):(a[n]||(a[n]=[])).push(s)}for(r=0;r<a.length;r++)a[r].sort(function(l,c){return l.left-c.left});return{levels:a,extra:i}}function ng(e,t,r,n,s){var a={start:n.start(e),end:n.end(e)},i={start:t,end:r};return s.inEventRange({event:a,range:i})}function h9e(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function m9e(e,t,r){var n=ty(e),s=[],a=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?s.push(c):a.push(c)});var i=s.sort(function(c,u){return qC(c,u,t,r)}),l=a.sort(function(c,u){return qC(c,u,t,r)});return[].concat(ty(i),ty(l))}function qC(e,t,r,n){var s={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},a={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:s,evtB:a})}var KC=function(t,r){return t.left<=r&&t.right>=r},x2=function(t,r){return t.filter(function(n){return KC(n,r)}).map(function(n){return n.event})},jG=function(e){function t(){return Ln(this,t),bs(this,t,arguments)}return Ss(t,e),$n(t,[{key:"render",value:function(){for(var n=this.props,s=n.segments,a=n.slotMetrics.slots,i=GC(s).levels[0],l=1,c=1,u=[];l<=a;){var d="_lvl_"+l,f=i.filter(function(E){return KC(E,l)})[0]||{},h=f.event,p=f.left,x=f.right,m=f.span;if(!h){var g=this.getHiddenEventsForSlot(s,l);if(g.length>0){var _=l-c;_&&u.push(Ka.renderSpan(a,_,d+"_gap")),u.push(Ka.renderSpan(a,1,d,this.renderShowMore(s,l))),c=l=l+1;continue}l++;continue}var y=Math.max(0,p-c);if(this.canRenderSlotEvent(p,m)){var S=Ka.renderEvent(this.props,h);y&&u.push(Ka.renderSpan(a,y,d+"_gap")),u.push(Ka.renderSpan(a,m,d,S)),c=l=x+1}else y&&u.push(Ka.renderSpan(a,y,d+"_gap")),u.push(Ka.renderSpan(a,1,d,this.renderShowMore(s,l))),c=l=l+1}return H.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,s){var a=x2(n,s),i=GC(n).levels[0],l=i.filter(function(c){return KC(c,s)}).map(function(c){return c.event});return a.filter(function(c){return!l.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,s){var a=this.props.segments;return kLe(n,n+s).every(function(i){var l=x2(a,i).length;return l===1})}},{key:"renderShowMore",value:function(n,s){var a=this,i=this.props,l=i.localizer,c=i.slotMetrics,u=i.components,d=c.getEventsForSlot(s),f=x2(n,s),h=f.length;if(u!=null&&u.showMore){var p=u.showMore,x=c.getDateForSlot(s-1);return h?H.createElement(p,{localizer:l,slotDate:x,slot:s,count:h,events:d,remainingEvents:f}):!1}return h?H.createElement("button",{type:"button",key:"sm_"+s,className:dn("rbc-button-link","rbc-show-more"),onClick:function(g){return a.showMore(s,g)}},l.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(n,s){s.preventDefault(),s.stopPropagation(),this.props.onShowMore(n,s.target)}}])}(H.Component);jG.defaultProps=kr({},Ka.defaultProps);var p9e=function(t){var r=t.children;return H.createElement("div",{className:"rbc-row-content-scroll-container"},r)},v9e=function(t,r){return t.left<=r&&t.right>=r},g9e=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function AG(){return rG(function(e){for(var t=e.range,r=e.events,n=e.maxRows,s=e.minRows,a=e.accessors,i=e.localizer,l=kG({dateRange:t,localizer:i}),c=l.first,u=l.last,d=r.map(function(m){return f9e(m,t,a,i)}),f=GC(d,Math.max(n-1,1)),h=f.levels,p=f.extra,x=p.length>0?s-1:s;h.length<x;)h.push([]);return{first:c,last:u,levels:h,extra:p,range:t,slots:t.length,clone:function(g){var _=AG();return _(kr(kr({},e),g))},getDateForSlot:function(g){return t[g]},getSlotForDate:function(g){return t.find(function(_){return i.isSameDate(_,g)})},getEventsForSlot:function(g){return d.filter(function(_){return v9e(_,g)}).map(function(_){return _.event})},continuesPrior:function(g){return i.continuesPrior(a.start(g),c)},continuesAfter:function(g){var _=a.start(g),y=a.end(g);return i.continuesAfter(_,y,u)}}},g9e)}var sg=function(e){function t(){var r;Ln(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=bs(this,t,[].concat(s)),r.handleSelectSlot=function(i){var l=r.props,c=l.range,u=l.onSelectSlot;u(c.slice(i.start,i.end+1),i)},r.handleShowMore=function(i,l){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),h=mPe(r.containerRef.current,".rbc-row-bg")[0],p;h&&(p=h.children[i-1]);var x=f.getEventsForSlot(i);d(x,u[i-1],p,i,l)},r.getContainer=function(){var i=r.props.container;return i?i():r.containerRef.current},r.renderHeadingCell=function(i,l){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:i,key:"header_".concat(l),className:dn("rbc-date-cell",f.isSameDate(i,d())&&"rbc-now")})},r.renderDummy=function(){var i=r.props,l=i.className,c=i.range,u=i.renderHeader,d=i.showAllEvents;return H.createElement("div",{className:l,ref:r.containerRef},H.createElement("div",{className:dn("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&H.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),H.createElement("div",{className:"rbc-row",ref:r.eventRowRef},H.createElement("div",{className:"rbc-row-segment"},H.createElement("div",{className:"rbc-event"},H.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=w.createRef(),r.headingRowRef=w.createRef(),r.eventRowRef=w.createRef(),r.slotMetrics=AG(),r}return Ss(t,e),$n(t,[{key:"getRowLimit",value:function(){var n,s=p2(this.eventRowRef.current),a=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?p2(this.headingRowRef.current):0,i=p2(this.containerRef.current)-a;return Math.max(Math.floor(i/s),1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.rtl,i=n.range,l=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,h=n.getters,p=n.components,x=n.getNow,m=n.renderHeader,g=n.onSelect,_=n.localizer,y=n.onSelectStart,S=n.onSelectEnd,E=n.onDoubleClick,C=n.onKeyPress,P=n.resourceId,N=n.longPressThreshold,A=n.isAllDay,j=n.resizable,O=n.showAllEvents;if(d)return this.renderDummy();var W=this.slotMetrics(this.props),z=W.levels,Y=W.extra,J=O?p9e:ho,ie=p.weekWrapper,oe={selected:c,accessors:f,getters:h,localizer:_,components:p,onSelect:g,onDoubleClick:E,onKeyPress:C,resourceId:P,slotMetrics:W,resizable:j};return H.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},H.createElement(d9e,{localizer:_,date:s,getNow:x,rtl:a,range:i,selectable:u,container:this.getContainer,getters:h,onSelectStart:y,onSelectEnd:S,onSelectSlot:this.handleSelectSlot,components:p,longPressThreshold:N,resourceId:P}),H.createElement("div",{className:dn("rbc-row-content",O&&"rbc-row-content-scrollable"),role:"row"},m&&H.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),H.createElement(J,null,H.createElement(ie,Object.assign({isAllDay:A},oe,{rtl:this.props.rtl}),z.map(function(re,Z){return H.createElement(NG,Object.assign({key:Z,segments:re},oe))}),!!Y.length&&H.createElement(jG,Object.assign({segments:Y,onShowMore:this.handleShowMore},oe))))))}}])}(H.Component);sg.defaultProps={minRows:0,maxRows:1/0};var jP=function(t){var r=t.label;return H.createElement("span",{role:"columnheader","aria-sort":"none"},r)},x9e=function(t){var r=t.label,n=t.drilldownView,s=t.onDrillDown;return n?H.createElement("button",{type:"button",className:"rbc-button-link",onClick:s},r):H.createElement("span",null,r)},y9e=["date","className"],_9e=function(t,r,n,s,a){return t.filter(function(i){return ng(i,r,n,s,a)})},Xb=function(e){function t(){var r;Ln(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=bs(this,t,[].concat(s)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(i,l){var c=r.props,u=c.events,d=c.components,f=c.selectable,h=c.getNow,p=c.selected,x=c.date,m=c.localizer,g=c.longPressThreshold,_=c.accessors,y=c.getters,S=c.showAllEvents,E=r.state,C=E.needLimitMeasure,P=E.rowLimit,N=_9e(ty(u),i[0],i[i.length-1],_,m),A=m9e(N,_,m);return H.createElement(sg,{key:l,ref:l===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:x,range:i,events:A,maxRows:S?1/0:P,selected:p,selectable:f,components:d,accessors:_,getters:y,localizer:m,renderHeader:r.readerDateHeading,renderForMeasure:C,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:g,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:S})},r.readerDateHeading=function(i){var l=i.date,c=i.className,u=Uo(i,y9e),d=r.props,f=d.date,h=d.getDrilldownView,p=d.localizer,x=p.neq(f,l,"month"),m=p.isSameDate(l,f),g=h(l),_=p.format(l,"dateFormat"),y=r.props.components.dateHeader||x9e;return H.createElement("div",Object.assign({},u,{className:dn(c,x&&"rbc-off-range",m&&"rbc-current"),role:"cell"}),H.createElement(y,{label:_,date:l,drilldownView:g,isOffRange:x,onDrillDown:function(E){return r.handleHeadingClick(l,g,E)}}))},r.handleSelectSlot=function(i,l){r._pendingSelection=r._pendingSelection.concat(i),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(l)})},r.handleHeadingClick=function(i,l,c){c.preventDefault(),r.clearSelection(),Ur(r.props.onDrillDown,[i,l])},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];Ur(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];Ur(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];Ur(r.props.onKeyPressEvent,l)},r.handleShowMore=function(i,l,c,u,d){var f=r.props,h=f.popup,p=f.onDrillDown,x=f.onShowMore,m=f.getDrilldownView,g=f.doShowMoreDrillDown;if(r.clearSelection(),h){var _=AY(c,r.containerRef.current);r.setState({overlay:{date:l,events:i,position:_,target:d}})}else g&&Ur(p,[l,m(l)||en.DAY]);Ur(x,[i,l,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=w.createRef(),r.slotRowRef=w.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Ss(t,e),$n(t,[{key:"componentDidMount",value:function(){var n=this,s;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){s||PY(function(){s=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.className,l=a.visibleDays(s,a),c=ZAe(l,7);return this._weekCount=c.length,H.createElement("div",{className:dn("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},H.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var s=this.props,a=s.localizer,i=s.components,l=n[0],c=n[n.length-1],u=i.header||jP;return a.range(l,c,"day").map(function(d,f){return H.createElement("div",{key:"header_"+f,className:"rbc-header"},H.createElement(u,{date:d,localizer:a,label:a.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,s,a=this,i=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,p=l.popupOffset,x=l.handleDragStart,m=function(){return a.setState({overlay:null})};return H.createElement(kP,{overlay:i,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:x,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var s=this._pendingSelection.slice();this._pendingSelection=[],s.sort(function(l,c){return+l-+c});var a=new Date(s[0]),i=new Date(s[s.length-1]);i.setDate(s[s.length-1].getDate()+1),Ur(this.props.onSelectSlot,{slots:s,start:a,end:i,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,s){var a=n.date,i=n.localizer;return{date:a,needLimitMeasure:i.neq(a,s.date,"month")}}}])}(H.Component);Xb.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),s=r.lastVisibleDay(e,r);return{start:n,end:s}};Xb.navigate=function(e,t,r){var n=r.localizer;switch(t){case ua.PREVIOUS:return n.add(e,-1,"month");case ua.NEXT:return n.add(e,1,"month");default:return e}};Xb.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var j3=function(t){var r=t.min,n=t.max,s=t.step,a=t.slots,i=t.localizer;return"".concat(+i.startOf(r,"minutes"))+"".concat(+i.startOf(n,"minutes"))+"".concat(s,"-").concat(a)};function AP(e){for(var t=e.min,r=e.max,n=e.step,s=e.timeslots,a=e.localizer,i=j3({start:t,end:r,step:n,timeslots:s,localizer:a}),l=1+a.getTotalMin(t,r),c=a.getMinutesFromMidnight(t),u=Math.ceil((l-1)/(n*s)),d=u*s,f=new Array(u),h=new Array(d),p=0;p<u;p++){f[p]=new Array(s);for(var x=0;x<s;x++){var m=p*s+x,g=m*n;h[m]=f[p][x]=a.getSlotDate(t,c,g)}}var _=h.length*n;h.push(a.getSlotDate(t,c,_));function y(S){var E=a.diff(t,S,"minutes")+a.getDstOffset(t,S);return Math.min(E,l)}return{groups:f,update:function(E){return j3(E)!==i?AP(E):this},dateIsInGroup:function(E,C){var P=f[C+1];return a.inRange(E,f[C][0],P?P[0]:r,"minutes")},nextSlot:function(E){var C=h[Math.min(h.findIndex(function(P){return P===E||a.eq(P,E)})+1,h.length-1)];return a.eq(C,E)&&(C=a.add(E,n,"minutes")),C},closestSlotToPosition:function(E){var C=Math.min(h.length-1,Math.max(0,Math.floor(E*d)));return h[C]},closestSlotFromPoint:function(E,C){var P=Math.abs(C.top-C.bottom);return this.closestSlotToPosition((E.y-C.top)/P)},closestSlotFromDate:function(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(E,t,"minutes"))return h[0];if(a.gt(E,r,"minutes"))return h[h.length-1];var P=a.diff(t,E,"minutes");return h[(P-P%n)/n+C]},startsBeforeDay:function(E){return a.lt(E,t,"day")},startsAfterDay:function(E){return a.gt(E,r,"day")},startsBefore:function(E){return a.lt(a.merge(t,E),t,"minutes")},startsAfter:function(E){return a.gt(a.merge(r,E),r,"minutes")},getRange:function(E,C,P,N){P||(E=a.min(r,a.max(t,E))),N||(C=a.min(r,a.max(t,C)));var A=y(E),j=y(C),O=j>n*d&&!a.eq(r,C)?(A-n)/(n*d)*100:A/(n*d)*100;return{top:O,height:j/(n*d)*100-O,start:y(E),startDate:E,end:y(C),endDate:C}},getCurrentTimePosition:function(E){var C=y(E),P=C/(n*d)*100;return P}}}var w9e=function(){function e(t,r){var n=r.accessors,s=r.slotMetrics;Ln(this,e);var a=s.getRange(n.start(t),n.end(t)),i=a.start,l=a.startDate,c=a.end,u=a.endDate,d=a.top,f=a.height;this.start=i,this.end=c,this.startMs=+l,this.endMs=+u,this.top=d,this.height=f,this.data=t}return $n(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(s,a){return Math.max(s,a.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var s=this.row.leaves,a=s.indexOf(this);return a===s.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,s=r.xOffset,a=r._width,i=n.indexOf(this)+1;return s+i*a}}])}();function b9e(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function S9e(e){for(var t=q6e(e,["startMs",function(l){return-l.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var s=0;s<t.length;s++){var a=t[s];if(!(n.endMs>a.startMs)){if(s>0){var i=t.splice(s,1)[0];r.push(i)}break}}}return r}function PG(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=t.map(function(d){return new w9e(d,{slotMetrics:n,accessors:s})}),i=S9e(a),l=[],c=function(){var f=i[u],h=l.find(function(m){return m.end>f.start||Math.abs(f.start-m.start)<r});if(!h)return f.rows=[],l.push(f),1;f.container=h;for(var p=null,x=h.rows.length-1;!p&&x>=0;x--)b9e(h.rows[x],f,r)&&(p=h.rows[x]);p?(p.leaves.push(f),f.row=p):(f.leaves=[],h.rows.push(f))},u=0;u<i.length;u++)c();return i.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function OG(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var s=OG(e.friends[n],t,r);t=t>s?t:s}return t}function E9e(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=PG({events:t,minimumStartDifference:r,slotMetrics:n,accessors:s});a.sort(function(ie,oe){return ie=ie.style,oe=oe.style,ie.top!==oe.top?ie.top>oe.top?1:-1:ie.height!==oe.height?ie.top+ie.height<oe.top+oe.height?1:-1:0});for(var i=0;i<a.length;++i)a[i].friends=[],delete a[i].style.left,delete a[i].style.left,delete a[i].idx,delete a[i].size;for(var l=0;l<a.length-1;++l)for(var c=a[l],u=c.style.top,d=c.style.top+c.style.height,f=l+1;f<a.length;++f){var h=a[f],p=h.style.top,x=h.style.top+h.style.height;(p>=u&&x<=d||x>u&&x<=d||p>=u&&p<d)&&(c.friends.push(h),h.friends.push(c))}for(var m=0;m<a.length;++m){for(var g=a[m],_=[],y=0;y<100;++y)_.push(1);for(var S=0;S<g.friends.length;++S)g.friends[S].idx!==void 0&&(_[g.friends[S].idx]=0);g.idx=_.indexOf(1)}for(var E=0;E<a.length;++E){var C=0;if(!a[E].size){var P=[],N=OG(a[E],0,P);C=100/(N+1),a[E].size=C;for(var A=0;A<P.length;++A)P[A].size=C}}for(var j=0;j<a.length;++j){var O=a[j];O.style.left=O.idx*O.size;for(var W=0,z=0;z<O.friends.length;++z){var Y=O.friends[z].idx;W=W>Y?W:Y}W<=O.idx&&(O.size=100-O.idx*O.size);var J=O.idx===0?0:3;O.style.width="calc(".concat(O.size,"% - ").concat(J,"px)"),O.style.height="calc(".concat(O.style.height,"% - 2px)"),O.style.xOffset="calc(".concat(O.style.left,"% + ").concat(J,"px)")}return a}var A3={overlap:PG,"no-overlap":E9e};function T9e(e){return!!(e&&e.constructor&&e.call&&e.apply)}function C9e(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in A3&&(r=A3[t]),T9e(r)?r.apply(this,arguments):[]}var DG=function(e){function t(){return Ln(this,t),bs(this,t,arguments)}return Ss(t,e),$n(t,[{key:"render",value:function(){var n=this.props,s=n.renderSlot,a=n.resource,i=n.group,l=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?ho:d,h=l?l.slotGroupProp(i):{};return H.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),i.map(function(p,x){var m=l?l.slotProp(p,a):{};return H.createElement(f,{key:x,value:p,resource:a},H.createElement("div",Object.assign({},m,{className:dn("rbc-time-slot",m.className)}),s&&s(p,x)))}))}}])}(w.Component);function b1(e){return typeof e=="string"?e:e+"%"}function N9e(e){var t=e.style,r=e.className,n=e.event,s=e.accessors,a=e.rtl,i=e.selected,l=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,h=e.onDoubleClick,p=e.isBackgroundEvent,x=e.onKeyPress,m=e.components,g=m.event,_=m.eventWrapper,y=s.title(n),S=s.tooltip(n),E=s.end(n),C=s.start(n),P=d.eventProp(n,C,E,i),N=[H.createElement("div",{key:"1",className:"rbc-event-label"},l),H.createElement("div",{key:"2",className:"rbc-event-content"},g?H.createElement(g,{event:n,title:y}):y)],A=t.height,j=t.top,O=t.width,W=t.xOffset,z=kr(kr({},P.style),{},hd({top:b1(j),height:b1(A),width:b1(O)},a?"right":"left",b1(W)));return H.createElement(_,Object.assign({type:"time"},e),H.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:z,onKeyDown:x,title:S?(typeof l=="string"?l+": ":"")+S:void 0,className:dn(p?"rbc-background-event":"rbc-event",r,P.className,{"rbc-selected":i,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},N))}var k9e=function(t){var r=t.children,n=t.className,s=t.style,a=t.innerRef;return H.createElement("div",{className:n,style:s,ref:a},r)},j9e=H.forwardRef(function(e,t){return H.createElement(k9e,Object.assign({},e,{innerRef:t}))}),A9e=["dayProp"],P9e=["eventContainerWrapper","timeIndicatorWrapper"],RG=function(e){function t(){var r;Ln(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=bs(this,t,[].concat(s)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(i){var l=i.events,c=i.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,h=u.accessors,p=u.localizer,x=u.getters,m=u.components,g=u.step,_=u.timeslots,y=u.dayLayoutAlgorithm,S=u.resizable,E=r,C=E.slotMetrics,P=p.messages,N=C9e({events:l,accessors:h,slotMetrics:C,minimumStartDifference:Math.ceil(g*_/2),dayLayoutAlgorithm:y});return N.map(function(A,j){var O,W=A.event,z=A.style,Y=h.end(W),J=h.start(W),ie=(O=h.eventId(W))!==null&&O!==void 0?O:"evt_"+j,oe="eventTimeRangeFormat",re,Z=C.startsBeforeDay(J),ae=C.startsAfterDay(Y);Z?oe="eventTimeRangeEndFormat":ae&&(oe="eventTimeRangeStartFormat"),Z&&ae?re=P.allDay:re=p.format({start:J,end:Y},oe);var ge=Z||C.startsBefore(J),se=ae||C.startsAfter(Y);return H.createElement(N9e,{style:z,event:W,label:re,key:ie,getters:x,rtl:d,components:m,continuesPrior:ge,continuesAfter:se,accessors:h,resource:r.props.resource,selected:Kb(W,f),onClick:function(F){return r._select(kr(kr(kr({},W),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),F)},onDoubleClick:function(F){return r._doubleClick(W,F)},isBackgroundEvent:c,onKeyPress:function(F){return r._keyPress(W,F)},resizable:S})})},r._selectable=function(){var i=r.containerRef.current,l=r.props,c=l.longPressThreshold,u=l.localizer,d=r._selector=new CG(function(){return i},{longPressThreshold:c}),f=function(m){var g=r.props.onSelecting,_=r.state||{},y=h(m),S=y.startDate,E=y.endDate;g&&(u.eq(_.startDate,S,"minutes")&&u.eq(_.endDate,E,"minutes")||g({start:S,end:E,resourceId:r.props.resource})===!1)||(r.state.start!==y.start||r.state.end!==y.end||r.state.selecting!==y.selecting)&&r.setState(y)},h=function(m){var g=r.slotMetrics.closestSlotFromPoint(m,pf(i));r.state.selecting||(r._initialSlot=g);var _=r._initialSlot;u.lte(_,g)?g=r.slotMetrics.nextSlot(g):u.gt(_,g)&&(_=r.slotMetrics.nextSlot(_));var y=r.slotMetrics.getRange(u.min(_,g),u.max(_,g));return kr(kr({},y),{},{selecting:!0,top:"".concat(y.top,"%"),height:"".concat(y.height,"%")})},p=function(m,g){if(!G_(r.containerRef.current,m)){var _=h(m),y=_.startDate,S=_.endDate;r._selectSlot({startDate:y,endDate:S,action:g,box:m})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(x){if(r.props.selectable==="ignoreEvents")return!G_(r.containerRef.current,x)}),d.on("click",function(x){return p(x,"click")}),d.on("doubleClick",function(x){return p(x,"doubleClick")}),d.on("select",function(x){r.state.selecting&&(r._selectSlot(kr(kr({},r.state),{},{action:"select",bounds:x})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(i){for(var l=i.startDate,c=i.endDate,u=i.action,d=i.bounds,f=i.box,h=l,p=[];r.props.localizer.lte(h,c);)p.push(h),h=new Date(+h+r.props.step*60*1e3);Ur(r.props.onSelectSlot,{slots:p,start:l,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];Ur(r.props.onSelectEvent,l)},r._doubleClick=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];Ur(r.props.onDoubleClickEvent,l)},r._keyPress=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];Ur(r.props.onKeyPressEvent,l)},r.slotMetrics=AP(r.props),r.containerRef=w.createRef(),r}return Ss(t,e),$n(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,s){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var a=this.props,i=a.getNow,l=a.isNow,c=a.localizer,u=a.date,d=a.min,f=a.max,h=c.neq(n.getNow(),i(),"minutes");if(n.isNow!==l||h){if(this.clearTimeIndicatorInterval(),l){var p=!h&&c.eq(n.date,u,"minutes")&&s.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(p)}}else l&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!s&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,s=n.min,a=n.max,i=n.getNow,l=i();if(l>=s&&l<=a){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.max,i=n.rtl,l=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,h=f.dayProp,p=Uo(f,A9e),x=n.components,m=x.eventContainerWrapper,g=x.timeIndicatorWrapper,_=Uo(x,P9e);this.slotMetrics=this.slotMetrics.update(this.props);var y=this.slotMetrics,S=this.state,E=S.selecting,C=S.top,P=S.height,N=S.startDate,A=S.endDate,j={start:N,end:A},O=h(a,c),W=O.className,z=O.style,Y={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},J=_.dayColumnWrapper||j9e;return H.createElement(J,{ref:this.containerRef,date:s,style:z,className:dn(W,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",E&&"rbc-slot-selecting"),slotMetrics:y,resource:c},y.groups.map(function(ie,oe){return H.createElement(DG,{key:oe,group:ie,resource:c,getters:p,components:_})}),H.createElement(m,{localizer:d,resource:c,accessors:u,getters:p,components:_,slotMetrics:y},H.createElement("div",{className:dn("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),E&&H.createElement("div",{className:"rbc-slot-selection",style:{top:C,height:P}},H.createElement("span",null,d.format(j,"selectRangeFormat"))),l&&this.intervalTriggered&&H.createElement(g,Y,H.createElement("div",Y)))}}])}(H.Component);RG.defaultProps={dragThroughEvents:!0,timeslots:2};var IG=function(t){var r=t.label;return H.createElement(H.Fragment,null,r)},O9e=function(e){function t(){var r;Ln(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=bs(this,t,[].concat(s)),r.handleHeaderClick=function(i,l,c){c.preventDefault(),Ur(r.props.onDrillDown,[i,l])},r.renderRow=function(i){var l=r.props,c=l.events,u=l.rtl,d=l.selectable,f=l.getNow,h=l.range,p=l.getters,x=l.localizer,m=l.accessors,g=l.components,_=l.resizable,y=m.resourceId(i),S=i?c.filter(function(E){return m.resource(E)===y}):c;return H.createElement(sg,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:S,resourceId:y,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:g,accessors:m,getters:p,localizer:x,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:_})},r}return Ss(t,e),$n(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,i=a.localizer,l=a.getDrilldownView,c=a.getNow,u=a.getters.dayProp,d=a.components.header,f=d===void 0?jP:d,h=c();return n.map(function(p,x){var m=l(p),g=i.format(p,"dayFormat"),_=u(p),y=_.className,S=_.style,E=H.createElement(f,{date:p,label:g,localizer:i});return H.createElement("div",{key:x,style:S,className:dn("rbc-header",y,i.isSameDate(p,h)&&"rbc-today")},m?H.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(P){return s.handleHeaderClick(p,m,P)}},E):H.createElement("span",null,E))})}},{key:"render",value:function(){var n=this,s=this.props,a=s.width,i=s.rtl,l=s.resources,c=s.range,u=s.events,d=s.getNow,f=s.accessors,h=s.selectable,p=s.components,x=s.getters,m=s.scrollRef,g=s.localizer,_=s.isOverflowing,y=s.components,S=y.timeGutterHeader,E=y.resourceHeader,C=E===void 0?IG:E,P=s.resizable,N={};_&&(N[i?"marginLeft":"marginRight"]="".concat(lP()-1,"px"));var A=l.groupEvents(u);return H.createElement("div",{style:N,ref:m,className:dn("rbc-time-header",_&&"rbc-overflowing")},H.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},S&&H.createElement(S,null)),l.map(function(j,O){var W=Ja(j,2),z=W[0],Y=W[1];return H.createElement("div",{className:"rbc-time-header-content",key:z||O},Y&&H.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(O)},H.createElement("div",{className:"rbc-header"},H.createElement(C,{index:O,label:f.resourceTitle(Y),resource:Y}))),H.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),H.createElement(sg,{isAllDay:!0,rtl:i,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:A.get(z)||[],resourceId:Y&&z,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:p,accessors:f,getters:x,localizer:g,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:P}))}))}}])}(H.Component),D9e=function(e){function t(){var r;Ln(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=bs(this,t,[].concat(s)),r.handleHeaderClick=function(i,l,c){c.preventDefault(),Ur(r.props.onDrillDown,[i,l])},r}return Ss(t,e),$n(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,i=a.localizer,l=a.getDrilldownView,c=a.getNow,u=a.getters.dayProp,d=a.components,f=d.header,h=f===void 0?jP:f,p=d.resourceHeader,x=p===void 0?IG:p,m=a.resources,g=a.accessors,_=a.events,y=a.rtl,S=a.selectable,E=a.components,C=a.getters,P=a.resizable,N=c(),A=m.groupEvents(_);return n.map(function(j,O){var W=l(j),z=i.format(j,"dayFormat"),Y=u(j),J=Y.className,ie=Y.style,oe=H.createElement(h,{date:j,label:z,localizer:i});return H.createElement("div",{key:O,className:"rbc-time-header-content rbc-resource-grouping"},H.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},H.createElement("div",{style:ie,className:dn("rbc-header",J,i.isSameDate(j,N)&&"rbc-today")},W?H.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(Z){return s.handleHeaderClick(j,W,Z)}},oe):H.createElement("span",null,oe))),H.createElement("div",{className:"rbc-row"},m.map(function(re,Z){var ae=Ja(re,2),ge=ae[0],se=ae[1];return H.createElement("div",{key:"resource_".concat(ge,"_").concat(Z),className:dn("rbc-header",J,i.isSameDate(j,N)&&"rbc-today")},H.createElement(x,{index:Z,label:g.resourceTitle(se),resource:se}))})),H.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},m.map(function(re,Z){var ae=Ja(re,2),ge=ae[0],se=ae[1],R=(A.get(ge)||[]).filter(function(F){return i.isSameDate(F.start,j)||i.isSameDate(F.end,j)});return H.createElement(sg,{key:"resource_".concat(ge,"_").concat(Z),isAllDay:!0,rtl:y,getNow:c,minRows:2,maxRows:s.props.allDayMaxRows+1,range:[j],events:R,resourceId:se&&ge,className:"rbc-allday-cell",selectable:S,selected:s.props.selected,components:E,accessors:g,getters:C,localizer:i,onSelect:s.props.onSelectEvent,onShowMore:s.props.onShowMore,onDoubleClick:s.props.onDoubleClickEvent,onKeyDown:s.props.onKeyPressEvent,onSelectSlot:s.props.onSelectSlot,longPressThreshold:s.props.longPressThreshold,resizable:P})})))})}},{key:"render",value:function(){var n=this.props,s=n.width,a=n.rtl,i=n.range,l=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[a?"marginLeft":"marginRight"]="".concat(lP()-1,"px")),H.createElement("div",{style:d,ref:l,className:dn("rbc-time-header",c&&"rbc-overflowing")},H.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},u&&H.createElement(u,null)),this.renderHeaderCells(i))}}])}(H.Component);function R9e(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var I9e=function(t){var r=t.min,n=t.max,s=t.timeslots,a=t.step,i=t.localizer,l=t.getNow,c=t.resource,u=t.components,d=t.getters,f=t.gutterRef,h=u.timeGutterWrapper,p=w.useMemo(function(){return R9e({min:r,max:n,localizer:i})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),i]),x=p.start,m=p.end,g=w.useState(AP({min:x,max:m,timeslots:s,step:a,localizer:i})),_=Ja(g,2),y=_[0],S=_[1];w.useEffect(function(){y&&S(y.update({min:x,max:m,timeslots:s,step:a,localizer:i}))},[x==null?void 0:x.toISOString(),m==null?void 0:m.toISOString(),s,a]);var E=w.useCallback(function(C,P){if(P)return null;var N=y.dateIsInGroup(l(),P);return H.createElement("span",{className:dn("rbc-label",N&&"rbc-now")},i.format(C,"timeGutterFormat"))},[y,i,l]);return H.createElement(h,{slotMetrics:y},H.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},y.groups.map(function(C,P){return H.createElement(DG,{key:P,group:C,resource:c,components:u,renderSlot:E,getters:d})})))},M9e=H.forwardRef(function(e,t){return H.createElement(I9e,Object.assign({gutterRef:t},e))}),y2={};function F9e(e,t){return{map:function(n){return e?e.map(function(s,a){return n([t.resourceId(s),s],a)}):[n([y2,null],0)]},groupEvents:function(n){var s=new Map;return e?(n.forEach(function(a){var i=t.resource(a)||y2;if(Array.isArray(i))i.forEach(function(c){var u=s.get(c)||[];u.push(a),s.set(c,u)});else{var l=s.get(i)||[];l.push(a),s.set(i,l)}}),s):(s.set(y2,n),s)}}}var bp=function(e){function t(r){var n;return Ln(this,t),n=bs(this,t,[r]),n.handleScroll=function(s){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=s.target.scrollLeft)},n.handleResize=function(){vF(n.rafHandle),n.rafHandle=PY(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];Ur(n.props.onKeyPressEvent,a)},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];Ur(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];Ur(n.props.onDoubleClickEvent,a)},n.handleShowMore=function(s,a,i,l,c){var u=n.props,d=u.popup,f=u.onDrillDown,h=u.onShowMore,p=u.getDrilldownView,x=u.doShowMoreDrillDown;if(n.clearSelection(),d){var m=AY(i,n.containerRef.current);n.setState({overlay:{date:a,events:s,position:kr(kr({},m),{},{width:"200px"}),target:c}})}else x&&Ur(f,[a,p(a)||en.DAY]);Ur(h,[s,a,l])},n.handleSelectAllDaySlot=function(s,a){var i=n.props.onSelectSlot,l=new Date(s[0]),c=new Date(s[s.length-1]);c.setDate(s[s.length-1].getDate()+1),Ur(i,{slots:s,start:l,end:c,action:a.action,resourceId:a.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var s=n.contentRef.current;if(s!=null&&s.scrollHeight){var a=s.scrollHeight>s.clientHeight;n.state.isOverflowing!==a&&(n._updatingOverflow=!0,n.setState({isOverflowing:a},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=rG(function(s,a){return F9e(s,a)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=H.createRef(),n.contentRef=H.createRef(),n.containerRef=H.createRef(),n._scrollRatio=null,n.gutterRef=w.createRef(),n}return Ss(t,e),$n(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),vF(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,s,a,i,l,c,u,d,f,h){var p=this.props,x=p.min,m=p.max,g=(i.get(s)||[]).filter(function(y){return c.inRange(n,u.start(y),u.end(y),"day")}),_=(l.get(s)||[]).filter(function(y){return c.inRange(n,u.start(y),u.end(y),"day")});return H.createElement(RG,Object.assign({},this.props,{localizer:c,min:c.merge(n,x),max:c.merge(n,m),resource:a&&s,components:d,isNow:c.isSameDate(n,h),key:"".concat(s,"-").concat(n),date:n,events:g,backgroundEvents:_,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,s,a,i,l,c,u,d,f){var h=this;return s.map(function(p){var x=Ja(p,2),m=x[0],g=x[1];return n.map(function(_){return h.renderDayColumn(_,m,g,a,i,l,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,s,a,i,l,c,u,d,f){var h=this;return n.map(function(p){return H.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:p},s.map(function(x){var m=Ja(x,2),g=m[0],_=m[1];return H.createElement("div",{style:{flex:1},key:c.resourceId(_)},h.renderDayColumn(p,g,_,a,i,l,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,s,a,i){var l=this.props,c=l.accessors,u=l.localizer,d=l.resourceGroupingLayout,f=l.components,h=l.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,c),x=p.groupEvents(s),m=p.groupEvents(a);return d?this.renderRangeFirst(n,p,x,m,u,c,i,f,h):this.renderResourcesFirst(n,p,x,m,u,c,i,f,h)}},{key:"render",value:function(){var n,s=this.props,a=s.events,i=s.backgroundEvents,l=s.range,c=s.width,u=s.rtl,d=s.selected,f=s.getNow,h=s.resources,p=s.components,x=s.accessors,m=s.getters,g=s.localizer,_=s.min,y=s.max,S=s.showMultiDayTimes,E=s.longPressThreshold,C=s.resizable,P=s.resourceGroupingLayout;c=c||this.state.gutterWidth;var N=l[0],A=l[l.length-1];this.slots=l.length;var j=[],O=[],W=[];a.forEach(function(Y){if(ng(Y,N,A,x,g)){var J=x.start(Y),ie=x.end(Y);x.allDay(Y)||g.startAndEndAreDateOnly(J,ie)||!S&&!g.isSameDate(J,ie)?j.push(Y):O.push(Y)}}),i.forEach(function(Y){ng(Y,N,A,x,g)&&W.push(Y)}),j.sort(function(Y,J){return qC(Y,J,x,g)});var z={range:l,events:j,width:c,rtl:u,getNow:f,localizer:g,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,x),selectable:this.props.selectable,accessors:x,getters:m,components:p,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:E,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:C};return H.createElement("div",{className:dn("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&P?H.createElement(D9e,z):H.createElement(O9e,z),this.props.popup&&this.renderOverlay(),H.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},H.createElement(M9e,{date:N,ref:this.gutterRef,localizer:g,min:g.merge(N,_),max:g.merge(N,y),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:p,className:"rbc-time-gutter",getters:m}),this.renderEvents(l,O,W,f())))}},{key:"renderOverlay",value:function(){var n,s,a=this,i=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,p=l.popupOffset,x=l.handleDragStart,m=function(){return a.setState({overlay:null})};return H.createElement(kP,{overlay:i,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:x,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var s,a=(s=n.gutterRef)!==null&&s!==void 0&&s.current?HC(n.gutterRef.current):void 0;a&&n.state.gutterWidth!==a&&n.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,s=n.min,a=n.max,i=n.scrollToTime,l=n.localizer,c=l.diff(l.merge(i,s),i,"milliseconds"),u=l.diff(s,a,"milliseconds");this._scrollRatio=c/u}}])}(w.Component);bp.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var L9e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Qb=function(e){function t(){return Ln(this,t),bs(this,t,arguments)}return Ss(t,e),$n(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,l=i===void 0?a.startOf(new Date,"day"):i,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,x=Uo(n,L9e),m=t.range(s,{localizer:a});return H.createElement(bp,Object.assign({},x,{range:m,eventOffset:10,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(H.Component);Qb.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};Qb.navigate=function(e,t,r){var n=r.localizer;switch(t){case ua.PREVIOUS:return n.add(e,-1,"day");case ua.NEXT:return n.add(e,1,"day");default:return e}};Qb.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var $9e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Cu=function(e){function t(){return Ln(this,t),bs(this,t,arguments)}return Ss(t,e),$n(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,l=i===void 0?a.startOf(new Date,"day"):i,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,x=Uo(n,$9e),m=t.range(s,this.props);return H.createElement(bp,Object.assign({},x,{range:m,eventOffset:15,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(H.Component);Cu.defaultProps=bp.defaultProps;Cu.navigate=function(e,t,r){var n=r.localizer;switch(t){case ua.PREVIOUS:return n.add(e,-1,"week");case ua.NEXT:return n.add(e,1,"week");default:return e}};Cu.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),s=r.startOf(e,"week",n),a=r.endOf(e,"week",n);return r.range(s,a)};Cu.title=function(e,t){var r=t.localizer,n=Cu.range(e,{localizer:r}),s=cG(n),a=s[0],i=s.slice(1);return r.format({start:a,end:i.pop()},"dayRangeHeaderFormat")};var U9e=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function PP(e,t){return Cu.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var dx=function(e){function t(){return Ln(this,t),bs(this,t,arguments)}return Ss(t,e),$n(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,l=i===void 0?a.startOf(new Date,"day"):i,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,x=Uo(n,U9e),m=PP(s,this.props);return H.createElement(bp,Object.assign({},x,{range:m,eventOffset:15,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(H.Component);dx.defaultProps=bp.defaultProps;dx.range=PP;dx.navigate=Cu.navigate;dx.title=function(e,t){var r=t.localizer,n=PP(e,{localizer:r}),s=cG(n),a=s[0],i=s.slice(1);return r.format({start:a,end:i.pop()},"dayRangeHeaderFormat")};var Zb=30;function Jb(e){var t=e.accessors,r=e.components,n=e.date,s=e.events,a=e.getters,i=e.length,l=i===void 0?Zb:i,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,h=w.useRef(null),p=w.useRef(null),x=w.useRef(null),m=w.useRef(null),g=w.useRef(null);w.useEffect(function(){S()});var _=function(A,j,O){var W=r.event,z=r.date;return j=j.filter(function(Y){return ng(Y,c.startOf(A,"day"),c.endOf(A,"day"),t,c)}),j.map(function(Y,J){var ie=t.title(Y),oe=t.end(Y),re=t.start(Y),Z=a.eventProp(Y,re,oe,Kb(Y,f)),ae=J===0&&c.format(A,"agendaDateFormat"),ge=J===0?H.createElement("td",{rowSpan:j.length,className:"rbc-agenda-date-cell"},z?H.createElement(z,{day:A,label:ae}):ae):!1;return H.createElement("tr",{key:O+"_"+J,className:Z.className,style:Z.style},ge,H.createElement("td",{className:"rbc-agenda-time-cell"},y(A,Y)),H.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(R){return d&&d(Y,R)},onDoubleClick:function(R){return u&&u(Y,R)}},W?H.createElement(W,{event:Y,title:ie}):ie))},[])},y=function(A,j){var O="",W=r.time,z=c.messages.allDay,Y=t.end(j),J=t.start(j);return t.allDay(j)||(c.eq(J,Y)?z=c.format(J,"agendaTimeFormat"):c.isSameDate(J,Y)?z=c.format({start:J,end:Y},"agendaTimeRangeFormat"):c.isSameDate(A,J)?z=c.format(J,"agendaTimeFormat"):c.isSameDate(A,Y)&&(z=c.format(Y,"agendaTimeFormat"))),c.gt(A,J,"day")&&(O="rbc-continues-prior"),c.lt(A,Y,"day")&&(O+=" rbc-continues-after"),H.createElement("span",{className:O.trim()},W?H.createElement(W,{event:j,day:A,label:z}):z)},S=function(){if(g.current){var A=h.current,j=g.current.firstChild;if(j){var O=m.current.scrollHeight>m.current.clientHeight,W=[],z=W;W=[HC(j.children[0]),HC(j.children[1])],(z[0]!==W[0]||z[1]!==W[1])&&(p.current.style.width=W[0]+"px",x.current.style.width=W[1]+"px"),O?($Oe(A,"rbc-header-overflowing"),A.style.marginRight=lP()+"px"):UOe(A,"rbc-header-overflowing")}}},E=c.messages,C=c.add(n,l,"day"),P=c.range(n,C,"day");return s=s.filter(function(N){return ng(N,c.startOf(n,"day"),c.endOf(C,"day"),t,c)}),s.sort(function(N,A){return+t.start(N)-+t.start(A)}),H.createElement("div",{className:"rbc-agenda-view"},s.length!==0?H.createElement(H.Fragment,null,H.createElement("table",{ref:h,className:"rbc-agenda-table"},H.createElement("thead",null,H.createElement("tr",null,H.createElement("th",{className:"rbc-header",ref:p},E.date),H.createElement("th",{className:"rbc-header",ref:x},E.time),H.createElement("th",{className:"rbc-header"},E.event)))),H.createElement("div",{className:"rbc-agenda-content",ref:m},H.createElement("table",{className:"rbc-agenda-table"},H.createElement("tbody",{ref:g},P.map(function(N,A){return _(N,s,A)}))))):H.createElement("span",{className:"rbc-agenda-empty"},E.noEventsInRange))}Jb.range=function(e,t){var r=t.length,n=r===void 0?Zb:r,s=t.localizer,a=s.add(e,n,"day");return{start:e,end:a}};Jb.navigate=function(e,t,r){var n=r.length,s=n===void 0?Zb:n,a=r.localizer;switch(t){case ua.PREVIOUS:return a.add(e,-s,"day");case ua.NEXT:return a.add(e,s,"day");default:return e}};Jb.title=function(e,t){var r=t.length,n=r===void 0?Zb:r,s=t.localizer,a=s.add(e,n,"day");return s.format({start:e,end:a},"agendaHeaderFormat")};var sy=hd(hd(hd(hd(hd({},en.MONTH,Xb),en.WEEK,Cu),en.WORK_WEEK,dx),en.DAY,Qb),en.AGENDA,Jb),B9e=["action","date","today"];function W9e(e,t){var r=t.action,n=t.date,s=t.today,a=Uo(t,B9e);switch(e=typeof e=="string"?sy[e]:e,r){case ua.TODAY:n=s||new Date;break;case ua.DATE:break;default:Hv(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,a)}return n}function V9e(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&ql(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var ol=function(t){return function(r){return V9e(r,t)}},z9e=["view","date","getNow","onNavigate"],H9e=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function MG(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var s=Ja(n[r],2),a=s[0],i=s[1];i&&t.push(a)}return t}function Y9e(e,t){var r=t.views,n=MG(r);return n.indexOf(e)!==-1}var FG=function(e){function t(){var r;Ln(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=bs(this,t,[].concat(s)),r.getViews=function(){var i=r.props.views;return Array.isArray(i)?bBe(i,function(l,c){return l[c]=sy[c]},{}):ql(i)==="object"?b5e(i,function(l,c){return l===!0?sy[c]:l}):sy},r.getView=function(){var i=r.getViews();return i[r.props.view]},r.getDrilldownView=function(i){var l=r.props,c=l.view,u=l.drilldownView,d=l.getDrilldownView;return d?d(i,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(i,l,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&l.range&&d(l.range(i,{localizer:f}),c)},r.handleNavigate=function(i,l){var c=r.props,u=c.view,d=c.date,f=c.getNow,h=c.onNavigate,p=Uo(c,z9e),x=r.getView(),m=f();d=W9e(x,kr(kr({},p),{},{action:i,date:l||d||m,today:m})),h(d,u,i),r.handleRangeChange(d,x)},r.handleViewChange=function(i){i!==r.props.view&&Y9e(i,r.props)&&r.props.onView(i);var l=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),l[i],i)},r.handleSelectEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];Ur(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];Ur(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];Ur(r.props.onKeyPressEvent,l)},r.handleSelectSlot=function(i){Ur(r.props.onSelectSlot,i)},r.handleDrillDown=function(i,l){var c=r.props.onDrillDown;if(c){c(i,l,r.drilldownView);return}l&&r.handleViewChange(l),r.handleNavigate(ua.DATE,i)},r.state={context:t.getContext(r.props)},r}return Ss(t,e),$n(t,[{key:"render",value:function(){var n=this.props,s=n.view,a=n.toolbar,i=n.events,l=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,h=n.date,p=n.getNow,x=n.length,m=n.showMultiDayTimes,g=n.onShowMore,_=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var y=Uo(n,H9e);h=h||p();var S=this.getView(),E=this.state.context,C=E.accessors,P=E.components,N=E.getters,A=E.localizer,j=E.viewNames,O=P.toolbar||KBe,W=S.title(h,{localizer:A,length:x});return H.createElement("div",Object.assign({},f,{className:dn(d,"rbc-calendar",y.rtl&&"rbc-rtl"),style:u}),a&&H.createElement(O,{date:h,view:s,views:j,label:W,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:A}),H.createElement(S,Object.assign({},y,{events:i,backgroundEvents:l,date:h,getNow:p,length:x,localizer:A,getters:N,components:P,accessors:C,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:g,doShowMoreDrillDown:_,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var s=n.startAccessor,a=n.endAccessor,i=n.allDayAccessor,l=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,p=n.eventPropGetter,x=n.backgroundEventPropGetter,m=n.slotPropGetter,g=n.slotGroupPropGetter,_=n.dayPropGetter,y=n.view,S=n.views,E=n.localizer,C=n.culture,P=n.messages,N=P===void 0?{}:P,A=n.components,j=A===void 0?{}:A,O=n.formats,W=O===void 0?{}:O,z=MG(S),Y=QBe(N);return{viewNames:z,localizer:qBe(E,C,W,Y),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return x&&x.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return g&&g.apply(void 0,arguments)||{}},dayProp:function(){return _&&_.apply(void 0,arguments)||{}}},components:p5e(j[y]||{},cBe(j,z),{eventWrapper:ho,backgroundEventWrapper:ho,eventContainerWrapper:ho,dateCellWrapper:ho,weekWrapper:ho,timeSlotWrapper:ho,timeGutterWrapper:ho,timeIndicatorWrapper:ho}),accessors:{start:ol(s),end:ol(a),allDay:ol(i),tooltip:ol(l),title:ol(c),resource:ol(u),resourceId:ol(d),resourceTitle:ol(f),eventId:ol(h)}}}}])}(H.Component);FG.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:en.MONTH,views:[en.MONTH,en.WEEK,en.DAY,en.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:en.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var G9e=uY(FG,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),q9e=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"MMMM DD",r)+" – "+n.format(a,n.eq(s,a,"month")?"DD":"MMMM DD",r)},K9e=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"L",r)+" – "+n.format(a,"L",r)},_2=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"LT",r)+" – "+n.format(a,"LT",r)},X9e=function(t,r,n){var s=t.start;return n.format(s,"LT",r)+" – "},Q9e=function(t,r,n){var s=t.end;return" – "+n.format(s,"LT",r)},Z9e={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:_2,eventTimeRangeFormat:_2,eventTimeRangeStartFormat:X9e,eventTimeRangeEndFormat:Q9e,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:q9e,agendaHeaderFormat:K9e,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:_2};function bc(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function J9e(e){var t=function(R,F){return F?R.locale(F):R};function r(se){return e(se).toDate().getTimezoneOffset()}function n(se,R){var F,L,I=e(se).local(),U=e(R).local();if(!e.tz)return I.toDate().getTimezoneOffset()-U.toDate().getTimezoneOffset();var X=(F=I==null||(L=I._z)===null||L===void 0?void 0:L.name)!==null&&F!==void 0?F:e.tz.guess(),de=e.tz.zone(X).utcOffset(+I),ye=e.tz.zone(X).utcOffset(+U);return de-ye}function s(se){var R=e(se).startOf("day");return n(R,se)}function a(se,R,F){var L=bc(F),I=L?e(se).startOf(L):e(se),U=L?e(R).startOf(L):e(R);return[I,U,L]}function i(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,R=arguments.length>1?arguments[1]:void 0,F=bc(R);return F?e(se).startOf(F).toDate():e(se).toDate()}function l(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,R=arguments.length>1?arguments[1]:void 0,F=bc(R);return F?e(se).endOf(F).toDate():e(se).toDate()}function c(se,R,F){var L=a(se,R,F),I=Ja(L,3),U=I[0],X=I[1],de=I[2];return U.isSame(X,de)}function u(se,R,F){return!c(se,R,F)}function d(se,R,F){var L=a(se,R,F),I=Ja(L,3),U=I[0],X=I[1],de=I[2];return U.isAfter(X,de)}function f(se,R,F){var L=a(se,R,F),I=Ja(L,3),U=I[0],X=I[1],de=I[2];return U.isBefore(X,de)}function h(se,R,F){var L=a(se,R,F),I=Ja(L,3),U=I[0],X=I[1],de=I[2];return U.isSameOrBefore(X,de)}function p(se,R,F){var L=a(se,R,F),I=Ja(L,3),U=I[0],X=I[1],de=I[2];return U.isSameOrBefore(X,de)}function x(se,R,F){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",I=bc(L),U=e(se),X=e(R),de=e(F);return U.isBetween(X,de,I,"[]")}function m(se,R){var F=e(se),L=e(R),I=e.min(F,L);return I.toDate()}function g(se,R){var F=e(se),L=e(R),I=e.max(F,L);return I.toDate()}function _(se,R){if(!se&&!R)return null;var F=e(R).format("HH:mm:ss"),L=e(se).startOf("day").format("MM/DD/YYYY");return e("".concat(L," ").concat(F),"MM/DD/YYYY HH:mm:ss").toDate()}function y(se,R,F){var L=bc(F);return e(se).add(R,L).toDate()}function S(se,R){for(var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",L=bc(F),I=e(se).toDate(),U=[];p(I,R);)U.push(I),I=y(I,1,L);return U}function E(se,R){var F=bc(R),L=i(se,F);return c(L,se)?L:y(L,1,F)}function C(se,R){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",L=bc(F),I=e(se),U=e(R);return U.diff(I,L)}function P(se){var R=e(se);return R.minutes()}function N(se){var R=se?e.localeData(se):e.localeData();return R?R.firstDayOfWeek():0}function A(se){return e(se).startOf("month").startOf("week").toDate()}function j(se){return e(se).endOf("month").endOf("week").toDate()}function O(se){for(var R=A(se),F=j(se),L=[];p(R,F);)L.push(R),R=y(R,1,"d");return L}function W(se,R,F){return e(se).startOf("day").minute(R+F).toDate()}function z(se,R){return C(se,R,"minutes")}function Y(se){var R=e(se).startOf("day"),F=e(se);return F.diff(R,"minutes")+s(se)}function J(se,R){var F=e(se),L=e(R);return F.isBefore(L,"day")}function ie(se,R,F){var L=e(R),I=e(F);return L.isSameOrAfter(I,"minutes")}function oe(se,R){var F=e(se),L=e(R),I=e.duration(L.diff(F));return I.days()}function re(se){var R=se.evtA,F=R.start,L=R.end,I=R.allDay,U=se.evtB,X=U.start,de=U.end,ye=U.allDay,me=+i(F,"day")-+i(X,"day"),Ue=oe(F,L),We=oe(X,de);return me||We-Ue||!!ye-!!I||+F-+X||+L-+de}function Z(se){var R=se.event,F=R.start,L=R.end,I=se.range,U=I.start,X=I.end,de=e(F).startOf("day"),ye=e(L),me=e(U),Ue=e(X),We=de.isSameOrBefore(Ue,"day"),mt=!de.isSame(ye,"minutes"),lt=mt?ye.isAfter(me,"minutes"):ye.isSameOrAfter(me,"minutes");return We&&lt}function ae(se,R){var F=e(se),L=e(R);return F.isSame(L,"day")}function ge(){var se=new Date,R=/-/.test(se.toString())?"-":"",F=se.getTimezoneOffset(),L=Number("".concat(R).concat(Math.abs(F))),I=e().utcOffset();return I>L?1:0}return new GBe({formats:Z9e,firstOfWeek:N,firstVisibleDay:A,lastVisibleDay:j,visibleDays:O,format:function(R,F,L){return t(e(R),L).format(F)},lt:f,lte:p,gt:d,gte:h,eq:c,neq:u,merge:_,inRange:x,startOf:i,endOf:l,range:S,add:y,diff:C,ceil:E,min:m,max:g,minutes:P,getSlotDate:W,getTimezoneOffset:r,getDstOffset:n,getTotalMin:z,getMinutesFromMidnight:Y,continuesPrior:J,continuesAfter:ie,sortEvents:re,inEventRange:Z,isSameDate:ae,daySpan:oe,browserTZOffset:ge})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var LG;function Ke(){return LG.apply(null,arguments)}function e7e(e){LG=e}function Ji(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Rd(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function lr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function OP(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(lr(e,t))return!1;return!0}function Ys(e){return e===void 0}function Xl(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function fx(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function $G(e,t){var r=[],n,s=e.length;for(n=0;n<s;++n)r.push(t(e[n],n));return r}function Gc(e,t){for(var r in t)lr(t,r)&&(e[r]=t[r]);return lr(t,"toString")&&(e.toString=t.toString),lr(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Go(e,t,r,n){return lq(e,t,r,n,!0).utc()}function t7e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function It(e){return e._pf==null&&(e._pf=t7e()),e._pf}var XC;Array.prototype.some?XC=Array.prototype.some:XC=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function DP(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=It(e),r=XC.call(t.parsedDateParts,function(s){return s!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function eS(e){var t=Go(NaN);return e!=null?Gc(It(t),e):It(t).userInvalidated=!0,t}var P3=Ke.momentProperties=[],w2=!1;function RP(e,t){var r,n,s,a=P3.length;if(Ys(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ys(t._i)||(e._i=t._i),Ys(t._f)||(e._f=t._f),Ys(t._l)||(e._l=t._l),Ys(t._strict)||(e._strict=t._strict),Ys(t._tzm)||(e._tzm=t._tzm),Ys(t._isUTC)||(e._isUTC=t._isUTC),Ys(t._offset)||(e._offset=t._offset),Ys(t._pf)||(e._pf=It(t)),Ys(t._locale)||(e._locale=t._locale),a>0)for(r=0;r<a;r++)n=P3[r],s=t[n],Ys(s)||(e[n]=s);return e}function hx(e){RP(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),w2===!1&&(w2=!0,Ke.updateOffset(this),w2=!1)}function eo(e){return e instanceof hx||e!=null&&e._isAMomentObject!=null}function UG(e){Ke.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function pi(e,t){var r=!0;return Gc(function(){if(Ke.deprecationHandler!=null&&Ke.deprecationHandler(null,e),r){var n=[],s,a,i,l=arguments.length;for(a=0;a<l;a++){if(s="",typeof arguments[a]=="object"){s+=`
[`+a+"] ";for(i in arguments[0])lr(arguments[0],i)&&(s+=i+": "+arguments[0][i]+", ");s=s.slice(0,-2)}else s=arguments[a];n.push(s)}UG(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var O3={};function BG(e,t){Ke.deprecationHandler!=null&&Ke.deprecationHandler(e,t),O3[e]||(UG(t),O3[e]=!0)}Ke.suppressDeprecationWarnings=!1;Ke.deprecationHandler=null;function qo(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function r7e(e){var t,r;for(r in e)lr(e,r)&&(t=e[r],qo(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function QC(e,t){var r=Gc({},e),n;for(n in t)lr(t,n)&&(Rd(e[n])&&Rd(t[n])?(r[n]={},Gc(r[n],e[n]),Gc(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)lr(e,n)&&!lr(t,n)&&Rd(e[n])&&(r[n]=Gc({},r[n]));return r}function IP(e){e!=null&&this.set(e)}var ZC;Object.keys?ZC=Object.keys:ZC=function(e){var t,r=[];for(t in e)lr(e,t)&&r.push(t);return r};var n7e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function s7e(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return qo(n)?n.call(t,r):n}function Bo(e,t,r){var n=""+Math.abs(e),s=t-n.length,a=e>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}var MP=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,S1=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,b2={},zh={};function ft(e,t,r,n){var s=n;typeof n=="string"&&(s=function(){return this[n]()}),e&&(zh[e]=s),t&&(zh[t[0]]=function(){return Bo(s.apply(this,arguments),t[1],t[2])}),r&&(zh[r]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function a7e(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function i7e(e){var t=e.match(MP),r,n;for(r=0,n=t.length;r<n;r++)zh[t[r]]?t[r]=zh[t[r]]:t[r]=a7e(t[r]);return function(s){var a="",i;for(i=0;i<n;i++)a+=qo(t[i])?t[i].call(s,e):t[i];return a}}function ay(e,t){return e.isValid()?(t=WG(t,e.localeData()),b2[t]=b2[t]||i7e(t),b2[t](e)):e.localeData().invalidDate()}function WG(e,t){var r=5;function n(s){return t.longDateFormat(s)||s}for(S1.lastIndex=0;r>=0&&S1.test(e);)e=e.replace(S1,n),S1.lastIndex=0,r-=1;return e}var o7e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function l7e(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(MP).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var c7e="Invalid date";function u7e(){return this._invalidDate}var d7e="%d",f7e=/\d{1,2}/;function h7e(e){return this._ordinal.replace("%d",e)}var m7e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function p7e(e,t,r,n){var s=this._relativeTime[r];return qo(s)?s(e,t,r,n):s.replace(/%d/i,e)}function v7e(e,t){var r=this._relativeTime[e>0?"future":"past"];return qo(r)?r(t):r.replace(/%s/i,t)}var D3={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function vi(e){return typeof e=="string"?D3[e]||D3[e.toLowerCase()]:void 0}function FP(e){var t={},r,n;for(n in e)lr(e,n)&&(r=vi(n),r&&(t[r]=e[n]));return t}var g7e={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function x7e(e){var t=[],r;for(r in e)lr(e,r)&&t.push({unit:r,priority:g7e[r]});return t.sort(function(n,s){return n.priority-s.priority}),t}var VG=/\d/,Va=/\d\d/,zG=/\d{3}/,LP=/\d{4}/,tS=/[+-]?\d{6}/,Yr=/\d\d?/,HG=/\d\d\d\d?/,YG=/\d\d\d\d\d\d?/,rS=/\d{1,3}/,$P=/\d{1,4}/,nS=/[+-]?\d{1,6}/,Sp=/\d+/,sS=/[+-]?\d+/,y7e=/Z|[+-]\d\d:?\d\d/gi,aS=/Z|[+-]\d\d(?::?\d\d)?/gi,_7e=/[+-]?\d+(\.\d{1,3})?/,mx=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ep=/^[1-9]\d?/,UP=/^([1-9]\d|\d)/,q_;q_={};function st(e,t,r){q_[e]=qo(t)?t:function(n,s){return n&&r?r:t}}function w7e(e,t){return lr(q_,e)?q_[e](t._strict,t._locale):new RegExp(b7e(e))}function b7e(e){return Pl(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,s,a){return r||n||s||a}))}function Pl(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Za(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Gt(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Za(t)),r}var JC={};function Nr(e,t){var r,n=t,s;for(typeof e=="string"&&(e=[e]),Xl(t)&&(n=function(a,i){i[t]=Gt(a)}),s=e.length,r=0;r<s;r++)JC[e[r]]=n}function px(e,t){Nr(e,function(r,n,s,a){s._w=s._w||{},t(r,s._w,s,a)})}function S7e(e,t,r){t!=null&&lr(JC,e)&&JC[e](t,r._a,r,e)}function iS(e){return e%4===0&&e%100!==0||e%400===0}var _s=0,_l=1,bo=2,Fn=3,$i=4,wl=5,_d=6,E7e=7,T7e=8;ft("Y",0,0,function(){var e=this.year();return e<=9999?Bo(e,4):"+"+e});ft(0,["YY",2],0,function(){return this.year()%100});ft(0,["YYYY",4],0,"year");ft(0,["YYYYY",5],0,"year");ft(0,["YYYYYY",6,!0],0,"year");st("Y",sS);st("YY",Yr,Va);st("YYYY",$P,LP);st("YYYYY",nS,tS);st("YYYYYY",nS,tS);Nr(["YYYYY","YYYYYY"],_s);Nr("YYYY",function(e,t){t[_s]=e.length===2?Ke.parseTwoDigitYear(e):Gt(e)});Nr("YY",function(e,t){t[_s]=Ke.parseTwoDigitYear(e)});Nr("Y",function(e,t){t[_s]=parseInt(e,10)});function G0(e){return iS(e)?366:365}Ke.parseTwoDigitYear=function(e){return Gt(e)+(Gt(e)>68?1900:2e3)};var GG=Tp("FullYear",!0);function C7e(){return iS(this.year())}function Tp(e,t){return function(r){return r!=null?(qG(this,e,r),Ke.updateOffset(this,t),this):ag(this,e)}}function ag(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function qG(e,t,r){var n,s,a,i,l;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(s?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(s?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(s?n.setUTCHours(r):n.setHours(r));case"Date":return void(s?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,i=e.month(),l=e.date(),l=l===29&&i===1&&!iS(a)?28:l,s?n.setUTCFullYear(a,i,l):n.setFullYear(a,i,l)}}function N7e(e){return e=vi(e),qo(this[e])?this[e]():this}function k7e(e,t){if(typeof e=="object"){e=FP(e);var r=x7e(e),n,s=r.length;for(n=0;n<s;n++)this[r[n].unit](e[r[n].unit])}else if(e=vi(e),qo(this[e]))return this[e](t);return this}function j7e(e,t){return(e%t+t)%t}var vn;Array.prototype.indexOf?vn=Array.prototype.indexOf:vn=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function BP(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=j7e(t,12);return e+=(t-r)/12,r===1?iS(e)?29:28:31-r%7%2}ft("M",["MM",2],"Mo",function(){return this.month()+1});ft("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});ft("MMMM",0,0,function(e){return this.localeData().months(this,e)});st("M",Yr,Ep);st("MM",Yr,Va);st("MMM",function(e,t){return t.monthsShortRegex(e)});st("MMMM",function(e,t){return t.monthsRegex(e)});Nr(["M","MM"],function(e,t){t[_l]=Gt(e)-1});Nr(["MMM","MMMM"],function(e,t,r,n){var s=r._locale.monthsParse(e,n,r._strict);s!=null?t[_l]=s:It(r).invalidMonth=e});var A7e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),KG="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),XG=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,P7e=mx,O7e=mx;function D7e(e,t){return e?Ji(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||XG).test(t)?"format":"standalone"][e.month()]:Ji(this._months)?this._months:this._months.standalone}function R7e(e,t){return e?Ji(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[XG.test(t)?"format":"standalone"][e.month()]:Ji(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function I7e(e,t,r){var n,s,a,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=Go([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?t==="MMM"?(s=vn.call(this._shortMonthsParse,i),s!==-1?s:null):(s=vn.call(this._longMonthsParse,i),s!==-1?s:null):t==="MMM"?(s=vn.call(this._shortMonthsParse,i),s!==-1?s:(s=vn.call(this._longMonthsParse,i),s!==-1?s:null)):(s=vn.call(this._longMonthsParse,i),s!==-1?s:(s=vn.call(this._shortMonthsParse,i),s!==-1?s:null))}function M7e(e,t,r){var n,s,a;if(this._monthsParseExact)return I7e.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=Go([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function QG(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Gt(t);else if(t=e.localeData().monthsParse(t),!Xl(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,BP(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function ZG(e){return e!=null?(QG(this,e),Ke.updateOffset(this,!0),this):ag(this,"Month")}function F7e(){return BP(this.year(),this.month())}function L7e(e){return this._monthsParseExact?(lr(this,"_monthsRegex")||JG.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(lr(this,"_monthsShortRegex")||(this._monthsShortRegex=P7e),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function $7e(e){return this._monthsParseExact?(lr(this,"_monthsRegex")||JG.call(this),e?this._monthsStrictRegex:this._monthsRegex):(lr(this,"_monthsRegex")||(this._monthsRegex=O7e),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function JG(){function e(c,u){return u.length-c.length}var t=[],r=[],n=[],s,a,i,l;for(s=0;s<12;s++)a=Go([2e3,s]),i=Pl(this.monthsShort(a,"")),l=Pl(this.months(a,"")),t.push(i),r.push(l),n.push(l),n.push(i);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function U7e(e,t,r,n,s,a,i){var l;return e<100&&e>=0?(l=new Date(e+400,t,r,n,s,a,i),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,r,n,s,a,i),l}function ig(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function K_(e,t,r){var n=7+t-r,s=(7+ig(e,0,n).getUTCDay()-t)%7;return-s+n-1}function eq(e,t,r,n,s){var a=(7+r-n)%7,i=K_(e,n,s),l=1+7*(t-1)+a+i,c,u;return l<=0?(c=e-1,u=G0(c)+l):l>G0(e)?(c=e+1,u=l-G0(e)):(c=e,u=l),{year:c,dayOfYear:u}}function og(e,t,r){var n=K_(e.year(),t,r),s=Math.floor((e.dayOfYear()-n-1)/7)+1,a,i;return s<1?(i=e.year()-1,a=s+Ol(i,t,r)):s>Ol(e.year(),t,r)?(a=s-Ol(e.year(),t,r),i=e.year()+1):(i=e.year(),a=s),{week:a,year:i}}function Ol(e,t,r){var n=K_(e,t,r),s=K_(e+1,t,r);return(G0(e)-n+s)/7}ft("w",["ww",2],"wo","week");ft("W",["WW",2],"Wo","isoWeek");st("w",Yr,Ep);st("ww",Yr,Va);st("W",Yr,Ep);st("WW",Yr,Va);px(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Gt(e)});function B7e(e){return og(e,this._week.dow,this._week.doy).week}var W7e={dow:0,doy:6};function V7e(){return this._week.dow}function z7e(){return this._week.doy}function H7e(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Y7e(e){var t=og(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}ft("d",0,"do","day");ft("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});ft("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});ft("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});ft("e",0,0,"weekday");ft("E",0,0,"isoWeekday");st("d",Yr);st("e",Yr);st("E",Yr);st("dd",function(e,t){return t.weekdaysMinRegex(e)});st("ddd",function(e,t){return t.weekdaysShortRegex(e)});st("dddd",function(e,t){return t.weekdaysRegex(e)});px(["dd","ddd","dddd"],function(e,t,r,n){var s=r._locale.weekdaysParse(e,n,r._strict);s!=null?t.d=s:It(r).invalidWeekday=e});px(["d","e","E"],function(e,t,r,n){t[n]=Gt(e)});function G7e(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function q7e(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function WP(e,t){return e.slice(t,7).concat(e.slice(0,t))}var K7e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),tq="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),X7e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Q7e=mx,Z7e=mx,J7e=mx;function eWe(e,t){var r=Ji(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?WP(r,this._week.dow):e?r[e.day()]:r}function tWe(e){return e===!0?WP(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function rWe(e){return e===!0?WP(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function nWe(e,t,r){var n,s,a,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=Go([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?t==="dddd"?(s=vn.call(this._weekdaysParse,i),s!==-1?s:null):t==="ddd"?(s=vn.call(this._shortWeekdaysParse,i),s!==-1?s:null):(s=vn.call(this._minWeekdaysParse,i),s!==-1?s:null):t==="dddd"?(s=vn.call(this._weekdaysParse,i),s!==-1||(s=vn.call(this._shortWeekdaysParse,i),s!==-1)?s:(s=vn.call(this._minWeekdaysParse,i),s!==-1?s:null)):t==="ddd"?(s=vn.call(this._shortWeekdaysParse,i),s!==-1||(s=vn.call(this._weekdaysParse,i),s!==-1)?s:(s=vn.call(this._minWeekdaysParse,i),s!==-1?s:null)):(s=vn.call(this._minWeekdaysParse,i),s!==-1||(s=vn.call(this._weekdaysParse,i),s!==-1)?s:(s=vn.call(this._shortWeekdaysParse,i),s!==-1?s:null))}function sWe(e,t,r){var n,s,a;if(this._weekdaysParseExact)return nWe.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=Go([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function aWe(e){if(!this.isValid())return e!=null?this:NaN;var t=ag(this,"Day");return e!=null?(e=G7e(e,this.localeData()),this.add(e-t,"d")):t}function iWe(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function oWe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=q7e(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function lWe(e){return this._weekdaysParseExact?(lr(this,"_weekdaysRegex")||VP.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(lr(this,"_weekdaysRegex")||(this._weekdaysRegex=Q7e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function cWe(e){return this._weekdaysParseExact?(lr(this,"_weekdaysRegex")||VP.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(lr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Z7e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function uWe(e){return this._weekdaysParseExact?(lr(this,"_weekdaysRegex")||VP.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(lr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=J7e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function VP(){function e(d,f){return f.length-d.length}var t=[],r=[],n=[],s=[],a,i,l,c,u;for(a=0;a<7;a++)i=Go([2e3,1]).day(a),l=Pl(this.weekdaysMin(i,"")),c=Pl(this.weekdaysShort(i,"")),u=Pl(this.weekdays(i,"")),t.push(l),r.push(c),n.push(u),s.push(l),s.push(c),s.push(u);t.sort(e),r.sort(e),n.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function zP(){return this.hours()%12||12}function dWe(){return this.hours()||24}ft("H",["HH",2],0,"hour");ft("h",["hh",2],0,zP);ft("k",["kk",2],0,dWe);ft("hmm",0,0,function(){return""+zP.apply(this)+Bo(this.minutes(),2)});ft("hmmss",0,0,function(){return""+zP.apply(this)+Bo(this.minutes(),2)+Bo(this.seconds(),2)});ft("Hmm",0,0,function(){return""+this.hours()+Bo(this.minutes(),2)});ft("Hmmss",0,0,function(){return""+this.hours()+Bo(this.minutes(),2)+Bo(this.seconds(),2)});function rq(e,t){ft(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}rq("a",!0);rq("A",!1);function nq(e,t){return t._meridiemParse}st("a",nq);st("A",nq);st("H",Yr,UP);st("h",Yr,Ep);st("k",Yr,Ep);st("HH",Yr,Va);st("hh",Yr,Va);st("kk",Yr,Va);st("hmm",HG);st("hmmss",YG);st("Hmm",HG);st("Hmmss",YG);Nr(["H","HH"],Fn);Nr(["k","kk"],function(e,t,r){var n=Gt(e);t[Fn]=n===24?0:n});Nr(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});Nr(["h","hh"],function(e,t,r){t[Fn]=Gt(e),It(r).bigHour=!0});Nr("hmm",function(e,t,r){var n=e.length-2;t[Fn]=Gt(e.substr(0,n)),t[$i]=Gt(e.substr(n)),It(r).bigHour=!0});Nr("hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[Fn]=Gt(e.substr(0,n)),t[$i]=Gt(e.substr(n,2)),t[wl]=Gt(e.substr(s)),It(r).bigHour=!0});Nr("Hmm",function(e,t,r){var n=e.length-2;t[Fn]=Gt(e.substr(0,n)),t[$i]=Gt(e.substr(n))});Nr("Hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[Fn]=Gt(e.substr(0,n)),t[$i]=Gt(e.substr(n,2)),t[wl]=Gt(e.substr(s))});function fWe(e){return(e+"").toLowerCase().charAt(0)==="p"}var hWe=/[ap]\.?m?\.?/i,mWe=Tp("Hours",!0);function pWe(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var sq={calendar:n7e,longDateFormat:o7e,invalidDate:c7e,ordinal:d7e,dayOfMonthOrdinalParse:f7e,relativeTime:m7e,months:A7e,monthsShort:KG,week:W7e,weekdays:K7e,weekdaysMin:X7e,weekdaysShort:tq,meridiemParse:hWe},Kr={},n0={},lg;function vWe(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function R3(e){return e&&e.toLowerCase().replace("_","-")}function gWe(e){for(var t=0,r,n,s,a;t<e.length;){for(a=R3(e[t]).split("-"),r=a.length,n=R3(e[t+1]),n=n?n.split("-"):null;r>0;){if(s=oS(a.slice(0,r).join("-")),s)return s;if(n&&n.length>=r&&vWe(a,n)>=r-1)break;r--}t++}return lg}function xWe(e){return!!(e&&e.match("^[^/\\\\]*$"))}function oS(e){var t=null,r;if(Kr[e]===void 0&&typeof ly<"u"&&ly&&ly.exports&&xWe(e))try{t=lg._abbr,r=require,r("./locale/"+e),cu(t)}catch{Kr[e]=null}return Kr[e]}function cu(e,t){var r;return e&&(Ys(t)?r=lc(e):r=HP(e,t),r?lg=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),lg._abbr}function HP(e,t){if(t!==null){var r,n=sq;if(t.abbr=e,Kr[e]!=null)BG("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Kr[e]._config;else if(t.parentLocale!=null)if(Kr[t.parentLocale]!=null)n=Kr[t.parentLocale]._config;else if(r=oS(t.parentLocale),r!=null)n=r._config;else return n0[t.parentLocale]||(n0[t.parentLocale]=[]),n0[t.parentLocale].push({name:e,config:t}),null;return Kr[e]=new IP(QC(n,t)),n0[e]&&n0[e].forEach(function(s){HP(s.name,s.config)}),cu(e),Kr[e]}else return delete Kr[e],null}function yWe(e,t){if(t!=null){var r,n,s=sq;Kr[e]!=null&&Kr[e].parentLocale!=null?Kr[e].set(QC(Kr[e]._config,t)):(n=oS(e),n!=null&&(s=n._config),t=QC(s,t),n==null&&(t.abbr=e),r=new IP(t),r.parentLocale=Kr[e],Kr[e]=r),cu(e)}else Kr[e]!=null&&(Kr[e].parentLocale!=null?(Kr[e]=Kr[e].parentLocale,e===cu()&&cu(e)):Kr[e]!=null&&delete Kr[e]);return Kr[e]}function lc(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return lg;if(!Ji(e)){if(t=oS(e),t)return t;e=[e]}return gWe(e)}function _We(){return ZC(Kr)}function YP(e){var t,r=e._a;return r&&It(e).overflow===-2&&(t=r[_l]<0||r[_l]>11?_l:r[bo]<1||r[bo]>BP(r[_s],r[_l])?bo:r[Fn]<0||r[Fn]>24||r[Fn]===24&&(r[$i]!==0||r[wl]!==0||r[_d]!==0)?Fn:r[$i]<0||r[$i]>59?$i:r[wl]<0||r[wl]>59?wl:r[_d]<0||r[_d]>999?_d:-1,It(e)._overflowDayOfYear&&(t<_s||t>bo)&&(t=bo),It(e)._overflowWeeks&&t===-1&&(t=E7e),It(e)._overflowWeekday&&t===-1&&(t=T7e),It(e).overflow=t),e}var wWe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bWe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,SWe=/Z|[+-]\d\d(?::?\d\d)?/,E1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],S2=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],EWe=/^\/?Date\((-?\d+)/i,TWe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,CWe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function aq(e){var t,r,n=e._i,s=wWe.exec(n)||bWe.exec(n),a,i,l,c,u=E1.length,d=S2.length;if(s){for(It(e).iso=!0,t=0,r=u;t<r;t++)if(E1[t][1].exec(s[1])){i=E1[t][0],a=E1[t][2]!==!1;break}if(i==null){e._isValid=!1;return}if(s[3]){for(t=0,r=d;t<r;t++)if(S2[t][1].exec(s[3])){l=(s[2]||" ")+S2[t][0];break}if(l==null){e._isValid=!1;return}}if(!a&&l!=null){e._isValid=!1;return}if(s[4])if(SWe.exec(s[4]))c="Z";else{e._isValid=!1;return}e._f=i+(l||"")+(c||""),qP(e)}else e._isValid=!1}function NWe(e,t,r,n,s,a){var i=[kWe(e),KG.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(s,10)];return a&&i.push(parseInt(a,10)),i}function kWe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function jWe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function AWe(e,t,r){if(e){var n=tq.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(n!==s)return It(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function PWe(e,t,r){if(e)return CWe[e];if(t)return 0;var n=parseInt(r,10),s=n%100,a=(n-s)/100;return a*60+s}function iq(e){var t=TWe.exec(jWe(e._i)),r;if(t){if(r=NWe(t[4],t[3],t[2],t[5],t[6],t[7]),!AWe(t[1],r,e))return;e._a=r,e._tzm=PWe(t[8],t[9],t[10]),e._d=ig.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),It(e).rfc2822=!0}else e._isValid=!1}function OWe(e){var t=EWe.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(aq(e),e._isValid===!1)delete e._isValid;else return;if(iq(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Ke.createFromInputFallback(e)}Ke.createFromInputFallback=pi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function ih(e,t,r){return e??t??r}function DWe(e){var t=new Date(Ke.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function GP(e){var t,r,n=[],s,a,i;if(!e._d){for(s=DWe(e),e._w&&e._a[bo]==null&&e._a[_l]==null&&RWe(e),e._dayOfYear!=null&&(i=ih(e._a[_s],s[_s]),(e._dayOfYear>G0(i)||e._dayOfYear===0)&&(It(e)._overflowDayOfYear=!0),r=ig(i,0,e._dayOfYear),e._a[_l]=r.getUTCMonth(),e._a[bo]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=s[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Fn]===24&&e._a[$i]===0&&e._a[wl]===0&&e._a[_d]===0&&(e._nextDay=!0,e._a[Fn]=0),e._d=(e._useUTC?ig:U7e).apply(null,n),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Fn]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(It(e).weekdayMismatch=!0)}}function RWe(e){var t,r,n,s,a,i,l,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,i=4,r=ih(t.GG,e._a[_s],og(Hr(),1,4).year),n=ih(t.W,1),s=ih(t.E,1),(s<1||s>7)&&(c=!0)):(a=e._locale._week.dow,i=e._locale._week.doy,u=og(Hr(),a,i),r=ih(t.gg,e._a[_s],u.year),n=ih(t.w,u.week),t.d!=null?(s=t.d,(s<0||s>6)&&(c=!0)):t.e!=null?(s=t.e+a,(t.e<0||t.e>6)&&(c=!0)):s=a),n<1||n>Ol(r,a,i)?It(e)._overflowWeeks=!0:c!=null?It(e)._overflowWeekday=!0:(l=eq(r,n,s,a,i),e._a[_s]=l.year,e._dayOfYear=l.dayOfYear)}Ke.ISO_8601=function(){};Ke.RFC_2822=function(){};function qP(e){if(e._f===Ke.ISO_8601){aq(e);return}if(e._f===Ke.RFC_2822){iq(e);return}e._a=[],It(e).empty=!0;var t=""+e._i,r,n,s,a,i,l=t.length,c=0,u,d;for(s=WG(e._f,e._locale).match(MP)||[],d=s.length,r=0;r<d;r++)a=s[r],n=(t.match(w7e(a,e))||[])[0],n&&(i=t.substr(0,t.indexOf(n)),i.length>0&&It(e).unusedInput.push(i),t=t.slice(t.indexOf(n)+n.length),c+=n.length),zh[a]?(n?It(e).empty=!1:It(e).unusedTokens.push(a),S7e(a,n,e)):e._strict&&!n&&It(e).unusedTokens.push(a);It(e).charsLeftOver=l-c,t.length>0&&It(e).unusedInput.push(t),e._a[Fn]<=12&&It(e).bigHour===!0&&e._a[Fn]>0&&(It(e).bigHour=void 0),It(e).parsedDateParts=e._a.slice(0),It(e).meridiem=e._meridiem,e._a[Fn]=IWe(e._locale,e._a[Fn],e._meridiem),u=It(e).era,u!==null&&(e._a[_s]=e._locale.erasConvertYear(u,e._a[_s])),GP(e),YP(e)}function IWe(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function MWe(e){var t,r,n,s,a,i,l=!1,c=e._f.length;if(c===0){It(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<c;s++)a=0,i=!1,t=RP({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],qP(t),DP(t)&&(i=!0),a+=It(t).charsLeftOver,a+=It(t).unusedTokens.length*10,It(t).score=a,l?a<n&&(n=a,r=t):(n==null||a<n||i)&&(n=a,r=t,i&&(l=!0));Gc(e,r||t)}function FWe(e){if(!e._d){var t=FP(e._i),r=t.day===void 0?t.date:t.day;e._a=$G([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),GP(e)}}function LWe(e){var t=new hx(YP(oq(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function oq(e){var t=e._i,r=e._f;return e._locale=e._locale||lc(e._l),t===null||r===void 0&&t===""?eS({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),eo(t)?new hx(YP(t)):(fx(t)?e._d=t:Ji(r)?MWe(e):r?qP(e):$We(e),DP(e)||(e._d=null),e))}function $We(e){var t=e._i;Ys(t)?e._d=new Date(Ke.now()):fx(t)?e._d=new Date(t.valueOf()):typeof t=="string"?OWe(e):Ji(t)?(e._a=$G(t.slice(0),function(r){return parseInt(r,10)}),GP(e)):Rd(t)?FWe(e):Xl(t)?e._d=new Date(t):Ke.createFromInputFallback(e)}function lq(e,t,r,n,s){var a={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Rd(e)&&OP(e)||Ji(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=s,a._l=r,a._i=e,a._f=t,a._strict=n,LWe(a)}function Hr(e,t,r,n){return lq(e,t,r,n,!1)}var UWe=pi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Hr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:eS()}),BWe=pi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Hr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:eS()});function cq(e,t){var r,n;if(t.length===1&&Ji(t[0])&&(t=t[0]),!t.length)return Hr();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function WWe(){var e=[].slice.call(arguments,0);return cq("isBefore",e)}function VWe(){var e=[].slice.call(arguments,0);return cq("isAfter",e)}var zWe=function(){return Date.now?Date.now():+new Date},s0=["year","quarter","month","week","day","hour","minute","second","millisecond"];function HWe(e){var t,r=!1,n,s=s0.length;for(t in e)if(lr(e,t)&&!(vn.call(s0,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<s;++n)if(e[s0[n]]){if(r)return!1;parseFloat(e[s0[n]])!==Gt(e[s0[n]])&&(r=!0)}return!0}function YWe(){return this._isValid}function GWe(){return so(NaN)}function lS(e){var t=FP(e),r=t.year||0,n=t.quarter||0,s=t.month||0,a=t.week||t.isoWeek||0,i=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=HWe(t),this._milliseconds=+d+u*1e3+c*6e4+l*1e3*60*60,this._days=+i+a*7,this._months=+s+n*3+r*12,this._data={},this._locale=lc(),this._bubble()}function iy(e){return e instanceof lS}function eN(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function qWe(e,t,r){var n=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0,i;for(i=0;i<n;i++)Gt(e[i])!==Gt(t[i])&&a++;return a+s}function uq(e,t){ft(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Bo(~~(r/60),2)+t+Bo(~~r%60,2)})}uq("Z",":");uq("ZZ","");st("Z",aS);st("ZZ",aS);Nr(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=KP(aS,e)});var KWe=/([\+\-]|\d\d)/gi;function KP(e,t){var r=(t||"").match(e),n,s,a;return r===null?null:(n=r[r.length-1]||[],s=(n+"").match(KWe)||["-",0,0],a=+(s[1]*60)+Gt(s[2]),a===0?0:s[0]==="+"?a:-a)}function XP(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(eo(e)||fx(e)?e.valueOf():Hr(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),Ke.updateOffset(r,!1),r):Hr(e).local()}function tN(e){return-Math.round(e._d.getTimezoneOffset())}Ke.updateOffset=function(){};function XWe(e,t,r){var n=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=KP(aS,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(s=tN(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),n!==e&&(!t||this._changeInProgress?hq(this,so(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ke.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:tN(this)}function QWe(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ZWe(e){return this.utcOffset(0,e)}function JWe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(tN(this),"m")),this}function eVe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=KP(y7e,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function tVe(e){return this.isValid()?(e=e?Hr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function rVe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function nVe(){if(!Ys(this._isDSTShifted))return this._isDSTShifted;var e={},t;return RP(e,this),e=oq(e),e._a?(t=e._isUTC?Go(e._a):Hr(e._a),this._isDSTShifted=this.isValid()&&qWe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function sVe(){return this.isValid()?!this._isUTC:!1}function aVe(){return this.isValid()?this._isUTC:!1}function dq(){return this.isValid()?this._isUTC&&this._offset===0:!1}var iVe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,oVe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function so(e,t){var r=e,n=null,s,a,i;return iy(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:Xl(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=iVe.exec(e))?(s=n[1]==="-"?-1:1,r={y:0,d:Gt(n[bo])*s,h:Gt(n[Fn])*s,m:Gt(n[$i])*s,s:Gt(n[wl])*s,ms:Gt(eN(n[_d]*1e3))*s}):(n=oVe.exec(e))?(s=n[1]==="-"?-1:1,r={y:nd(n[2],s),M:nd(n[3],s),w:nd(n[4],s),d:nd(n[5],s),h:nd(n[6],s),m:nd(n[7],s),s:nd(n[8],s)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(i=lVe(Hr(r.from),Hr(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),a=new lS(r),iy(e)&&lr(e,"_locale")&&(a._locale=e._locale),iy(e)&&lr(e,"_isValid")&&(a._isValid=e._isValid),a}so.fn=lS.prototype;so.invalid=GWe;function nd(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function I3(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function lVe(e,t){var r;return e.isValid()&&t.isValid()?(t=XP(t,e),e.isBefore(t)?r=I3(e,t):(r=I3(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function fq(e,t){return function(r,n){var s,a;return n!==null&&!isNaN(+n)&&(BG(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),s=so(r,n),hq(this,s,e),this}}function hq(e,t,r,n){var s=t._milliseconds,a=eN(t._days),i=eN(t._months);e.isValid()&&(n=n??!0,i&&QG(e,ag(e,"Month")+i*r),a&&qG(e,"Date",ag(e,"Date")+a*r),s&&e._d.setTime(e._d.valueOf()+s*r),n&&Ke.updateOffset(e,a||i))}var cVe=fq(1,"add"),uVe=fq(-1,"subtract");function mq(e){return typeof e=="string"||e instanceof String}function dVe(e){return eo(e)||fx(e)||mq(e)||Xl(e)||hVe(e)||fVe(e)||e===null||e===void 0}function fVe(e){var t=Rd(e)&&!OP(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,a,i=n.length;for(s=0;s<i;s+=1)a=n[s],r=r||lr(e,a);return t&&r}function hVe(e){var t=Ji(e),r=!1;return t&&(r=e.filter(function(n){return!Xl(n)&&mq(e)}).length===0),t&&r}function mVe(e){var t=Rd(e)&&!OP(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,a;for(s=0;s<n.length;s+=1)a=n[s],r=r||lr(e,a);return t&&r}function pVe(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function vVe(e,t){arguments.length===1&&(arguments[0]?dVe(arguments[0])?(e=arguments[0],t=void 0):mVe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Hr(),n=XP(r,this).startOf("day"),s=Ke.calendarFormat(this,n)||"sameElse",a=t&&(qo(t[s])?t[s].call(this,r):t[s]);return this.format(a||this.localeData().calendar(s,this,Hr(r)))}function gVe(){return new hx(this)}function xVe(e,t){var r=eo(e)?e:Hr(e);return this.isValid()&&r.isValid()?(t=vi(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function yVe(e,t){var r=eo(e)?e:Hr(e);return this.isValid()&&r.isValid()?(t=vi(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function _Ve(e,t,r,n){var s=eo(e)?e:Hr(e),a=eo(t)?t:Hr(t);return this.isValid()&&s.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(s,r):!this.isBefore(s,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function wVe(e,t){var r=eo(e)?e:Hr(e),n;return this.isValid()&&r.isValid()?(t=vi(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function bVe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function SVe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function EVe(e,t,r){var n,s,a;if(!this.isValid())return NaN;if(n=XP(e,this),!n.isValid())return NaN;switch(s=(n.utcOffset()-this.utcOffset())*6e4,t=vi(t),t){case"year":a=oy(this,n)/12;break;case"month":a=oy(this,n);break;case"quarter":a=oy(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-s)/864e5;break;case"week":a=(this-n-s)/6048e5;break;default:a=this-n}return r?a:Za(a)}function oy(e,t){if(e.date()<t.date())return-oy(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),s,a;return t-n<0?(s=e.clone().add(r-1,"months"),a=(t-n)/(n-s)):(s=e.clone().add(r+1,"months"),a=(t-n)/(s-n)),-(r+a)||0}Ke.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ke.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function TVe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function CVe(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?ay(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):qo(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ay(r,"Z")):ay(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function NVe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,s,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(r+n+s+a)}function kVe(e){e||(e=this.isUtc()?Ke.defaultFormatUtc:Ke.defaultFormat);var t=ay(this,e);return this.localeData().postformat(t)}function jVe(e,t){return this.isValid()&&(eo(e)&&e.isValid()||Hr(e).isValid())?so({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function AVe(e){return this.from(Hr(),e)}function PVe(e,t){return this.isValid()&&(eo(e)&&e.isValid()||Hr(e).isValid())?so({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function OVe(e){return this.to(Hr(),e)}function pq(e){var t;return e===void 0?this._locale._abbr:(t=lc(e),t!=null&&(this._locale=t),this)}var vq=pi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function gq(){return this._locale}var X_=1e3,Hh=60*X_,Q_=60*Hh,xq=(365*400+97)*24*Q_;function Yh(e,t){return(e%t+t)%t}function yq(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-xq:new Date(e,t,r).valueOf()}function _q(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-xq:Date.UTC(e,t,r)}function DVe(e){var t,r;if(e=vi(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?_q:yq,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Yh(t+(this._isUTC?0:this.utcOffset()*Hh),Q_);break;case"minute":t=this._d.valueOf(),t-=Yh(t,Hh);break;case"second":t=this._d.valueOf(),t-=Yh(t,X_);break}return this._d.setTime(t),Ke.updateOffset(this,!0),this}function RVe(e){var t,r;if(e=vi(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?_q:yq,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Q_-Yh(t+(this._isUTC?0:this.utcOffset()*Hh),Q_)-1;break;case"minute":t=this._d.valueOf(),t+=Hh-Yh(t,Hh)-1;break;case"second":t=this._d.valueOf(),t+=X_-Yh(t,X_)-1;break}return this._d.setTime(t),Ke.updateOffset(this,!0),this}function IVe(){return this._d.valueOf()-(this._offset||0)*6e4}function MVe(){return Math.floor(this.valueOf()/1e3)}function FVe(){return new Date(this.valueOf())}function LVe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function $Ve(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function UVe(){return this.isValid()?this.toISOString():null}function BVe(){return DP(this)}function WVe(){return Gc({},It(this))}function VVe(){return It(this).overflow}function zVe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ft("N",0,0,"eraAbbr");ft("NN",0,0,"eraAbbr");ft("NNN",0,0,"eraAbbr");ft("NNNN",0,0,"eraName");ft("NNNNN",0,0,"eraNarrow");ft("y",["y",1],"yo","eraYear");ft("y",["yy",2],0,"eraYear");ft("y",["yyy",3],0,"eraYear");ft("y",["yyyy",4],0,"eraYear");st("N",QP);st("NN",QP);st("NNN",QP);st("NNNN",tze);st("NNNNN",rze);Nr(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var s=r._locale.erasParse(e,n,r._strict);s?It(r).era=s:It(r).invalidEra=e});st("y",Sp);st("yy",Sp);st("yyy",Sp);st("yyyy",Sp);st("yo",nze);Nr(["y","yy","yyy","yyyy"],_s);Nr(["yo"],function(e,t,r,n){var s;r._locale._eraYearOrdinalRegex&&(s=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[_s]=r._locale.eraYearOrdinalParse(e,s):t[_s]=parseInt(e,10)});function HVe(e,t){var r,n,s,a=this._eras||lc("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":s=Ke(a[r].since).startOf("day"),a[r].since=s.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":s=Ke(a[r].until).startOf("day").valueOf(),a[r].until=s.valueOf();break}}return a}function YVe(e,t,r){var n,s,a=this.eras(),i,l,c;for(e=e.toUpperCase(),n=0,s=a.length;n<s;++n)if(i=a[n].name.toUpperCase(),l=a[n].abbr.toUpperCase(),c=a[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(l===e)return a[n];break;case"NNNN":if(i===e)return a[n];break;case"NNNNN":if(c===e)return a[n];break}else if([i,l,c].indexOf(e)>=0)return a[n]}function GVe(e,t){var r=e.since<=e.until?1:-1;return t===void 0?Ke(e.since).year():Ke(e.since).year()+(t-e.offset)*r}function qVe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function KVe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function XVe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function QVe(){var e,t,r,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=s[e].since<=s[e].until?1:-1,n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return(this.year()-Ke(s[e].since).year())*r+s[e].offset;return this.year()}function ZVe(e){return lr(this,"_erasNameRegex")||ZP.call(this),e?this._erasNameRegex:this._erasRegex}function JVe(e){return lr(this,"_erasAbbrRegex")||ZP.call(this),e?this._erasAbbrRegex:this._erasRegex}function eze(e){return lr(this,"_erasNarrowRegex")||ZP.call(this),e?this._erasNarrowRegex:this._erasRegex}function QP(e,t){return t.erasAbbrRegex(e)}function tze(e,t){return t.erasNameRegex(e)}function rze(e,t){return t.erasNarrowRegex(e)}function nze(e,t){return t._eraYearOrdinalRegex||Sp}function ZP(){var e=[],t=[],r=[],n=[],s,a,i,l,c,u=this.eras();for(s=0,a=u.length;s<a;++s)i=Pl(u[s].name),l=Pl(u[s].abbr),c=Pl(u[s].narrow),t.push(i),e.push(l),r.push(c),n.push(i),n.push(l),n.push(c);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}ft(0,["gg",2],0,function(){return this.weekYear()%100});ft(0,["GG",2],0,function(){return this.isoWeekYear()%100});function cS(e,t){ft(0,[e,e.length],0,t)}cS("gggg","weekYear");cS("ggggg","weekYear");cS("GGGG","isoWeekYear");cS("GGGGG","isoWeekYear");st("G",sS);st("g",sS);st("GG",Yr,Va);st("gg",Yr,Va);st("GGGG",$P,LP);st("gggg",$P,LP);st("GGGGG",nS,tS);st("ggggg",nS,tS);px(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Gt(e)});px(["gg","GG"],function(e,t,r,n){t[n]=Ke.parseTwoDigitYear(e)});function sze(e){return wq.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function aze(e){return wq.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function ize(){return Ol(this.year(),1,4)}function oze(){return Ol(this.isoWeekYear(),1,4)}function lze(){var e=this.localeData()._week;return Ol(this.year(),e.dow,e.doy)}function cze(){var e=this.localeData()._week;return Ol(this.weekYear(),e.dow,e.doy)}function wq(e,t,r,n,s){var a;return e==null?og(this,n,s).year:(a=Ol(e,n,s),t>a&&(t=a),uze.call(this,e,t,r,n,s))}function uze(e,t,r,n,s){var a=eq(e,t,r,n,s),i=ig(a.year,0,a.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}ft("Q",0,"Qo","quarter");st("Q",VG);Nr("Q",function(e,t){t[_l]=(Gt(e)-1)*3});function dze(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ft("D",["DD",2],"Do","date");st("D",Yr,Ep);st("DD",Yr,Va);st("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Nr(["D","DD"],bo);Nr("Do",function(e,t){t[bo]=Gt(e.match(Yr)[0])});var bq=Tp("Date",!0);ft("DDD",["DDDD",3],"DDDo","dayOfYear");st("DDD",rS);st("DDDD",zG);Nr(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Gt(e)});function fze(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ft("m",["mm",2],0,"minute");st("m",Yr,UP);st("mm",Yr,Va);Nr(["m","mm"],$i);var hze=Tp("Minutes",!1);ft("s",["ss",2],0,"second");st("s",Yr,UP);st("ss",Yr,Va);Nr(["s","ss"],wl);var mze=Tp("Seconds",!1);ft("S",0,0,function(){return~~(this.millisecond()/100)});ft(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ft(0,["SSS",3],0,"millisecond");ft(0,["SSSS",4],0,function(){return this.millisecond()*10});ft(0,["SSSSS",5],0,function(){return this.millisecond()*100});ft(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ft(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ft(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ft(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});st("S",rS,VG);st("SS",rS,Va);st("SSS",rS,zG);var qc,Sq;for(qc="SSSS";qc.length<=9;qc+="S")st(qc,Sp);function pze(e,t){t[_d]=Gt(("0."+e)*1e3)}for(qc="S";qc.length<=9;qc+="S")Nr(qc,pze);Sq=Tp("Milliseconds",!1);ft("z",0,0,"zoneAbbr");ft("zz",0,0,"zoneName");function vze(){return this._isUTC?"UTC":""}function gze(){return this._isUTC?"Coordinated Universal Time":""}var Re=hx.prototype;Re.add=cVe;Re.calendar=vVe;Re.clone=gVe;Re.diff=EVe;Re.endOf=RVe;Re.format=kVe;Re.from=jVe;Re.fromNow=AVe;Re.to=PVe;Re.toNow=OVe;Re.get=N7e;Re.invalidAt=VVe;Re.isAfter=xVe;Re.isBefore=yVe;Re.isBetween=_Ve;Re.isSame=wVe;Re.isSameOrAfter=bVe;Re.isSameOrBefore=SVe;Re.isValid=BVe;Re.lang=vq;Re.locale=pq;Re.localeData=gq;Re.max=BWe;Re.min=UWe;Re.parsingFlags=WVe;Re.set=k7e;Re.startOf=DVe;Re.subtract=uVe;Re.toArray=LVe;Re.toObject=$Ve;Re.toDate=FVe;Re.toISOString=CVe;Re.inspect=NVe;typeof Symbol<"u"&&Symbol.for!=null&&(Re[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Re.toJSON=UVe;Re.toString=TVe;Re.unix=MVe;Re.valueOf=IVe;Re.creationData=zVe;Re.eraName=qVe;Re.eraNarrow=KVe;Re.eraAbbr=XVe;Re.eraYear=QVe;Re.year=GG;Re.isLeapYear=C7e;Re.weekYear=sze;Re.isoWeekYear=aze;Re.quarter=Re.quarters=dze;Re.month=ZG;Re.daysInMonth=F7e;Re.week=Re.weeks=H7e;Re.isoWeek=Re.isoWeeks=Y7e;Re.weeksInYear=lze;Re.weeksInWeekYear=cze;Re.isoWeeksInYear=ize;Re.isoWeeksInISOWeekYear=oze;Re.date=bq;Re.day=Re.days=aWe;Re.weekday=iWe;Re.isoWeekday=oWe;Re.dayOfYear=fze;Re.hour=Re.hours=mWe;Re.minute=Re.minutes=hze;Re.second=Re.seconds=mze;Re.millisecond=Re.milliseconds=Sq;Re.utcOffset=XWe;Re.utc=ZWe;Re.local=JWe;Re.parseZone=eVe;Re.hasAlignedHourOffset=tVe;Re.isDST=rVe;Re.isLocal=sVe;Re.isUtcOffset=aVe;Re.isUtc=dq;Re.isUTC=dq;Re.zoneAbbr=vze;Re.zoneName=gze;Re.dates=pi("dates accessor is deprecated. Use date instead.",bq);Re.months=pi("months accessor is deprecated. Use month instead",ZG);Re.years=pi("years accessor is deprecated. Use year instead",GG);Re.zone=pi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",QWe);Re.isDSTShifted=pi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",nVe);function xze(e){return Hr(e*1e3)}function yze(){return Hr.apply(null,arguments).parseZone()}function Eq(e){return e}var cr=IP.prototype;cr.calendar=s7e;cr.longDateFormat=l7e;cr.invalidDate=u7e;cr.ordinal=h7e;cr.preparse=Eq;cr.postformat=Eq;cr.relativeTime=p7e;cr.pastFuture=v7e;cr.set=r7e;cr.eras=HVe;cr.erasParse=YVe;cr.erasConvertYear=GVe;cr.erasAbbrRegex=JVe;cr.erasNameRegex=ZVe;cr.erasNarrowRegex=eze;cr.months=D7e;cr.monthsShort=R7e;cr.monthsParse=M7e;cr.monthsRegex=$7e;cr.monthsShortRegex=L7e;cr.week=B7e;cr.firstDayOfYear=z7e;cr.firstDayOfWeek=V7e;cr.weekdays=eWe;cr.weekdaysMin=rWe;cr.weekdaysShort=tWe;cr.weekdaysParse=sWe;cr.weekdaysRegex=lWe;cr.weekdaysShortRegex=cWe;cr.weekdaysMinRegex=uWe;cr.isPM=fWe;cr.meridiem=pWe;function Z_(e,t,r,n){var s=lc(),a=Go().set(n,t);return s[r](a,e)}function Tq(e,t,r){if(Xl(e)&&(t=e,e=void 0),e=e||"",t!=null)return Z_(e,t,r,"month");var n,s=[];for(n=0;n<12;n++)s[n]=Z_(e,n,r,"month");return s}function JP(e,t,r,n){typeof e=="boolean"?(Xl(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,Xl(t)&&(r=t,t=void 0),t=t||"");var s=lc(),a=e?s._week.dow:0,i,l=[];if(r!=null)return Z_(t,(r+a)%7,n,"day");for(i=0;i<7;i++)l[i]=Z_(t,(i+a)%7,n,"day");return l}function _ze(e,t){return Tq(e,t,"months")}function wze(e,t){return Tq(e,t,"monthsShort")}function bze(e,t,r){return JP(e,t,r,"weekdays")}function Sze(e,t,r){return JP(e,t,r,"weekdaysShort")}function Eze(e,t,r){return JP(e,t,r,"weekdaysMin")}cu("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Gt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});Ke.lang=pi("moment.lang is deprecated. Use moment.locale instead.",cu);Ke.langData=pi("moment.langData is deprecated. Use moment.localeData instead.",lc);var ll=Math.abs;function Tze(){var e=this._data;return this._milliseconds=ll(this._milliseconds),this._days=ll(this._days),this._months=ll(this._months),e.milliseconds=ll(e.milliseconds),e.seconds=ll(e.seconds),e.minutes=ll(e.minutes),e.hours=ll(e.hours),e.months=ll(e.months),e.years=ll(e.years),this}function Cq(e,t,r,n){var s=so(t,r);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function Cze(e,t){return Cq(this,e,t,1)}function Nze(e,t){return Cq(this,e,t,-1)}function M3(e){return e<0?Math.floor(e):Math.ceil(e)}function kze(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,s,a,i,l,c;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=M3(rN(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,s=Za(e/1e3),n.seconds=s%60,a=Za(s/60),n.minutes=a%60,i=Za(a/60),n.hours=i%24,t+=Za(i/24),c=Za(Nq(t)),r+=c,t-=M3(rN(c)),l=Za(r/12),r%=12,n.days=t,n.months=r,n.years=l,this}function Nq(e){return e*4800/146097}function rN(e){return e*146097/4800}function jze(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=vi(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+Nq(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(rN(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function cc(e){return function(){return this.as(e)}}var kq=cc("ms"),Aze=cc("s"),Pze=cc("m"),Oze=cc("h"),Dze=cc("d"),Rze=cc("w"),Ize=cc("M"),Mze=cc("Q"),Fze=cc("y"),Lze=kq;function $ze(){return so(this)}function Uze(e){return e=vi(e),this.isValid()?this[e+"s"]():NaN}function Rf(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bze=Rf("milliseconds"),Wze=Rf("seconds"),Vze=Rf("minutes"),zze=Rf("hours"),Hze=Rf("days"),Yze=Rf("months"),Gze=Rf("years");function qze(){return Za(this.days()/7)}var dl=Math.round,Sh={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Kze(e,t,r,n,s){return s.relativeTime(t||1,!!r,e,n)}function Xze(e,t,r,n){var s=so(e).abs(),a=dl(s.as("s")),i=dl(s.as("m")),l=dl(s.as("h")),c=dl(s.as("d")),u=dl(s.as("M")),d=dl(s.as("w")),f=dl(s.as("y")),h=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||i<=1&&["m"]||i<r.m&&["mm",i]||l<=1&&["h"]||l<r.h&&["hh",l]||c<=1&&["d"]||c<r.d&&["dd",c];return r.w!=null&&(h=h||d<=1&&["w"]||d<r.w&&["ww",d]),h=h||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],h[2]=t,h[3]=+e>0,h[4]=n,Kze.apply(null,h)}function Qze(e){return e===void 0?dl:typeof e=="function"?(dl=e,!0):!1}function Zze(e,t){return Sh[e]===void 0?!1:t===void 0?Sh[e]:(Sh[e]=t,e==="s"&&(Sh.ss=t-1),!0)}function Jze(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Sh,s,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Sh,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),s=this.localeData(),a=Xze(this,!r,n,s),r&&(a=s.pastFuture(+this,a)),s.postformat(a)}var E2=Math.abs;function eh(e){return(e>0)-(e<0)||+e}function uS(){if(!this.isValid())return this.localeData().invalidDate();var e=E2(this._milliseconds)/1e3,t=E2(this._days),r=E2(this._months),n,s,a,i,l=this.asSeconds(),c,u,d,f;return l?(n=Za(e/60),s=Za(n/60),e%=60,n%=60,a=Za(r/12),r%=12,i=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=eh(this._months)!==eh(l)?"-":"",d=eh(this._days)!==eh(l)?"-":"",f=eh(this._milliseconds)!==eh(l)?"-":"",c+"P"+(a?u+a+"Y":"")+(r?u+r+"M":"")+(t?d+t+"D":"")+(s||n||e?"T":"")+(s?f+s+"H":"")+(n?f+n+"M":"")+(e?f+i+"S":"")):"P0D"}var Zt=lS.prototype;Zt.isValid=YWe;Zt.abs=Tze;Zt.add=Cze;Zt.subtract=Nze;Zt.as=jze;Zt.asMilliseconds=kq;Zt.asSeconds=Aze;Zt.asMinutes=Pze;Zt.asHours=Oze;Zt.asDays=Dze;Zt.asWeeks=Rze;Zt.asMonths=Ize;Zt.asQuarters=Mze;Zt.asYears=Fze;Zt.valueOf=Lze;Zt._bubble=kze;Zt.clone=$ze;Zt.get=Uze;Zt.milliseconds=Bze;Zt.seconds=Wze;Zt.minutes=Vze;Zt.hours=zze;Zt.days=Hze;Zt.weeks=qze;Zt.months=Yze;Zt.years=Gze;Zt.humanize=Jze;Zt.toISOString=uS;Zt.toString=uS;Zt.toJSON=uS;Zt.locale=pq;Zt.localeData=gq;Zt.toIsoString=pi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uS);Zt.lang=vq;ft("X",0,0,"unix");ft("x",0,0,"valueOf");st("x",sS);st("X",_7e);Nr("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});Nr("x",function(e,t,r){r._d=new Date(Gt(e))});//! moment.js
Ke.version="2.30.1";e7e(Hr);Ke.fn=Re;Ke.min=WWe;Ke.max=VWe;Ke.now=zWe;Ke.utc=Go;Ke.unix=xze;Ke.months=_ze;Ke.isDate=fx;Ke.locale=cu;Ke.invalid=eS;Ke.duration=so;Ke.isMoment=eo;Ke.weekdays=bze;Ke.parseZone=yze;Ke.localeData=lc;Ke.isDuration=iy;Ke.monthsShort=wze;Ke.weekdaysMin=Eze;Ke.defineLocale=HP;Ke.updateLocale=yWe;Ke.locales=_We;Ke.weekdaysShort=Sze;Ke.normalizeUnits=vi;Ke.relativeTimeRounding=Qze;Ke.relativeTimeThreshold=Zze;Ke.calendarFormat=pVe;Ke.prototype=Re;Ke.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function jq(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var T2={exports:{}},F3;function eHe(){return F3||(F3=1,function(e,t){(function(r,n){e.exports=n()})(Zs,function(){var r;function n(){return r.apply(null,arguments)}function s(v){r=v}function a(v){return v instanceof Array||Object.prototype.toString.call(v)==="[object Array]"}function i(v){return v!=null&&Object.prototype.toString.call(v)==="[object Object]"}function l(v,b){return Object.prototype.hasOwnProperty.call(v,b)}function c(v){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(v).length===0;var b;for(b in v)if(l(v,b))return!1;return!0}function u(v){return v===void 0}function d(v){return typeof v=="number"||Object.prototype.toString.call(v)==="[object Number]"}function f(v){return v instanceof Date||Object.prototype.toString.call(v)==="[object Date]"}function h(v,b){var T=[],k,M=v.length;for(k=0;k<M;++k)T.push(b(v[k],k));return T}function p(v,b){for(var T in b)l(b,T)&&(v[T]=b[T]);return l(b,"toString")&&(v.toString=b.toString),l(b,"valueOf")&&(v.valueOf=b.valueOf),v}function x(v,b,T,k){return XO(v,b,T,k,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(v){return v._pf==null&&(v._pf=m()),v._pf}var _;Array.prototype.some?_=Array.prototype.some:_=function(v){var b=Object(this),T=b.length>>>0,k;for(k=0;k<T;k++)if(k in b&&v.call(this,b[k],k,b))return!0;return!1};function y(v){var b=null,T=!1,k=v._d&&!isNaN(v._d.getTime());if(k&&(b=g(v),T=_.call(b.parsedDateParts,function(M){return M!=null}),k=b.overflow<0&&!b.empty&&!b.invalidEra&&!b.invalidMonth&&!b.invalidWeekday&&!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&T),v._strict&&(k=k&&b.charsLeftOver===0&&b.unusedTokens.length===0&&b.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(v))v._isValid=k;else return k;return v._isValid}function S(v){var b=x(NaN);return v!=null?p(g(b),v):g(b).userInvalidated=!0,b}var E=n.momentProperties=[],C=!1;function P(v,b){var T,k,M,ee=E.length;if(u(b._isAMomentObject)||(v._isAMomentObject=b._isAMomentObject),u(b._i)||(v._i=b._i),u(b._f)||(v._f=b._f),u(b._l)||(v._l=b._l),u(b._strict)||(v._strict=b._strict),u(b._tzm)||(v._tzm=b._tzm),u(b._isUTC)||(v._isUTC=b._isUTC),u(b._offset)||(v._offset=b._offset),u(b._pf)||(v._pf=g(b)),u(b._locale)||(v._locale=b._locale),ee>0)for(T=0;T<ee;T++)k=E[T],M=b[k],u(M)||(v[k]=M);return v}function N(v){P(this,v),this._d=new Date(v._d!=null?v._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),C===!1&&(C=!0,n.updateOffset(this),C=!1)}function A(v){return v instanceof N||v!=null&&v._isAMomentObject!=null}function j(v){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+v)}function O(v,b){var T=!0;return p(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,v),T){var k=[],M,ee,ve,nt=arguments.length;for(ee=0;ee<nt;ee++){if(M="",typeof arguments[ee]=="object"){M+=`
[`+ee+"] ";for(ve in arguments[0])l(arguments[0],ve)&&(M+=ve+": "+arguments[0][ve]+", ");M=M.slice(0,-2)}else M=arguments[ee];k.push(M)}j(v+`
Arguments: `+Array.prototype.slice.call(k).join("")+`
`+new Error().stack),T=!1}return b.apply(this,arguments)},b)}var W={};function z(v,b){n.deprecationHandler!=null&&n.deprecationHandler(v,b),W[v]||(j(b),W[v]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function Y(v){return typeof Function<"u"&&v instanceof Function||Object.prototype.toString.call(v)==="[object Function]"}function J(v){var b,T;for(T in v)l(v,T)&&(b=v[T],Y(b)?this[T]=b:this["_"+T]=b);this._config=v,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ie(v,b){var T=p({},v),k;for(k in b)l(b,k)&&(i(v[k])&&i(b[k])?(T[k]={},p(T[k],v[k]),p(T[k],b[k])):b[k]!=null?T[k]=b[k]:delete T[k]);for(k in v)l(v,k)&&!l(b,k)&&i(v[k])&&(T[k]=p({},T[k]));return T}function oe(v){v!=null&&this.set(v)}var re;Object.keys?re=Object.keys:re=function(v){var b,T=[];for(b in v)l(v,b)&&T.push(b);return T};var Z={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ae(v,b,T){var k=this._calendar[v]||this._calendar.sameElse;return Y(k)?k.call(b,T):k}function ge(v,b,T){var k=""+Math.abs(v),M=b-k.length,ee=v>=0;return(ee?T?"+":"":"-")+Math.pow(10,Math.max(0,M)).toString().substr(1)+k}var se=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,R=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},L={};function I(v,b,T,k){var M=k;typeof k=="string"&&(M=function(){return this[k]()}),v&&(L[v]=M),b&&(L[b[0]]=function(){return ge(M.apply(this,arguments),b[1],b[2])}),T&&(L[T]=function(){return this.localeData().ordinal(M.apply(this,arguments),v)})}function U(v){return v.match(/\[[\s\S]/)?v.replace(/^\[|\]$/g,""):v.replace(/\\/g,"")}function X(v){var b=v.match(se),T,k;for(T=0,k=b.length;T<k;T++)L[b[T]]?b[T]=L[b[T]]:b[T]=U(b[T]);return function(M){var ee="",ve;for(ve=0;ve<k;ve++)ee+=Y(b[ve])?b[ve].call(M,v):b[ve];return ee}}function de(v,b){return v.isValid()?(b=ye(b,v.localeData()),F[b]=F[b]||X(b),F[b](v)):v.localeData().invalidDate()}function ye(v,b){var T=5;function k(M){return b.longDateFormat(M)||M}for(R.lastIndex=0;T>=0&&R.test(v);)v=v.replace(R,k),R.lastIndex=0,T-=1;return v}var me={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ue(v){var b=this._longDateFormat[v],T=this._longDateFormat[v.toUpperCase()];return b||!T?b:(this._longDateFormat[v]=T.match(se).map(function(k){return k==="MMMM"||k==="MM"||k==="DD"||k==="dddd"?k.slice(1):k}).join(""),this._longDateFormat[v])}var We="Invalid date";function mt(){return this._invalidDate}var lt="%d",Kt=/\d{1,2}/;function ut(v){return this._ordinal.replace("%d",v)}var Ie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ht(v,b,T,k){var M=this._relativeTime[T];return Y(M)?M(v,b,T,k):M.replace(/%d/i,v)}function wt(v,b){var T=this._relativeTime[v>0?"future":"past"];return Y(T)?T(b):T.replace(/%s/i,b)}var Q={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(v){return typeof v=="string"?Q[v]||Q[v.toLowerCase()]:void 0}function te(v){var b={},T,k;for(k in v)l(v,k)&&(T=ne(k),T&&(b[T]=v[k]));return b}var he={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function pe(v){var b=[],T;for(T in v)l(v,T)&&b.push({unit:T,priority:he[T]});return b.sort(function(k,M){return k.priority-M.priority}),b}var je=/\d/,Me=/\d\d/,bt=/\d{3}/,jt=/\d{4}/,pn=/[+-]?\d{6}/,$t=/\d\d?/,cs=/\d\d\d\d?/,ao=/\d\d\d\d\d\d?/,Es=/\d{1,3}/,qn=/\d{1,4}/,za=/[+-]?\d{1,6}/,Un=/\d+/,io=/[+-]?\d+/,Ko=/Z|[+-]\d\d:?\d\d/gi,oo=/Z|[+-]\d\d(?::?\d\d)?/gi,Qu=/[+-]?\d+(\.\d{1,3})?/,Xo=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ha=/^[1-9]\d?/,Kn=/^([1-9]\d|\d)/,uc;uc={};function Ee(v,b,T){uc[v]=Y(b)?b:function(k,M){return k&&T?T:b}}function rr(v,b){return l(uc,v)?uc[v](b._strict,b._locale):new RegExp(Er(v))}function Er(v){return Zr(v.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(b,T,k,M,ee){return T||k||M||ee}))}function Zr(v){return v.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function jr(v){return v<0?Math.ceil(v)||0:Math.floor(v)}function _t(v){var b=+v,T=0;return b!==0&&isFinite(b)&&(T=jr(b)),T}var ma={};function Ct(v,b){var T,k=b,M;for(typeof v=="string"&&(v=[v]),d(b)&&(k=function(ee,ve){ve[b]=_t(ee)}),M=v.length,T=0;T<M;T++)ma[v[T]]=k}function us(v,b){Ct(v,function(T,k,M,ee){M._w=M._w||{},b(T,M._w,M,ee)})}function SS(v,b,T){b!=null&&l(ma,v)&&ma[v](b,T._a,T,v)}function Lf(v){return v%4===0&&v%100!==0||v%400===0}var D=0,G=1,B=2,V=3,q=4,K=5,le=6,we=7,ce=8;I("Y",0,0,function(){var v=this.year();return v<=9999?ge(v,4):"+"+v}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),Ee("Y",io),Ee("YY",$t,Me),Ee("YYYY",qn,jt),Ee("YYYYY",za,pn),Ee("YYYYYY",za,pn),Ct(["YYYYY","YYYYYY"],D),Ct("YYYY",function(v,b){b[D]=v.length===2?n.parseTwoDigitYear(v):_t(v)}),Ct("YY",function(v,b){b[D]=n.parseTwoDigitYear(v)}),Ct("Y",function(v,b){b[D]=parseInt(v,10)});function ue(v){return Lf(v)?366:365}n.parseTwoDigitYear=function(v){return _t(v)+(_t(v)>68?1900:2e3)};var fe=Ve("FullYear",!0);function Pe(){return Lf(this.year())}function Ve(v,b){return function(T){return T!=null?(Fe(this,v,T),n.updateOffset(this,b),this):Je(this,v)}}function Je(v,b){if(!v.isValid())return NaN;var T=v._d,k=v._isUTC;switch(b){case"Milliseconds":return k?T.getUTCMilliseconds():T.getMilliseconds();case"Seconds":return k?T.getUTCSeconds():T.getSeconds();case"Minutes":return k?T.getUTCMinutes():T.getMinutes();case"Hours":return k?T.getUTCHours():T.getHours();case"Date":return k?T.getUTCDate():T.getDate();case"Day":return k?T.getUTCDay():T.getDay();case"Month":return k?T.getUTCMonth():T.getMonth();case"FullYear":return k?T.getUTCFullYear():T.getFullYear();default:return NaN}}function Fe(v,b,T){var k,M,ee,ve,nt;if(!(!v.isValid()||isNaN(T))){switch(k=v._d,M=v._isUTC,b){case"Milliseconds":return void(M?k.setUTCMilliseconds(T):k.setMilliseconds(T));case"Seconds":return void(M?k.setUTCSeconds(T):k.setSeconds(T));case"Minutes":return void(M?k.setUTCMinutes(T):k.setMinutes(T));case"Hours":return void(M?k.setUTCHours(T):k.setHours(T));case"Date":return void(M?k.setUTCDate(T):k.setDate(T));case"FullYear":break;default:return}ee=T,ve=v.month(),nt=v.date(),nt=nt===29&&ve===1&&!Lf(ee)?28:nt,M?k.setUTCFullYear(ee,ve,nt):k.setFullYear(ee,ve,nt)}}function et(v){return v=ne(v),Y(this[v])?this[v]():this}function Et(v,b){if(typeof v=="object"){v=te(v);var T=pe(v),k,M=T.length;for(k=0;k<M;k++)this[T[k].unit](v[T[k].unit])}else if(v=ne(v),Y(this[v]))return this[v](b);return this}function Ir(v,b){return(v%b+b)%b}var Tt;Array.prototype.indexOf?Tt=Array.prototype.indexOf:Tt=function(v){var b;for(b=0;b<this.length;++b)if(this[b]===v)return b;return-1};function bn(v,b){if(isNaN(v)||isNaN(b))return NaN;var T=Ir(b,12);return v+=(b-T)/12,T===1?Lf(v)?29:28:31-T%7%2}I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(v){return this.localeData().monthsShort(this,v)}),I("MMMM",0,0,function(v){return this.localeData().months(this,v)}),Ee("M",$t,Ha),Ee("MM",$t,Me),Ee("MMM",function(v,b){return b.monthsShortRegex(v)}),Ee("MMMM",function(v,b){return b.monthsRegex(v)}),Ct(["M","MM"],function(v,b){b[G]=_t(v)-1}),Ct(["MMM","MMMM"],function(v,b,T,k){var M=T._locale.monthsParse(v,k,T._strict);M!=null?b[G]=M:g(T).invalidMonth=v});var Zu="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),dc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Qo=Xo,Ap=Xo;function yi(v,b){return v?a(this._months)?this._months[v.month()]:this._months[(this._months.isFormat||fc).test(b)?"format":"standalone"][v.month()]:a(this._months)?this._months:this._months.standalone}function gK(v,b){return v?a(this._monthsShort)?this._monthsShort[v.month()]:this._monthsShort[fc.test(b)?"format":"standalone"][v.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function xK(v,b,T){var k,M,ee,ve=v.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],k=0;k<12;++k)ee=x([2e3,k]),this._shortMonthsParse[k]=this.monthsShort(ee,"").toLocaleLowerCase(),this._longMonthsParse[k]=this.months(ee,"").toLocaleLowerCase();return T?b==="MMM"?(M=Tt.call(this._shortMonthsParse,ve),M!==-1?M:null):(M=Tt.call(this._longMonthsParse,ve),M!==-1?M:null):b==="MMM"?(M=Tt.call(this._shortMonthsParse,ve),M!==-1?M:(M=Tt.call(this._longMonthsParse,ve),M!==-1?M:null)):(M=Tt.call(this._longMonthsParse,ve),M!==-1?M:(M=Tt.call(this._shortMonthsParse,ve),M!==-1?M:null))}function yK(v,b,T){var k,M,ee;if(this._monthsParseExact)return xK.call(this,v,b,T);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),k=0;k<12;k++){if(M=x([2e3,k]),T&&!this._longMonthsParse[k]&&(this._longMonthsParse[k]=new RegExp("^"+this.months(M,"").replace(".","")+"$","i"),this._shortMonthsParse[k]=new RegExp("^"+this.monthsShort(M,"").replace(".","")+"$","i")),!T&&!this._monthsParse[k]&&(ee="^"+this.months(M,"")+"|^"+this.monthsShort(M,""),this._monthsParse[k]=new RegExp(ee.replace(".",""),"i")),T&&b==="MMMM"&&this._longMonthsParse[k].test(v))return k;if(T&&b==="MMM"&&this._shortMonthsParse[k].test(v))return k;if(!T&&this._monthsParse[k].test(v))return k}}function LO(v,b){if(!v.isValid())return v;if(typeof b=="string"){if(/^\d+$/.test(b))b=_t(b);else if(b=v.localeData().monthsParse(b),!d(b))return v}var T=b,k=v.date();return k=k<29?k:Math.min(k,bn(v.year(),T)),v._isUTC?v._d.setUTCMonth(T,k):v._d.setMonth(T,k),v}function $O(v){return v!=null?(LO(this,v),n.updateOffset(this,!0),this):Je(this,"Month")}function _K(){return bn(this.year(),this.month())}function wK(v){return this._monthsParseExact?(l(this,"_monthsRegex")||UO.call(this),v?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Qo),this._monthsShortStrictRegex&&v?this._monthsShortStrictRegex:this._monthsShortRegex)}function bK(v){return this._monthsParseExact?(l(this,"_monthsRegex")||UO.call(this),v?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Ap),this._monthsStrictRegex&&v?this._monthsStrictRegex:this._monthsRegex)}function UO(){function v(St,qt){return qt.length-St.length}var b=[],T=[],k=[],M,ee,ve,nt;for(M=0;M<12;M++)ee=x([2e3,M]),ve=Zr(this.monthsShort(ee,"")),nt=Zr(this.months(ee,"")),b.push(ve),T.push(nt),k.push(nt),k.push(ve);b.sort(v),T.sort(v),k.sort(v),this._monthsRegex=new RegExp("^("+k.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+b.join("|")+")","i")}function SK(v,b,T,k,M,ee,ve){var nt;return v<100&&v>=0?(nt=new Date(v+400,b,T,k,M,ee,ve),isFinite(nt.getFullYear())&&nt.setFullYear(v)):nt=new Date(v,b,T,k,M,ee,ve),nt}function Pp(v){var b,T;return v<100&&v>=0?(T=Array.prototype.slice.call(arguments),T[0]=v+400,b=new Date(Date.UTC.apply(null,T)),isFinite(b.getUTCFullYear())&&b.setUTCFullYear(v)):b=new Date(Date.UTC.apply(null,arguments)),b}function wx(v,b,T){var k=7+b-T,M=(7+Pp(v,0,k).getUTCDay()-b)%7;return-M+k-1}function BO(v,b,T,k,M){var ee=(7+T-k)%7,ve=wx(v,k,M),nt=1+7*(b-1)+ee+ve,St,qt;return nt<=0?(St=v-1,qt=ue(St)+nt):nt>ue(v)?(St=v+1,qt=nt-ue(v)):(St=v,qt=nt),{year:St,dayOfYear:qt}}function Op(v,b,T){var k=wx(v.year(),b,T),M=Math.floor((v.dayOfYear()-k-1)/7)+1,ee,ve;return M<1?(ve=v.year()-1,ee=M+Zo(ve,b,T)):M>Zo(v.year(),b,T)?(ee=M-Zo(v.year(),b,T),ve=v.year()+1):(ve=v.year(),ee=M),{week:ee,year:ve}}function Zo(v,b,T){var k=wx(v,b,T),M=wx(v+1,b,T);return(ue(v)-k+M)/7}I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),Ee("w",$t,Ha),Ee("ww",$t,Me),Ee("W",$t,Ha),Ee("WW",$t,Me),us(["w","ww","W","WW"],function(v,b,T,k){b[k.substr(0,1)]=_t(v)});function EK(v){return Op(v,this._week.dow,this._week.doy).week}var TK={dow:0,doy:6};function CK(){return this._week.dow}function NK(){return this._week.doy}function kK(v){var b=this.localeData().week(this);return v==null?b:this.add((v-b)*7,"d")}function jK(v){var b=Op(this,1,4).week;return v==null?b:this.add((v-b)*7,"d")}I("d",0,"do","day"),I("dd",0,0,function(v){return this.localeData().weekdaysMin(this,v)}),I("ddd",0,0,function(v){return this.localeData().weekdaysShort(this,v)}),I("dddd",0,0,function(v){return this.localeData().weekdays(this,v)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),Ee("d",$t),Ee("e",$t),Ee("E",$t),Ee("dd",function(v,b){return b.weekdaysMinRegex(v)}),Ee("ddd",function(v,b){return b.weekdaysShortRegex(v)}),Ee("dddd",function(v,b){return b.weekdaysRegex(v)}),us(["dd","ddd","dddd"],function(v,b,T,k){var M=T._locale.weekdaysParse(v,k,T._strict);M!=null?b.d=M:g(T).invalidWeekday=v}),us(["d","e","E"],function(v,b,T,k){b[k]=_t(v)});function AK(v,b){return typeof v!="string"?v:isNaN(v)?(v=b.weekdaysParse(v),typeof v=="number"?v:null):parseInt(v,10)}function PK(v,b){return typeof v=="string"?b.weekdaysParse(v)%7||7:isNaN(v)?null:v}function ES(v,b){return v.slice(b,7).concat(v.slice(0,b))}var OK="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),WO="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),DK="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),RK=Xo,IK=Xo,MK=Xo;function FK(v,b){var T=a(this._weekdays)?this._weekdays:this._weekdays[v&&v!==!0&&this._weekdays.isFormat.test(b)?"format":"standalone"];return v===!0?ES(T,this._week.dow):v?T[v.day()]:T}function LK(v){return v===!0?ES(this._weekdaysShort,this._week.dow):v?this._weekdaysShort[v.day()]:this._weekdaysShort}function $K(v){return v===!0?ES(this._weekdaysMin,this._week.dow):v?this._weekdaysMin[v.day()]:this._weekdaysMin}function UK(v,b,T){var k,M,ee,ve=v.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],k=0;k<7;++k)ee=x([2e3,1]).day(k),this._minWeekdaysParse[k]=this.weekdaysMin(ee,"").toLocaleLowerCase(),this._shortWeekdaysParse[k]=this.weekdaysShort(ee,"").toLocaleLowerCase(),this._weekdaysParse[k]=this.weekdays(ee,"").toLocaleLowerCase();return T?b==="dddd"?(M=Tt.call(this._weekdaysParse,ve),M!==-1?M:null):b==="ddd"?(M=Tt.call(this._shortWeekdaysParse,ve),M!==-1?M:null):(M=Tt.call(this._minWeekdaysParse,ve),M!==-1?M:null):b==="dddd"?(M=Tt.call(this._weekdaysParse,ve),M!==-1||(M=Tt.call(this._shortWeekdaysParse,ve),M!==-1)?M:(M=Tt.call(this._minWeekdaysParse,ve),M!==-1?M:null)):b==="ddd"?(M=Tt.call(this._shortWeekdaysParse,ve),M!==-1||(M=Tt.call(this._weekdaysParse,ve),M!==-1)?M:(M=Tt.call(this._minWeekdaysParse,ve),M!==-1?M:null)):(M=Tt.call(this._minWeekdaysParse,ve),M!==-1||(M=Tt.call(this._weekdaysParse,ve),M!==-1)?M:(M=Tt.call(this._shortWeekdaysParse,ve),M!==-1?M:null))}function BK(v,b,T){var k,M,ee;if(this._weekdaysParseExact)return UK.call(this,v,b,T);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),k=0;k<7;k++){if(M=x([2e3,1]).day(k),T&&!this._fullWeekdaysParse[k]&&(this._fullWeekdaysParse[k]=new RegExp("^"+this.weekdays(M,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[k]=new RegExp("^"+this.weekdaysShort(M,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[k]=new RegExp("^"+this.weekdaysMin(M,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[k]||(ee="^"+this.weekdays(M,"")+"|^"+this.weekdaysShort(M,"")+"|^"+this.weekdaysMin(M,""),this._weekdaysParse[k]=new RegExp(ee.replace(".",""),"i")),T&&b==="dddd"&&this._fullWeekdaysParse[k].test(v))return k;if(T&&b==="ddd"&&this._shortWeekdaysParse[k].test(v))return k;if(T&&b==="dd"&&this._minWeekdaysParse[k].test(v))return k;if(!T&&this._weekdaysParse[k].test(v))return k}}function WK(v){if(!this.isValid())return v!=null?this:NaN;var b=Je(this,"Day");return v!=null?(v=AK(v,this.localeData()),this.add(v-b,"d")):b}function VK(v){if(!this.isValid())return v!=null?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return v==null?b:this.add(v-b,"d")}function zK(v){if(!this.isValid())return v!=null?this:NaN;if(v!=null){var b=PK(v,this.localeData());return this.day(this.day()%7?b:b-7)}else return this.day()||7}function HK(v){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||TS.call(this),v?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=RK),this._weekdaysStrictRegex&&v?this._weekdaysStrictRegex:this._weekdaysRegex)}function YK(v){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||TS.call(this),v?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=IK),this._weekdaysShortStrictRegex&&v?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function GK(v){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||TS.call(this),v?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=MK),this._weekdaysMinStrictRegex&&v?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function TS(){function v(Ts,nl){return nl.length-Ts.length}var b=[],T=[],k=[],M=[],ee,ve,nt,St,qt;for(ee=0;ee<7;ee++)ve=x([2e3,1]).day(ee),nt=Zr(this.weekdaysMin(ve,"")),St=Zr(this.weekdaysShort(ve,"")),qt=Zr(this.weekdays(ve,"")),b.push(nt),T.push(St),k.push(qt),M.push(nt),M.push(St),M.push(qt);b.sort(v),T.sort(v),k.sort(v),M.sort(v),this._weekdaysRegex=new RegExp("^("+M.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+b.join("|")+")","i")}function CS(){return this.hours()%12||12}function qK(){return this.hours()||24}I("H",["HH",2],0,"hour"),I("h",["hh",2],0,CS),I("k",["kk",2],0,qK),I("hmm",0,0,function(){return""+CS.apply(this)+ge(this.minutes(),2)}),I("hmmss",0,0,function(){return""+CS.apply(this)+ge(this.minutes(),2)+ge(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+ge(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+ge(this.minutes(),2)+ge(this.seconds(),2)});function VO(v,b){I(v,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}VO("a",!0),VO("A",!1);function zO(v,b){return b._meridiemParse}Ee("a",zO),Ee("A",zO),Ee("H",$t,Kn),Ee("h",$t,Ha),Ee("k",$t,Ha),Ee("HH",$t,Me),Ee("hh",$t,Me),Ee("kk",$t,Me),Ee("hmm",cs),Ee("hmmss",ao),Ee("Hmm",cs),Ee("Hmmss",ao),Ct(["H","HH"],V),Ct(["k","kk"],function(v,b,T){var k=_t(v);b[V]=k===24?0:k}),Ct(["a","A"],function(v,b,T){T._isPm=T._locale.isPM(v),T._meridiem=v}),Ct(["h","hh"],function(v,b,T){b[V]=_t(v),g(T).bigHour=!0}),Ct("hmm",function(v,b,T){var k=v.length-2;b[V]=_t(v.substr(0,k)),b[q]=_t(v.substr(k)),g(T).bigHour=!0}),Ct("hmmss",function(v,b,T){var k=v.length-4,M=v.length-2;b[V]=_t(v.substr(0,k)),b[q]=_t(v.substr(k,2)),b[K]=_t(v.substr(M)),g(T).bigHour=!0}),Ct("Hmm",function(v,b,T){var k=v.length-2;b[V]=_t(v.substr(0,k)),b[q]=_t(v.substr(k))}),Ct("Hmmss",function(v,b,T){var k=v.length-4,M=v.length-2;b[V]=_t(v.substr(0,k)),b[q]=_t(v.substr(k,2)),b[K]=_t(v.substr(M))});function KK(v){return(v+"").toLowerCase().charAt(0)==="p"}var XK=/[ap]\.?m?\.?/i,QK=Ve("Hours",!0);function ZK(v,b,T){return v>11?T?"pm":"PM":T?"am":"AM"}var HO={calendar:Z,longDateFormat:me,invalidDate:We,ordinal:lt,dayOfMonthOrdinalParse:Kt,relativeTime:Ie,months:Zu,monthsShort:dc,week:TK,weekdays:OK,weekdaysMin:DK,weekdaysShort:WO,meridiemParse:XK},qr={},Dp={},Rp;function JK(v,b){var T,k=Math.min(v.length,b.length);for(T=0;T<k;T+=1)if(v[T]!==b[T])return T;return k}function YO(v){return v&&v.toLowerCase().replace("_","-")}function eX(v){for(var b=0,T,k,M,ee;b<v.length;){for(ee=YO(v[b]).split("-"),T=ee.length,k=YO(v[b+1]),k=k?k.split("-"):null;T>0;){if(M=bx(ee.slice(0,T).join("-")),M)return M;if(k&&k.length>=T&&JK(ee,k)>=T-1)break;T--}b++}return Rp}function tX(v){return!!(v&&v.match("^[^/\\\\]*$"))}function bx(v){var b=null,T;if(qr[v]===void 0&&e&&e.exports&&tX(v))try{b=Rp._abbr,T=jq,T("./locale/"+v),hc(b)}catch{qr[v]=null}return qr[v]}function hc(v,b){var T;return v&&(u(b)?T=Jo(v):T=NS(v,b),T?Rp=T:typeof console<"u"&&console.warn&&console.warn("Locale "+v+" not found. Did you forget to load it?")),Rp._abbr}function NS(v,b){if(b!==null){var T,k=HO;if(b.abbr=v,qr[v]!=null)z("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),k=qr[v]._config;else if(b.parentLocale!=null)if(qr[b.parentLocale]!=null)k=qr[b.parentLocale]._config;else if(T=bx(b.parentLocale),T!=null)k=T._config;else return Dp[b.parentLocale]||(Dp[b.parentLocale]=[]),Dp[b.parentLocale].push({name:v,config:b}),null;return qr[v]=new oe(ie(k,b)),Dp[v]&&Dp[v].forEach(function(M){NS(M.name,M.config)}),hc(v),qr[v]}else return delete qr[v],null}function rX(v,b){if(b!=null){var T,k,M=HO;qr[v]!=null&&qr[v].parentLocale!=null?qr[v].set(ie(qr[v]._config,b)):(k=bx(v),k!=null&&(M=k._config),b=ie(M,b),k==null&&(b.abbr=v),T=new oe(b),T.parentLocale=qr[v],qr[v]=T),hc(v)}else qr[v]!=null&&(qr[v].parentLocale!=null?(qr[v]=qr[v].parentLocale,v===hc()&&hc(v)):qr[v]!=null&&delete qr[v]);return qr[v]}function Jo(v){var b;if(v&&v._locale&&v._locale._abbr&&(v=v._locale._abbr),!v)return Rp;if(!a(v)){if(b=bx(v),b)return b;v=[v]}return eX(v)}function nX(){return re(qr)}function kS(v){var b,T=v._a;return T&&g(v).overflow===-2&&(b=T[G]<0||T[G]>11?G:T[B]<1||T[B]>bn(T[D],T[G])?B:T[V]<0||T[V]>24||T[V]===24&&(T[q]!==0||T[K]!==0||T[le]!==0)?V:T[q]<0||T[q]>59?q:T[K]<0||T[K]>59?K:T[le]<0||T[le]>999?le:-1,g(v)._overflowDayOfYear&&(b<D||b>B)&&(b=B),g(v)._overflowWeeks&&b===-1&&(b=we),g(v)._overflowWeekday&&b===-1&&(b=ce),g(v).overflow=b),v}var sX=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,aX=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,iX=/Z|[+-]\d\d(?::?\d\d)?/,Sx=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],jS=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],oX=/^\/?Date\((-?\d+)/i,lX=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,cX={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function GO(v){var b,T,k=v._i,M=sX.exec(k)||aX.exec(k),ee,ve,nt,St,qt=Sx.length,Ts=jS.length;if(M){for(g(v).iso=!0,b=0,T=qt;b<T;b++)if(Sx[b][1].exec(M[1])){ve=Sx[b][0],ee=Sx[b][2]!==!1;break}if(ve==null){v._isValid=!1;return}if(M[3]){for(b=0,T=Ts;b<T;b++)if(jS[b][1].exec(M[3])){nt=(M[2]||" ")+jS[b][0];break}if(nt==null){v._isValid=!1;return}}if(!ee&&nt!=null){v._isValid=!1;return}if(M[4])if(iX.exec(M[4]))St="Z";else{v._isValid=!1;return}v._f=ve+(nt||"")+(St||""),PS(v)}else v._isValid=!1}function uX(v,b,T,k,M,ee){var ve=[dX(v),dc.indexOf(b),parseInt(T,10),parseInt(k,10),parseInt(M,10)];return ee&&ve.push(parseInt(ee,10)),ve}function dX(v){var b=parseInt(v,10);return b<=49?2e3+b:b<=999?1900+b:b}function fX(v){return v.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function hX(v,b,T){if(v){var k=WO.indexOf(v),M=new Date(b[0],b[1],b[2]).getDay();if(k!==M)return g(T).weekdayMismatch=!0,T._isValid=!1,!1}return!0}function mX(v,b,T){if(v)return cX[v];if(b)return 0;var k=parseInt(T,10),M=k%100,ee=(k-M)/100;return ee*60+M}function qO(v){var b=lX.exec(fX(v._i)),T;if(b){if(T=uX(b[4],b[3],b[2],b[5],b[6],b[7]),!hX(b[1],T,v))return;v._a=T,v._tzm=mX(b[8],b[9],b[10]),v._d=Pp.apply(null,v._a),v._d.setUTCMinutes(v._d.getUTCMinutes()-v._tzm),g(v).rfc2822=!0}else v._isValid=!1}function pX(v){var b=oX.exec(v._i);if(b!==null){v._d=new Date(+b[1]);return}if(GO(v),v._isValid===!1)delete v._isValid;else return;if(qO(v),v._isValid===!1)delete v._isValid;else return;v._strict?v._isValid=!1:n.createFromInputFallback(v)}n.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(v){v._d=new Date(v._i+(v._useUTC?" UTC":""))});function $f(v,b,T){return v??b??T}function vX(v){var b=new Date(n.now());return v._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function AS(v){var b,T,k=[],M,ee,ve;if(!v._d){for(M=vX(v),v._w&&v._a[B]==null&&v._a[G]==null&&gX(v),v._dayOfYear!=null&&(ve=$f(v._a[D],M[D]),(v._dayOfYear>ue(ve)||v._dayOfYear===0)&&(g(v)._overflowDayOfYear=!0),T=Pp(ve,0,v._dayOfYear),v._a[G]=T.getUTCMonth(),v._a[B]=T.getUTCDate()),b=0;b<3&&v._a[b]==null;++b)v._a[b]=k[b]=M[b];for(;b<7;b++)v._a[b]=k[b]=v._a[b]==null?b===2?1:0:v._a[b];v._a[V]===24&&v._a[q]===0&&v._a[K]===0&&v._a[le]===0&&(v._nextDay=!0,v._a[V]=0),v._d=(v._useUTC?Pp:SK).apply(null,k),ee=v._useUTC?v._d.getUTCDay():v._d.getDay(),v._tzm!=null&&v._d.setUTCMinutes(v._d.getUTCMinutes()-v._tzm),v._nextDay&&(v._a[V]=24),v._w&&typeof v._w.d<"u"&&v._w.d!==ee&&(g(v).weekdayMismatch=!0)}}function gX(v){var b,T,k,M,ee,ve,nt,St,qt;b=v._w,b.GG!=null||b.W!=null||b.E!=null?(ee=1,ve=4,T=$f(b.GG,v._a[D],Op(Mr(),1,4).year),k=$f(b.W,1),M=$f(b.E,1),(M<1||M>7)&&(St=!0)):(ee=v._locale._week.dow,ve=v._locale._week.doy,qt=Op(Mr(),ee,ve),T=$f(b.gg,v._a[D],qt.year),k=$f(b.w,qt.week),b.d!=null?(M=b.d,(M<0||M>6)&&(St=!0)):b.e!=null?(M=b.e+ee,(b.e<0||b.e>6)&&(St=!0)):M=ee),k<1||k>Zo(T,ee,ve)?g(v)._overflowWeeks=!0:St!=null?g(v)._overflowWeekday=!0:(nt=BO(T,k,M,ee,ve),v._a[D]=nt.year,v._dayOfYear=nt.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function PS(v){if(v._f===n.ISO_8601){GO(v);return}if(v._f===n.RFC_2822){qO(v);return}v._a=[],g(v).empty=!0;var b=""+v._i,T,k,M,ee,ve,nt=b.length,St=0,qt,Ts;for(M=ye(v._f,v._locale).match(se)||[],Ts=M.length,T=0;T<Ts;T++)ee=M[T],k=(b.match(rr(ee,v))||[])[0],k&&(ve=b.substr(0,b.indexOf(k)),ve.length>0&&g(v).unusedInput.push(ve),b=b.slice(b.indexOf(k)+k.length),St+=k.length),L[ee]?(k?g(v).empty=!1:g(v).unusedTokens.push(ee),SS(ee,k,v)):v._strict&&!k&&g(v).unusedTokens.push(ee);g(v).charsLeftOver=nt-St,b.length>0&&g(v).unusedInput.push(b),v._a[V]<=12&&g(v).bigHour===!0&&v._a[V]>0&&(g(v).bigHour=void 0),g(v).parsedDateParts=v._a.slice(0),g(v).meridiem=v._meridiem,v._a[V]=xX(v._locale,v._a[V],v._meridiem),qt=g(v).era,qt!==null&&(v._a[D]=v._locale.erasConvertYear(qt,v._a[D])),AS(v),kS(v)}function xX(v,b,T){var k;return T==null?b:v.meridiemHour!=null?v.meridiemHour(b,T):(v.isPM!=null&&(k=v.isPM(T),k&&b<12&&(b+=12),!k&&b===12&&(b=0)),b)}function yX(v){var b,T,k,M,ee,ve,nt=!1,St=v._f.length;if(St===0){g(v).invalidFormat=!0,v._d=new Date(NaN);return}for(M=0;M<St;M++)ee=0,ve=!1,b=P({},v),v._useUTC!=null&&(b._useUTC=v._useUTC),b._f=v._f[M],PS(b),y(b)&&(ve=!0),ee+=g(b).charsLeftOver,ee+=g(b).unusedTokens.length*10,g(b).score=ee,nt?ee<k&&(k=ee,T=b):(k==null||ee<k||ve)&&(k=ee,T=b,ve&&(nt=!0));p(v,T||b)}function _X(v){if(!v._d){var b=te(v._i),T=b.day===void 0?b.date:b.day;v._a=h([b.year,b.month,T,b.hour,b.minute,b.second,b.millisecond],function(k){return k&&parseInt(k,10)}),AS(v)}}function wX(v){var b=new N(kS(KO(v)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function KO(v){var b=v._i,T=v._f;return v._locale=v._locale||Jo(v._l),b===null||T===void 0&&b===""?S({nullInput:!0}):(typeof b=="string"&&(v._i=b=v._locale.preparse(b)),A(b)?new N(kS(b)):(f(b)?v._d=b:a(T)?yX(v):T?PS(v):bX(v),y(v)||(v._d=null),v))}function bX(v){var b=v._i;u(b)?v._d=new Date(n.now()):f(b)?v._d=new Date(b.valueOf()):typeof b=="string"?pX(v):a(b)?(v._a=h(b.slice(0),function(T){return parseInt(T,10)}),AS(v)):i(b)?_X(v):d(b)?v._d=new Date(b):n.createFromInputFallback(v)}function XO(v,b,T,k,M){var ee={};return(b===!0||b===!1)&&(k=b,b=void 0),(T===!0||T===!1)&&(k=T,T=void 0),(i(v)&&c(v)||a(v)&&v.length===0)&&(v=void 0),ee._isAMomentObject=!0,ee._useUTC=ee._isUTC=M,ee._l=T,ee._i=v,ee._f=b,ee._strict=k,wX(ee)}function Mr(v,b,T,k){return XO(v,b,T,k,!1)}var SX=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var v=Mr.apply(null,arguments);return this.isValid()&&v.isValid()?v<this?this:v:S()}),EX=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var v=Mr.apply(null,arguments);return this.isValid()&&v.isValid()?v>this?this:v:S()});function QO(v,b){var T,k;if(b.length===1&&a(b[0])&&(b=b[0]),!b.length)return Mr();for(T=b[0],k=1;k<b.length;++k)(!b[k].isValid()||b[k][v](T))&&(T=b[k]);return T}function TX(){var v=[].slice.call(arguments,0);return QO("isBefore",v)}function CX(){var v=[].slice.call(arguments,0);return QO("isAfter",v)}var NX=function(){return Date.now?Date.now():+new Date},Ip=["year","quarter","month","week","day","hour","minute","second","millisecond"];function kX(v){var b,T=!1,k,M=Ip.length;for(b in v)if(l(v,b)&&!(Tt.call(Ip,b)!==-1&&(v[b]==null||!isNaN(v[b]))))return!1;for(k=0;k<M;++k)if(v[Ip[k]]){if(T)return!1;parseFloat(v[Ip[k]])!==_t(v[Ip[k]])&&(T=!0)}return!0}function jX(){return this._isValid}function AX(){return _i(NaN)}function Ex(v){var b=te(v),T=b.year||0,k=b.quarter||0,M=b.month||0,ee=b.week||b.isoWeek||0,ve=b.day||0,nt=b.hour||0,St=b.minute||0,qt=b.second||0,Ts=b.millisecond||0;this._isValid=kX(b),this._milliseconds=+Ts+qt*1e3+St*6e4+nt*1e3*60*60,this._days=+ve+ee*7,this._months=+M+k*3+T*12,this._data={},this._locale=Jo(),this._bubble()}function Tx(v){return v instanceof Ex}function OS(v){return v<0?Math.round(-1*v)*-1:Math.round(v)}function PX(v,b,T){var k=Math.min(v.length,b.length),M=Math.abs(v.length-b.length),ee=0,ve;for(ve=0;ve<k;ve++)_t(v[ve])!==_t(b[ve])&&ee++;return ee+M}function ZO(v,b){I(v,0,0,function(){var T=this.utcOffset(),k="+";return T<0&&(T=-T,k="-"),k+ge(~~(T/60),2)+b+ge(~~T%60,2)})}ZO("Z",":"),ZO("ZZ",""),Ee("Z",oo),Ee("ZZ",oo),Ct(["Z","ZZ"],function(v,b,T){T._useUTC=!0,T._tzm=DS(oo,v)});var OX=/([\+\-]|\d\d)/gi;function DS(v,b){var T=(b||"").match(v),k,M,ee;return T===null?null:(k=T[T.length-1]||[],M=(k+"").match(OX)||["-",0,0],ee=+(M[1]*60)+_t(M[2]),ee===0?0:M[0]==="+"?ee:-ee)}function RS(v,b){var T,k;return b._isUTC?(T=b.clone(),k=(A(v)||f(v)?v.valueOf():Mr(v).valueOf())-T.valueOf(),T._d.setTime(T._d.valueOf()+k),n.updateOffset(T,!1),T):Mr(v).local()}function IS(v){return-Math.round(v._d.getTimezoneOffset())}n.updateOffset=function(){};function DX(v,b,T){var k=this._offset||0,M;if(!this.isValid())return v!=null?this:NaN;if(v!=null){if(typeof v=="string"){if(v=DS(oo,v),v===null)return this}else Math.abs(v)<16&&!T&&(v=v*60);return!this._isUTC&&b&&(M=IS(this)),this._offset=v,this._isUTC=!0,M!=null&&this.add(M,"m"),k!==v&&(!b||this._changeInProgress?rD(this,_i(v-k,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?k:IS(this)}function RX(v,b){return v!=null?(typeof v!="string"&&(v=-v),this.utcOffset(v,b),this):-this.utcOffset()}function IX(v){return this.utcOffset(0,v)}function MX(v){return this._isUTC&&(this.utcOffset(0,v),this._isUTC=!1,v&&this.subtract(IS(this),"m")),this}function FX(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var v=DS(Ko,this._i);v!=null?this.utcOffset(v):this.utcOffset(0,!0)}return this}function LX(v){return this.isValid()?(v=v?Mr(v).utcOffset():0,(this.utcOffset()-v)%60===0):!1}function $X(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function UX(){if(!u(this._isDSTShifted))return this._isDSTShifted;var v={},b;return P(v,this),v=KO(v),v._a?(b=v._isUTC?x(v._a):Mr(v._a),this._isDSTShifted=this.isValid()&&PX(v._a,b.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function BX(){return this.isValid()?!this._isUTC:!1}function WX(){return this.isValid()?this._isUTC:!1}function JO(){return this.isValid()?this._isUTC&&this._offset===0:!1}var VX=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,zX=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _i(v,b){var T=v,k=null,M,ee,ve;return Tx(v)?T={ms:v._milliseconds,d:v._days,M:v._months}:d(v)||!isNaN(+v)?(T={},b?T[b]=+v:T.milliseconds=+v):(k=VX.exec(v))?(M=k[1]==="-"?-1:1,T={y:0,d:_t(k[B])*M,h:_t(k[V])*M,m:_t(k[q])*M,s:_t(k[K])*M,ms:_t(OS(k[le]*1e3))*M}):(k=zX.exec(v))?(M=k[1]==="-"?-1:1,T={y:Ju(k[2],M),M:Ju(k[3],M),w:Ju(k[4],M),d:Ju(k[5],M),h:Ju(k[6],M),m:Ju(k[7],M),s:Ju(k[8],M)}):T==null?T={}:typeof T=="object"&&("from"in T||"to"in T)&&(ve=HX(Mr(T.from),Mr(T.to)),T={},T.ms=ve.milliseconds,T.M=ve.months),ee=new Ex(T),Tx(v)&&l(v,"_locale")&&(ee._locale=v._locale),Tx(v)&&l(v,"_isValid")&&(ee._isValid=v._isValid),ee}_i.fn=Ex.prototype,_i.invalid=AX;function Ju(v,b){var T=v&&parseFloat(v.replace(",","."));return(isNaN(T)?0:T)*b}function eD(v,b){var T={};return T.months=b.month()-v.month()+(b.year()-v.year())*12,v.clone().add(T.months,"M").isAfter(b)&&--T.months,T.milliseconds=+b-+v.clone().add(T.months,"M"),T}function HX(v,b){var T;return v.isValid()&&b.isValid()?(b=RS(b,v),v.isBefore(b)?T=eD(v,b):(T=eD(b,v),T.milliseconds=-T.milliseconds,T.months=-T.months),T):{milliseconds:0,months:0}}function tD(v,b){return function(T,k){var M,ee;return k!==null&&!isNaN(+k)&&(z(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ee=T,T=k,k=ee),M=_i(T,k),rD(this,M,v),this}}function rD(v,b,T,k){var M=b._milliseconds,ee=OS(b._days),ve=OS(b._months);v.isValid()&&(k=k??!0,ve&&LO(v,Je(v,"Month")+ve*T),ee&&Fe(v,"Date",Je(v,"Date")+ee*T),M&&v._d.setTime(v._d.valueOf()+M*T),k&&n.updateOffset(v,ee||ve))}var YX=tD(1,"add"),GX=tD(-1,"subtract");function nD(v){return typeof v=="string"||v instanceof String}function qX(v){return A(v)||f(v)||nD(v)||d(v)||XX(v)||KX(v)||v===null||v===void 0}function KX(v){var b=i(v)&&!c(v),T=!1,k=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],M,ee,ve=k.length;for(M=0;M<ve;M+=1)ee=k[M],T=T||l(v,ee);return b&&T}function XX(v){var b=a(v),T=!1;return b&&(T=v.filter(function(k){return!d(k)&&nD(v)}).length===0),b&&T}function QX(v){var b=i(v)&&!c(v),T=!1,k=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],M,ee;for(M=0;M<k.length;M+=1)ee=k[M],T=T||l(v,ee);return b&&T}function ZX(v,b){var T=v.diff(b,"days",!0);return T<-6?"sameElse":T<-1?"lastWeek":T<0?"lastDay":T<1?"sameDay":T<2?"nextDay":T<7?"nextWeek":"sameElse"}function JX(v,b){arguments.length===1&&(arguments[0]?qX(arguments[0])?(v=arguments[0],b=void 0):QX(arguments[0])&&(b=arguments[0],v=void 0):(v=void 0,b=void 0));var T=v||Mr(),k=RS(T,this).startOf("day"),M=n.calendarFormat(this,k)||"sameElse",ee=b&&(Y(b[M])?b[M].call(this,T):b[M]);return this.format(ee||this.localeData().calendar(M,this,Mr(T)))}function eQ(){return new N(this)}function tQ(v,b){var T=A(v)?v:Mr(v);return this.isValid()&&T.isValid()?(b=ne(b)||"millisecond",b==="millisecond"?this.valueOf()>T.valueOf():T.valueOf()<this.clone().startOf(b).valueOf()):!1}function rQ(v,b){var T=A(v)?v:Mr(v);return this.isValid()&&T.isValid()?(b=ne(b)||"millisecond",b==="millisecond"?this.valueOf()<T.valueOf():this.clone().endOf(b).valueOf()<T.valueOf()):!1}function nQ(v,b,T,k){var M=A(v)?v:Mr(v),ee=A(b)?b:Mr(b);return this.isValid()&&M.isValid()&&ee.isValid()?(k=k||"()",(k[0]==="("?this.isAfter(M,T):!this.isBefore(M,T))&&(k[1]===")"?this.isBefore(ee,T):!this.isAfter(ee,T))):!1}function sQ(v,b){var T=A(v)?v:Mr(v),k;return this.isValid()&&T.isValid()?(b=ne(b)||"millisecond",b==="millisecond"?this.valueOf()===T.valueOf():(k=T.valueOf(),this.clone().startOf(b).valueOf()<=k&&k<=this.clone().endOf(b).valueOf())):!1}function aQ(v,b){return this.isSame(v,b)||this.isAfter(v,b)}function iQ(v,b){return this.isSame(v,b)||this.isBefore(v,b)}function oQ(v,b,T){var k,M,ee;if(!this.isValid())return NaN;if(k=RS(v,this),!k.isValid())return NaN;switch(M=(k.utcOffset()-this.utcOffset())*6e4,b=ne(b),b){case"year":ee=Cx(this,k)/12;break;case"month":ee=Cx(this,k);break;case"quarter":ee=Cx(this,k)/3;break;case"second":ee=(this-k)/1e3;break;case"minute":ee=(this-k)/6e4;break;case"hour":ee=(this-k)/36e5;break;case"day":ee=(this-k-M)/864e5;break;case"week":ee=(this-k-M)/6048e5;break;default:ee=this-k}return T?ee:jr(ee)}function Cx(v,b){if(v.date()<b.date())return-Cx(b,v);var T=(b.year()-v.year())*12+(b.month()-v.month()),k=v.clone().add(T,"months"),M,ee;return b-k<0?(M=v.clone().add(T-1,"months"),ee=(b-k)/(k-M)):(M=v.clone().add(T+1,"months"),ee=(b-k)/(M-k)),-(T+ee)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function lQ(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cQ(v){if(!this.isValid())return null;var b=v!==!0,T=b?this.clone().utc():this;return T.year()<0||T.year()>9999?de(T,b?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Y(Date.prototype.toISOString)?b?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",de(T,"Z")):de(T,b?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function uQ(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var v="moment",b="",T,k,M,ee;return this.isLocal()||(v=this.utcOffset()===0?"moment.utc":"moment.parseZone",b="Z"),T="["+v+'("]',k=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",M="-MM-DD[T]HH:mm:ss.SSS",ee=b+'[")]',this.format(T+k+M+ee)}function dQ(v){v||(v=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var b=de(this,v);return this.localeData().postformat(b)}function fQ(v,b){return this.isValid()&&(A(v)&&v.isValid()||Mr(v).isValid())?_i({to:this,from:v}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function hQ(v){return this.from(Mr(),v)}function mQ(v,b){return this.isValid()&&(A(v)&&v.isValid()||Mr(v).isValid())?_i({from:this,to:v}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function pQ(v){return this.to(Mr(),v)}function sD(v){var b;return v===void 0?this._locale._abbr:(b=Jo(v),b!=null&&(this._locale=b),this)}var aD=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(v){return v===void 0?this.localeData():this.locale(v)});function iD(){return this._locale}var Nx=1e3,Uf=60*Nx,kx=60*Uf,oD=(365*400+97)*24*kx;function Bf(v,b){return(v%b+b)%b}function lD(v,b,T){return v<100&&v>=0?new Date(v+400,b,T)-oD:new Date(v,b,T).valueOf()}function cD(v,b,T){return v<100&&v>=0?Date.UTC(v+400,b,T)-oD:Date.UTC(v,b,T)}function vQ(v){var b,T;if(v=ne(v),v===void 0||v==="millisecond"||!this.isValid())return this;switch(T=this._isUTC?cD:lD,v){case"year":b=T(this.year(),0,1);break;case"quarter":b=T(this.year(),this.month()-this.month()%3,1);break;case"month":b=T(this.year(),this.month(),1);break;case"week":b=T(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":b=T(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":b=T(this.year(),this.month(),this.date());break;case"hour":b=this._d.valueOf(),b-=Bf(b+(this._isUTC?0:this.utcOffset()*Uf),kx);break;case"minute":b=this._d.valueOf(),b-=Bf(b,Uf);break;case"second":b=this._d.valueOf(),b-=Bf(b,Nx);break}return this._d.setTime(b),n.updateOffset(this,!0),this}function gQ(v){var b,T;if(v=ne(v),v===void 0||v==="millisecond"||!this.isValid())return this;switch(T=this._isUTC?cD:lD,v){case"year":b=T(this.year()+1,0,1)-1;break;case"quarter":b=T(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":b=T(this.year(),this.month()+1,1)-1;break;case"week":b=T(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":b=T(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":b=T(this.year(),this.month(),this.date()+1)-1;break;case"hour":b=this._d.valueOf(),b+=kx-Bf(b+(this._isUTC?0:this.utcOffset()*Uf),kx)-1;break;case"minute":b=this._d.valueOf(),b+=Uf-Bf(b,Uf)-1;break;case"second":b=this._d.valueOf(),b+=Nx-Bf(b,Nx)-1;break}return this._d.setTime(b),n.updateOffset(this,!0),this}function xQ(){return this._d.valueOf()-(this._offset||0)*6e4}function yQ(){return Math.floor(this.valueOf()/1e3)}function _Q(){return new Date(this.valueOf())}function wQ(){var v=this;return[v.year(),v.month(),v.date(),v.hour(),v.minute(),v.second(),v.millisecond()]}function bQ(){var v=this;return{years:v.year(),months:v.month(),date:v.date(),hours:v.hours(),minutes:v.minutes(),seconds:v.seconds(),milliseconds:v.milliseconds()}}function SQ(){return this.isValid()?this.toISOString():null}function EQ(){return y(this)}function TQ(){return p({},g(this))}function CQ(){return g(this).overflow}function NQ(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}I("N",0,0,"eraAbbr"),I("NN",0,0,"eraAbbr"),I("NNN",0,0,"eraAbbr"),I("NNNN",0,0,"eraName"),I("NNNNN",0,0,"eraNarrow"),I("y",["y",1],"yo","eraYear"),I("y",["yy",2],0,"eraYear"),I("y",["yyy",3],0,"eraYear"),I("y",["yyyy",4],0,"eraYear"),Ee("N",MS),Ee("NN",MS),Ee("NNN",MS),Ee("NNNN",LQ),Ee("NNNNN",$Q),Ct(["N","NN","NNN","NNNN","NNNNN"],function(v,b,T,k){var M=T._locale.erasParse(v,k,T._strict);M?g(T).era=M:g(T).invalidEra=v}),Ee("y",Un),Ee("yy",Un),Ee("yyy",Un),Ee("yyyy",Un),Ee("yo",UQ),Ct(["y","yy","yyy","yyyy"],D),Ct(["yo"],function(v,b,T,k){var M;T._locale._eraYearOrdinalRegex&&(M=v.match(T._locale._eraYearOrdinalRegex)),T._locale.eraYearOrdinalParse?b[D]=T._locale.eraYearOrdinalParse(v,M):b[D]=parseInt(v,10)});function kQ(v,b){var T,k,M,ee=this._eras||Jo("en")._eras;for(T=0,k=ee.length;T<k;++T){switch(typeof ee[T].since){case"string":M=n(ee[T].since).startOf("day"),ee[T].since=M.valueOf();break}switch(typeof ee[T].until){case"undefined":ee[T].until=1/0;break;case"string":M=n(ee[T].until).startOf("day").valueOf(),ee[T].until=M.valueOf();break}}return ee}function jQ(v,b,T){var k,M,ee=this.eras(),ve,nt,St;for(v=v.toUpperCase(),k=0,M=ee.length;k<M;++k)if(ve=ee[k].name.toUpperCase(),nt=ee[k].abbr.toUpperCase(),St=ee[k].narrow.toUpperCase(),T)switch(b){case"N":case"NN":case"NNN":if(nt===v)return ee[k];break;case"NNNN":if(ve===v)return ee[k];break;case"NNNNN":if(St===v)return ee[k];break}else if([ve,nt,St].indexOf(v)>=0)return ee[k]}function AQ(v,b){var T=v.since<=v.until?1:-1;return b===void 0?n(v.since).year():n(v.since).year()+(b-v.offset)*T}function PQ(){var v,b,T,k=this.localeData().eras();for(v=0,b=k.length;v<b;++v)if(T=this.clone().startOf("day").valueOf(),k[v].since<=T&&T<=k[v].until||k[v].until<=T&&T<=k[v].since)return k[v].name;return""}function OQ(){var v,b,T,k=this.localeData().eras();for(v=0,b=k.length;v<b;++v)if(T=this.clone().startOf("day").valueOf(),k[v].since<=T&&T<=k[v].until||k[v].until<=T&&T<=k[v].since)return k[v].narrow;return""}function DQ(){var v,b,T,k=this.localeData().eras();for(v=0,b=k.length;v<b;++v)if(T=this.clone().startOf("day").valueOf(),k[v].since<=T&&T<=k[v].until||k[v].until<=T&&T<=k[v].since)return k[v].abbr;return""}function RQ(){var v,b,T,k,M=this.localeData().eras();for(v=0,b=M.length;v<b;++v)if(T=M[v].since<=M[v].until?1:-1,k=this.clone().startOf("day").valueOf(),M[v].since<=k&&k<=M[v].until||M[v].until<=k&&k<=M[v].since)return(this.year()-n(M[v].since).year())*T+M[v].offset;return this.year()}function IQ(v){return l(this,"_erasNameRegex")||FS.call(this),v?this._erasNameRegex:this._erasRegex}function MQ(v){return l(this,"_erasAbbrRegex")||FS.call(this),v?this._erasAbbrRegex:this._erasRegex}function FQ(v){return l(this,"_erasNarrowRegex")||FS.call(this),v?this._erasNarrowRegex:this._erasRegex}function MS(v,b){return b.erasAbbrRegex(v)}function LQ(v,b){return b.erasNameRegex(v)}function $Q(v,b){return b.erasNarrowRegex(v)}function UQ(v,b){return b._eraYearOrdinalRegex||Un}function FS(){var v=[],b=[],T=[],k=[],M,ee,ve,nt,St,qt=this.eras();for(M=0,ee=qt.length;M<ee;++M)ve=Zr(qt[M].name),nt=Zr(qt[M].abbr),St=Zr(qt[M].narrow),b.push(ve),v.push(nt),T.push(St),k.push(ve),k.push(nt),k.push(St);this._erasRegex=new RegExp("^("+k.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+b.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+v.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+T.join("|")+")","i")}I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100});function jx(v,b){I(0,[v,v.length],0,b)}jx("gggg","weekYear"),jx("ggggg","weekYear"),jx("GGGG","isoWeekYear"),jx("GGGGG","isoWeekYear"),Ee("G",io),Ee("g",io),Ee("GG",$t,Me),Ee("gg",$t,Me),Ee("GGGG",qn,jt),Ee("gggg",qn,jt),Ee("GGGGG",za,pn),Ee("ggggg",za,pn),us(["gggg","ggggg","GGGG","GGGGG"],function(v,b,T,k){b[k.substr(0,2)]=_t(v)}),us(["gg","GG"],function(v,b,T,k){b[k]=n.parseTwoDigitYear(v)});function BQ(v){return uD.call(this,v,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function WQ(v){return uD.call(this,v,this.isoWeek(),this.isoWeekday(),1,4)}function VQ(){return Zo(this.year(),1,4)}function zQ(){return Zo(this.isoWeekYear(),1,4)}function HQ(){var v=this.localeData()._week;return Zo(this.year(),v.dow,v.doy)}function YQ(){var v=this.localeData()._week;return Zo(this.weekYear(),v.dow,v.doy)}function uD(v,b,T,k,M){var ee;return v==null?Op(this,k,M).year:(ee=Zo(v,k,M),b>ee&&(b=ee),GQ.call(this,v,b,T,k,M))}function GQ(v,b,T,k,M){var ee=BO(v,b,T,k,M),ve=Pp(ee.year,0,ee.dayOfYear);return this.year(ve.getUTCFullYear()),this.month(ve.getUTCMonth()),this.date(ve.getUTCDate()),this}I("Q",0,"Qo","quarter"),Ee("Q",je),Ct("Q",function(v,b){b[G]=(_t(v)-1)*3});function qQ(v){return v==null?Math.ceil((this.month()+1)/3):this.month((v-1)*3+this.month()%3)}I("D",["DD",2],"Do","date"),Ee("D",$t,Ha),Ee("DD",$t,Me),Ee("Do",function(v,b){return v?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient}),Ct(["D","DD"],B),Ct("Do",function(v,b){b[B]=_t(v.match($t)[0])});var dD=Ve("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear"),Ee("DDD",Es),Ee("DDDD",bt),Ct(["DDD","DDDD"],function(v,b,T){T._dayOfYear=_t(v)});function KQ(v){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return v==null?b:this.add(v-b,"d")}I("m",["mm",2],0,"minute"),Ee("m",$t,Kn),Ee("mm",$t,Me),Ct(["m","mm"],q);var XQ=Ve("Minutes",!1);I("s",["ss",2],0,"second"),Ee("s",$t,Kn),Ee("ss",$t,Me),Ct(["s","ss"],K);var QQ=Ve("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return this.millisecond()*10}),I(0,["SSSSS",5],0,function(){return this.millisecond()*100}),I(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),I(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),I(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),I(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ee("S",Es,je),Ee("SS",Es,Me),Ee("SSS",Es,bt);var mc,fD;for(mc="SSSS";mc.length<=9;mc+="S")Ee(mc,Un);function ZQ(v,b){b[le]=_t(("0."+v)*1e3)}for(mc="S";mc.length<=9;mc+="S")Ct(mc,ZQ);fD=Ve("Milliseconds",!1),I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");function JQ(){return this._isUTC?"UTC":""}function eZ(){return this._isUTC?"Coordinated Universal Time":""}var De=N.prototype;De.add=YX,De.calendar=JX,De.clone=eQ,De.diff=oQ,De.endOf=gQ,De.format=dQ,De.from=fQ,De.fromNow=hQ,De.to=mQ,De.toNow=pQ,De.get=et,De.invalidAt=CQ,De.isAfter=tQ,De.isBefore=rQ,De.isBetween=nQ,De.isSame=sQ,De.isSameOrAfter=aQ,De.isSameOrBefore=iQ,De.isValid=EQ,De.lang=aD,De.locale=sD,De.localeData=iD,De.max=EX,De.min=SX,De.parsingFlags=TQ,De.set=Et,De.startOf=vQ,De.subtract=GX,De.toArray=wQ,De.toObject=bQ,De.toDate=_Q,De.toISOString=cQ,De.inspect=uQ,typeof Symbol<"u"&&Symbol.for!=null&&(De[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),De.toJSON=SQ,De.toString=lQ,De.unix=yQ,De.valueOf=xQ,De.creationData=NQ,De.eraName=PQ,De.eraNarrow=OQ,De.eraAbbr=DQ,De.eraYear=RQ,De.year=fe,De.isLeapYear=Pe,De.weekYear=BQ,De.isoWeekYear=WQ,De.quarter=De.quarters=qQ,De.month=$O,De.daysInMonth=_K,De.week=De.weeks=kK,De.isoWeek=De.isoWeeks=jK,De.weeksInYear=HQ,De.weeksInWeekYear=YQ,De.isoWeeksInYear=VQ,De.isoWeeksInISOWeekYear=zQ,De.date=dD,De.day=De.days=WK,De.weekday=VK,De.isoWeekday=zK,De.dayOfYear=KQ,De.hour=De.hours=QK,De.minute=De.minutes=XQ,De.second=De.seconds=QQ,De.millisecond=De.milliseconds=fD,De.utcOffset=DX,De.utc=IX,De.local=MX,De.parseZone=FX,De.hasAlignedHourOffset=LX,De.isDST=$X,De.isLocal=BX,De.isUtcOffset=WX,De.isUtc=JO,De.isUTC=JO,De.zoneAbbr=JQ,De.zoneName=eZ,De.dates=O("dates accessor is deprecated. Use date instead.",dD),De.months=O("months accessor is deprecated. Use month instead",$O),De.years=O("years accessor is deprecated. Use year instead",fe),De.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",RX),De.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",UX);function tZ(v){return Mr(v*1e3)}function rZ(){return Mr.apply(null,arguments).parseZone()}function hD(v){return v}var nr=oe.prototype;nr.calendar=ae,nr.longDateFormat=Ue,nr.invalidDate=mt,nr.ordinal=ut,nr.preparse=hD,nr.postformat=hD,nr.relativeTime=ht,nr.pastFuture=wt,nr.set=J,nr.eras=kQ,nr.erasParse=jQ,nr.erasConvertYear=AQ,nr.erasAbbrRegex=MQ,nr.erasNameRegex=IQ,nr.erasNarrowRegex=FQ,nr.months=yi,nr.monthsShort=gK,nr.monthsParse=yK,nr.monthsRegex=bK,nr.monthsShortRegex=wK,nr.week=EK,nr.firstDayOfYear=NK,nr.firstDayOfWeek=CK,nr.weekdays=FK,nr.weekdaysMin=$K,nr.weekdaysShort=LK,nr.weekdaysParse=BK,nr.weekdaysRegex=HK,nr.weekdaysShortRegex=YK,nr.weekdaysMinRegex=GK,nr.isPM=KK,nr.meridiem=ZK;function Ax(v,b,T,k){var M=Jo(),ee=x().set(k,b);return M[T](ee,v)}function mD(v,b,T){if(d(v)&&(b=v,v=void 0),v=v||"",b!=null)return Ax(v,b,T,"month");var k,M=[];for(k=0;k<12;k++)M[k]=Ax(v,k,T,"month");return M}function LS(v,b,T,k){typeof v=="boolean"?(d(b)&&(T=b,b=void 0),b=b||""):(b=v,T=b,v=!1,d(b)&&(T=b,b=void 0),b=b||"");var M=Jo(),ee=v?M._week.dow:0,ve,nt=[];if(T!=null)return Ax(b,(T+ee)%7,k,"day");for(ve=0;ve<7;ve++)nt[ve]=Ax(b,(ve+ee)%7,k,"day");return nt}function nZ(v,b){return mD(v,b,"months")}function sZ(v,b){return mD(v,b,"monthsShort")}function aZ(v,b,T){return LS(v,b,T,"weekdays")}function iZ(v,b,T){return LS(v,b,T,"weekdaysShort")}function oZ(v,b,T){return LS(v,b,T,"weekdaysMin")}hc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(v){var b=v%10,T=_t(v%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return v+T}}),n.lang=O("moment.lang is deprecated. Use moment.locale instead.",hc),n.langData=O("moment.langData is deprecated. Use moment.localeData instead.",Jo);var el=Math.abs;function lZ(){var v=this._data;return this._milliseconds=el(this._milliseconds),this._days=el(this._days),this._months=el(this._months),v.milliseconds=el(v.milliseconds),v.seconds=el(v.seconds),v.minutes=el(v.minutes),v.hours=el(v.hours),v.months=el(v.months),v.years=el(v.years),this}function pD(v,b,T,k){var M=_i(b,T);return v._milliseconds+=k*M._milliseconds,v._days+=k*M._days,v._months+=k*M._months,v._bubble()}function cZ(v,b){return pD(this,v,b,1)}function uZ(v,b){return pD(this,v,b,-1)}function vD(v){return v<0?Math.floor(v):Math.ceil(v)}function dZ(){var v=this._milliseconds,b=this._days,T=this._months,k=this._data,M,ee,ve,nt,St;return v>=0&&b>=0&&T>=0||v<=0&&b<=0&&T<=0||(v+=vD($S(T)+b)*864e5,b=0,T=0),k.milliseconds=v%1e3,M=jr(v/1e3),k.seconds=M%60,ee=jr(M/60),k.minutes=ee%60,ve=jr(ee/60),k.hours=ve%24,b+=jr(ve/24),St=jr(gD(b)),T+=St,b-=vD($S(St)),nt=jr(T/12),T%=12,k.days=b,k.months=T,k.years=nt,this}function gD(v){return v*4800/146097}function $S(v){return v*146097/4800}function fZ(v){if(!this.isValid())return NaN;var b,T,k=this._milliseconds;if(v=ne(v),v==="month"||v==="quarter"||v==="year")switch(b=this._days+k/864e5,T=this._months+gD(b),v){case"month":return T;case"quarter":return T/3;case"year":return T/12}else switch(b=this._days+Math.round($S(this._months)),v){case"week":return b/7+k/6048e5;case"day":return b+k/864e5;case"hour":return b*24+k/36e5;case"minute":return b*1440+k/6e4;case"second":return b*86400+k/1e3;case"millisecond":return Math.floor(b*864e5)+k;default:throw new Error("Unknown unit "+v)}}function tl(v){return function(){return this.as(v)}}var xD=tl("ms"),hZ=tl("s"),mZ=tl("m"),pZ=tl("h"),vZ=tl("d"),gZ=tl("w"),xZ=tl("M"),yZ=tl("Q"),_Z=tl("y"),wZ=xD;function bZ(){return _i(this)}function SZ(v){return v=ne(v),this.isValid()?this[v+"s"]():NaN}function ed(v){return function(){return this.isValid()?this._data[v]:NaN}}var EZ=ed("milliseconds"),TZ=ed("seconds"),CZ=ed("minutes"),NZ=ed("hours"),kZ=ed("days"),jZ=ed("months"),AZ=ed("years");function PZ(){return jr(this.days()/7)}var rl=Math.round,Wf={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function OZ(v,b,T,k,M){return M.relativeTime(b||1,!!T,v,k)}function DZ(v,b,T,k){var M=_i(v).abs(),ee=rl(M.as("s")),ve=rl(M.as("m")),nt=rl(M.as("h")),St=rl(M.as("d")),qt=rl(M.as("M")),Ts=rl(M.as("w")),nl=rl(M.as("y")),pc=ee<=T.ss&&["s",ee]||ee<T.s&&["ss",ee]||ve<=1&&["m"]||ve<T.m&&["mm",ve]||nt<=1&&["h"]||nt<T.h&&["hh",nt]||St<=1&&["d"]||St<T.d&&["dd",St];return T.w!=null&&(pc=pc||Ts<=1&&["w"]||Ts<T.w&&["ww",Ts]),pc=pc||qt<=1&&["M"]||qt<T.M&&["MM",qt]||nl<=1&&["y"]||["yy",nl],pc[2]=b,pc[3]=+v>0,pc[4]=k,OZ.apply(null,pc)}function RZ(v){return v===void 0?rl:typeof v=="function"?(rl=v,!0):!1}function IZ(v,b){return Wf[v]===void 0?!1:b===void 0?Wf[v]:(Wf[v]=b,v==="s"&&(Wf.ss=b-1),!0)}function MZ(v,b){if(!this.isValid())return this.localeData().invalidDate();var T=!1,k=Wf,M,ee;return typeof v=="object"&&(b=v,v=!1),typeof v=="boolean"&&(T=v),typeof b=="object"&&(k=Object.assign({},Wf,b),b.s!=null&&b.ss==null&&(k.ss=b.s-1)),M=this.localeData(),ee=DZ(this,!T,k,M),T&&(ee=M.pastFuture(+this,ee)),M.postformat(ee)}var US=Math.abs;function Vf(v){return(v>0)-(v<0)||+v}function Px(){if(!this.isValid())return this.localeData().invalidDate();var v=US(this._milliseconds)/1e3,b=US(this._days),T=US(this._months),k,M,ee,ve,nt=this.asSeconds(),St,qt,Ts,nl;return nt?(k=jr(v/60),M=jr(k/60),v%=60,k%=60,ee=jr(T/12),T%=12,ve=v?v.toFixed(3).replace(/\.?0+$/,""):"",St=nt<0?"-":"",qt=Vf(this._months)!==Vf(nt)?"-":"",Ts=Vf(this._days)!==Vf(nt)?"-":"",nl=Vf(this._milliseconds)!==Vf(nt)?"-":"",St+"P"+(ee?qt+ee+"Y":"")+(T?qt+T+"M":"")+(b?Ts+b+"D":"")+(M||k||v?"T":"")+(M?nl+M+"H":"")+(k?nl+k+"M":"")+(v?nl+ve+"S":"")):"P0D"}var Xt=Ex.prototype;Xt.isValid=jX,Xt.abs=lZ,Xt.add=cZ,Xt.subtract=uZ,Xt.as=fZ,Xt.asMilliseconds=xD,Xt.asSeconds=hZ,Xt.asMinutes=mZ,Xt.asHours=pZ,Xt.asDays=vZ,Xt.asWeeks=gZ,Xt.asMonths=xZ,Xt.asQuarters=yZ,Xt.asYears=_Z,Xt.valueOf=wZ,Xt._bubble=dZ,Xt.clone=bZ,Xt.get=SZ,Xt.milliseconds=EZ,Xt.seconds=TZ,Xt.minutes=CZ,Xt.hours=NZ,Xt.days=kZ,Xt.weeks=PZ,Xt.months=jZ,Xt.years=AZ,Xt.humanize=MZ,Xt.toISOString=Px,Xt.toString=Px,Xt.toJSON=Px,Xt.locale=sD,Xt.localeData=iD,Xt.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Px),Xt.lang=aD,I("X",0,0,"unix"),I("x",0,0,"valueOf"),Ee("x",io),Ee("X",Qu),Ct("X",function(v,b,T){T._d=new Date(parseFloat(v)*1e3)}),Ct("x",function(v,b,T){T._d=new Date(_t(v))});//! moment.js
return n.version="2.30.1",s(Mr),n.fn=De,n.min=TX,n.max=CX,n.now=NX,n.utc=x,n.unix=tZ,n.months=nZ,n.isDate=f,n.locale=hc,n.invalid=S,n.duration=_i,n.isMoment=A,n.weekdays=aZ,n.parseZone=rZ,n.localeData=Jo,n.isDuration=Tx,n.monthsShort=sZ,n.weekdaysMin=oZ,n.defineLocale=NS,n.updateLocale=rX,n.locales=nX,n.weekdaysShort=iZ,n.normalizeUnits=ne,n.relativeTimeRounding=RZ,n.relativeTimeThreshold=IZ,n.calendarFormat=ZX,n.prototype=De,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})}(T2)),T2.exports}(function(e,t){(function(r,n){n(typeof jq=="function"?eHe():r.moment)})(Zs,function(r){//! moment.js locale configuration
var n="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),s="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,l=r.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(c,u){return c?/-MMM-/.test(u)?s[c.month()]:n[c.month()]:n},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4},invalidDate:"Fecha inválida"});return l})})();Ke.locale("es");const tHe=J9e(Ke),rHe=({canchas:e,reservas:t,onReservaClick:r,onNuevaReserva:n,onReservaUpdate:s})=>{const[a,i]=w.useState(en.WEEK),[l,c]=w.useState(new Date),u=w.useMemo(()=>t.map(m=>{e.find(_=>_.id===m.canchaId);let g="#6b7280";switch(m.estado){case"pendiente":g="#eab308";break;case"pagado":g="#22c55e";break;case"completado":g="#3b82f6";break;case"cancelado":g="#ef4444";break;case"no-show":g="#6b7280";break}return{id:m.id,title:`${m.nombreCliente} ${m.esAportante?"(A)":""}`,start:new Date(m.fechaInicio),end:new Date(m.fechaFin),resource:m.canchaId,reserva:m,color:g}}),[t,e]),d=w.useMemo(()=>e.map(m=>({resourceId:m.id,resourceTitle:`${m.nombre} (${m.ubicacion==="boulevard"?"Boulevard":"Quinta Llana"})`})),[e]),f=({start:m,end:g,resource:_})=>{n(m,g)},h=m=>{r(m.reserva)},p=({event:m})=>o.jsxs("div",{className:"p-1 text-xs text-white rounded cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:m.color},title:`${m.reserva.nombreCliente} - ${m.reserva.estado} - S/${m.reserva.precio.total}`,children:[o.jsx("div",{className:"font-medium truncate",children:m.title}),o.jsxs("div",{className:"text-xs opacity-90",children:["S/",m.reserva.precio.total," - ",m.reserva.estado]})]}),x={allDay:"Todo el día",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"Día",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay reservas en este rango",showMore:m=>`+ Ver ${m} más`};return o.jsxs("div",{className:"h-[600px] w-full",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>c(Ke(l).subtract(1,a===en.DAY?"day":"week").toDate()),children:o.jsx(w$,{className:"h-4 w-4"})}),o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>c(new Date),children:"Hoy"}),o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>c(Ke(l).add(1,a===en.DAY?"day":"week").toDate()),children:o.jsx(b$,{className:"h-4 w-4"})}),o.jsx("span",{className:"font-medium",children:Ke(l).format(a===en.DAY?"dddd, D [de] MMMM":"MMMM YYYY")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(_e,{variant:a===en.DAY?"default":"outline",size:"sm",onClick:()=>i(en.DAY),children:[o.jsx(gs,{className:"h-4 w-4 mr-1"}),"Día"]}),o.jsxs(_e,{variant:a===en.WEEK?"default":"outline",size:"sm",onClick:()=>i(en.WEEK),children:[o.jsx(Ll,{className:"h-4 w-4 mr-1"}),"Semana"]})]})]}),o.jsx("div",{className:"border rounded-lg overflow-hidden bg-white",children:o.jsx(G9e,{localizer:tHe,events:u,resources:d,resourceIdAccessor:"resourceId",resourceTitleAccessor:"resourceTitle",startAccessor:"start",endAccessor:"end",titleAccessor:"title",view:a,onView:i,date:l,onNavigate:c,onSelectSlot:f,onSelectEvent:h,selectable:!0,resizable:!0,components:{event:p},messages:x,min:new Date(2023,0,1,6,0),max:new Date(2023,0,1,22,0),step:30,timeslots:2,className:"h-full",formats:{timeGutterFormat:"HH:mm",eventTimeRangeFormat:({start:m,end:g})=>`${Ke(m).format("HH:mm")} - ${Ke(g).format("HH:mm")}`}})}),o.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[o.jsxs("p",{children:["💡 ",o.jsx("strong",{children:"Tip:"})," Haz clic en un espacio libre para crear una nueva reserva, o haz clic en una reserva existente para editarla."]}),o.jsxs("p",{children:["📋 ",o.jsx("strong",{children:"Leyenda:"})," (A) = Aportante"]})]})]})},nHe=tY(),Aq=async()=>{try{const e=await Mt(Ge(qe,"deportes/canchas"));if(!e.exists())return[];const t=e.val();return Object.keys(t).map(r=>({id:r,...t[r]}))}catch(e){throw console.error("Error al obtener canchas:",e),e}},eO=async e=>{try{const t=await Mt(Ge(qe,`deportes/canchas/${e}`));return t.exists()?{id:e,...t.val()}:null}catch(t){throw console.error("Error al obtener cancha:",t),t}},sHe=async e=>{try{const t=ro(Ge(qe,"deportes/canchas"));return await pr(t,{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),t.key}catch(t){throw console.error("Error al crear cancha:",t),t}},dS=async e=>{try{const t=await Mt(Ge(qe,"deportes/reservas"));if(!t.exists())return[];const r=t.val();let n=Object.keys(r).map(s=>({id:s,...r[s]}));return e!=null&&e.fechaInicio&&(n=n.filter(s=>s.fechaInicio>=e.fechaInicio)),e!=null&&e.fechaFin&&(n=n.filter(s=>s.fechaFin<=e.fechaFin)),e!=null&&e.estado&&(n=n.filter(s=>s.estado===e.estado)),n.sort((s,a)=>s.fechaInicio.localeCompare(a.fechaInicio))}catch(t){throw console.error("Error al obtener reservas:",t),t}},Pq=async e=>{try{const t=await Mt(Ge(qe,`deportes/reservas/${e}`));return t.exists()?{id:e,...t.val()}:null}catch(t){throw console.error("Error al obtener reserva:",t),t}},aHe=async(e,t)=>{var r,n;try{if(!await tO(e.canchaId,e.fechaInicio,e.fechaFin))throw new Error("El horario seleccionado no está disponible");const a=await eO(e.canchaId);if(!a)throw new Error("Cancha no encontrada");const i=new Date(e.fechaInicio),c=(new Date(e.fechaFin).getTime()-i.getTime())/(1e3*60*60),u=Oq(a,c,e.esAportante),d={...e,duracionHoras:c,estado:"pendiente",precio:u,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:t,...((r=e.recurrente)==null?void 0:r.esRecurrente)&&{recurrente:{...e.recurrente,reservasGeneradas:[]}}},f=ro(Ge(qe,"deportes/reservas"));return await pr(f,d),(n=e.recurrente)!=null&&n.esRecurrente&&await cHe(f.key,d,e.recurrente),f.key}catch(s){throw console.error("Error al crear reserva:",s),s}},L3=async(e,t)=>{try{await sc(Ge(qe,`deportes/reservas/${e}`),{...t,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al actualizar reserva:",r),r}},iHe=async(e,t,r)=>{try{const n=await Pq(e);if(!n)throw new Error("Reserva no encontrada");let s;if(t.voucher){const d=Date.now(),f=`vouchers/deportes/${e}_${d}.${t.voucher.name.split(".").pop()}`,h=eY(nHe,f);await ZH(h,t.voucher),s=await JH(h)}const a=t.esPrepago?t.montoPrepago:n.precio.total,i=t.esPrepago?n.precio.total-t.montoPrepago:0,l={metodoPago:t.metodoPago,numeroOperacion:t.numeroOperacion,voucherUrl:s,fechaPago:new Date().toISOString(),esPrepago:t.esPrepago||!1,montoPrepago:t.montoPrepago,saldoPendiente:i};await L3(e,{estado:i>0?"pendiente":"pagado",pago:l});const c=await eO(n.canchaId),u=await qEe({concepto:`Reserva ${c==null?void 0:c.nombre} - ${n.nombreCliente} (${(c==null?void 0:c.tipo)==="futbol"?"Fútbol":"Vóley"})`,categoria:"otros",monto:a,fecha:new Date().toISOString().split("T")[0],metodoPago:t.metodoPago,numeroOperacion:t.numeroOperacion,archivoUrl:s},r);await L3(e,{ingresoId:u})}catch(n){throw console.error("Error al registrar pago:",n),n}},tO=async(e,t,r,n)=>{try{const s=await dS({canchaId:e}),a=new Date(t),i=new Date(r);return s.filter(c=>{if(c.id===n||c.estado==="cancelado"||c.estado==="no-show")return!1;const u=new Date(c.fechaInicio),d=new Date(c.fechaFin);return!(i<=u||a>=d)}).length===0}catch(s){return console.error("Error al validar disponibilidad:",s),!1}},oHe=async(e,t)=>{try{const r=await Dq(),n=t.split("T")[0]+"T00:00:00.000Z",s=t.split("T")[0]+"T23:59:59.999Z";return(await dS({fechaInicio:n,fechaFin:s})).filter(l=>l.dni===e&&l.estado!=="cancelado"&&l.estado!=="no-show").length<r.limitesReservas.reservasPorPersonaPorDia}catch(r){return console.error("Error al validar límites:",r),!1}},Oq=(e,t,r)=>{const n=e.configuracion.precioHora*t;let s=0;t<=1?s=e.configuracion.modificadorLuz["1h"]:t<=2?s=e.configuracion.modificadorLuz["2h"]:s=e.configuracion.modificadorLuz["3h"];const a=r?(n+s)*(e.configuracion.tarifaAportante/100):0,i=n+s-a;return{base:n,luz:s,descuentoAportante:a,total:Math.max(0,i)}},Dq=async()=>{try{const e=await Mt(Ge(qe,"deportes/configuracion"));return e.exists()?e.val():{limitesReservas:{reservasPorPersonaPorDia:2,horasAntesParaCancelar:2,horasAntesParaNoShow:1},notificaciones:{whatsappTemplate:"Hola {nombre}, tu reserva para {cancha} el {fecha} de {horaInicio} a {horaFin} está confirmada. Total: S/{total}",recordatorioHoras:[24,2]},horarios:{apertura:"06:00",cierre:"22:00",ultimaReserva:"21:00"},depositos:{requiereDeposito:!1,montoDeposito:50,equipos:{red:!0,pelotas:!0,tableros:!1}}}}catch(e){throw console.error("Error al obtener configuración:",e),e}},lHe=async e=>{try{await sc(Ge(qe,"deportes/configuracion"),e)}catch(t){throw console.error("Error al actualizar configuración:",t),t}},cHe=async(e,t,r)=>{const n=[e],s=new Date(t.fechaInicio),a=new Date(r.fechaFin);let i;switch(r.frecuencia){case"semanal":i=7;break;case"quincenal":i=14;break;case"mensual":i=30;break}let l=new Date(s);for(l.setDate(l.getDate()+i);l<=a;){const c=new Date(t.fechaFin).getTime()-new Date(t.fechaInicio).getTime(),u=new Date(l.getTime()+c);if(await tO(t.canchaId,l.toISOString(),u.toISOString())){const f={...t,fechaInicio:l.toISOString(),fechaFin:u.toISOString(),recurrente:{esRecurrente:!0,frecuencia:r.frecuencia,fechaFin:r.fechaFin,reservasGeneradas:[]}},h=ro(Ge(qe,"deportes/reservas"));await pr(h,f),n.push(h.key)}l.setDate(l.getDate()+i)}await sc(Ge(qe,`deportes/reservas/${e}/recurrente`),{reservasGeneradas:n})},uHe=async(e,t)=>{try{const r=await dS({fechaInicio:e,fechaFin:t}),n=await Aq(),s=r.filter(f=>f.estado==="pagado"||f.estado==="completado"),a=s.reduce((f,h)=>f+h.precio.total,0),i=s.reduce((f,h)=>(f[h.canchaId]=(f[h.canchaId]||0)+1,f),{}),l=Object.entries(i).map(([f,h])=>{var p;return{canchaId:f,nombre:((p=n.find(x=>x.id===f))==null?void 0:p.nombre)||"Desconocida",reservas:h}}).sort((f,h)=>h.reservas-f.reservas).slice(0,5),c=s.reduce((f,h)=>{const x=`${new Date(h.fechaInicio).getHours().toString().padStart(2,"0")}:00`;return f[x]=(f[x]||0)+1,f},{}),u=Object.entries(c).map(([f,h])=>({hora:f,reservas:h})).sort((f,h)=>h.reservas-f.reservas).slice(0,8),d=Math.min(100,s.length/(n.length*30)*100);return{reservasDelMes:s.length,ingresosTotales:a,canchasMasUsadas:l,horariosPopulares:u,ocupacionPromedio:d}}catch(r){throw console.error("Error al obtener estadísticas:",r),r}},$3=async e=>{try{const t=await Pq(e);if(!t)throw new Error("Reserva no encontrada");const r=await eO(t.canchaId);if(!r)throw new Error("Cancha no encontrada");const n=`DEP-${e.toUpperCase().slice(-8)}`,s=`${window.location.origin}/deportes/reserva/${e}`;return{reservaId:e,numeroComprobante:n,fechaEmision:new Date().toISOString(),cliente:{nombre:t.nombreCliente,dni:t.dni,telefono:t.telefono},cancha:{nombre:r.nombre,ubicacion:r.ubicacion==="boulevard"?"Boulevard":"Quinta Llana"},horario:{fecha:new Date(t.fechaInicio).toLocaleDateString(),inicio:new Date(t.fechaInicio).toLocaleTimeString("es-PE",{hour:"2-digit",minute:"2-digit"}),fin:new Date(t.fechaFin).toLocaleTimeString("es-PE",{hour:"2-digit",minute:"2-digit"}),duracion:t.duracionHoras},precio:t.precio,qrCode:s,observaciones:t.observaciones}}catch(t){throw console.error("Error al generar comprobante:",t),t}},dHe=(e,t)=>{const r=`¡Hola ${t.cliente.nombre}! 

Tu reserva está confirmada:
🏟️ *${t.cancha.nombre}* (${t.cancha.ubicacion})
📅 ${t.horario.fecha}
⏰ ${t.horario.inicio} - ${t.horario.fin}
💰 Total: S/${t.precio.total}

Comprobante: ${t.numeroComprobante}

¡Nos vemos pronto! 🏆`;return`https://wa.me/51${e.replace(/\D/g,"")}?text=${encodeURIComponent(r)}`},Rq=({onSeleccionar:e,className:t})=>{const[r,n]=w.useState(""),[s,a]=w.useState([]),[i,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null);w.useEffect(()=>{const m=setTimeout(async()=>{if(r.length<3){a([]),u(!1);return}l(!0);try{const _=(await n9(r)).slice(0,5).map(y=>{var S,E;return{id:y.id,nombre:y.nombre,apellidos:y.apellidos,dni:y.dni,telefono:(E=(S=y.telefonos)==null?void 0:S[0])==null?void 0:E.numero,aporta:!0}});a(_),u(!0)}catch(g){console.error("Error al buscar empadronados:",g),a([])}finally{l(!1)}},300);return()=>clearTimeout(m)},[r]);const h=x=>{f(x),n(`${x.nombre} ${x.apellidos}`),u(!1),e(x)},p=()=>{f(null),n(""),a([]),u(!1)};return o.jsxs("div",{className:t,children:[o.jsx(be,{htmlFor:"busquedaEmpadronado",children:"Buscar Empadronado"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ou,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{id:"busquedaEmpadronado",value:r,onChange:x=>n(x.target.value),placeholder:"Buscar por nombre, DNI o teléfono...",className:"pl-10"})]}),c&&o.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-background border rounded-md shadow-lg max-h-60 overflow-y-auto",children:[i&&o.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"Buscando..."}),!i&&s.length===0&&r.length>=3&&o.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"No se encontraron empadronados"}),!i&&s.map(x=>o.jsx("div",{className:"p-3 hover:bg-accent cursor-pointer border-b last:border-b-0",onClick:()=>h(x),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:[x.nombre," ",x.apellidos]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["DNI: ",x.dni,x.telefono&&` • Tel: ${x.telefono}`]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[x.aporta&&o.jsx(pt,{variant:"secondary",children:"Aportante"}),o.jsx(Du,{className:"h-4 w-4 text-muted-foreground"})]})]})},x.id))]}),d&&!c&&o.jsx(ke,{className:"mt-2 border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950",children:o.jsx(Ae,{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(y$,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-green-800 dark:text-green-200",children:[d.nombre," ",d.apellidos]}),o.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:["DNI: ",d.dni,d.telefono&&` • Tel: ${d.telefono}`]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[d.aporta&&o.jsx(pt,{variant:"secondary",children:"Aportante"}),o.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:p,children:"Cambiar"})]})]})})})]})]})},fHe=({open:e,onOpenChange:t,canchas:r,onSuccess:n,fechaInicioPredeterminada:s,fechaFinPredeterminada:a})=>{var P,N;const[i,l]=w.useState(!1),[c,u]=w.useState({canchaId:"",nombreCliente:"",dni:"",telefono:"",fechaInicio:"",fechaFin:"",esAportante:!1,observaciones:"",direccion:""}),[d,f]=w.useState(!0),[h,p]=w.useState(!1),[x,m]=w.useState(null);w.useEffect(()=>{e&&(console.log("Modal abierto, canchas disponibles:",r),u({canchaId:r.length>0?r[0].id:"",nombreCliente:"",dni:"",telefono:"",fechaInicio:s?s.toISOString().slice(0,16):"",fechaFin:a?a.toISOString().slice(0,16):"",esAportante:!1,observaciones:"",direccion:""}),f(!0),p(!1),m(null))},[e,r,s,a]),w.useEffect(()=>{g()},[c.canchaId,c.fechaInicio,c.fechaFin,c.esAportante]);const g=()=>{if(!c.canchaId||!c.fechaInicio||!c.fechaFin){m(null);return}const A=r.find(Y=>Y.id===c.canchaId);if(!A)return;const j=new Date(c.fechaInicio),W=(new Date(c.fechaFin).getTime()-j.getTime())/(1e3*60*60);if(W<=0){m(null);return}const z=Oq(A,W,c.esAportante);m(z)},_=async A=>{if(A.preventDefault(),!!y()){l(!0);try{if(!await tO(c.canchaId,c.fechaInicio,c.fechaFin)){gt({title:"Horario no disponible",description:"El horario seleccionado está ocupado",variant:"destructive"});return}if(c.dni&&!await oHe(c.dni,c.fechaInicio)){gt({title:"Límite de reservas",description:"Se ha alcanzado el límite de reservas por día para este usuario",variant:"destructive"});return}await aHe(c,"current-user"),gt({title:"Reserva creada",description:"La reserva se ha creado exitosamente"}),n()}catch(j){gt({title:"Error",description:j.message||"No se pudo crear la reserva",variant:"destructive"})}finally{l(!1)}}},y=()=>{if(!c.canchaId||!c.nombreCliente||!c.telefono||!c.fechaInicio||!c.fechaFin)return gt({title:"Campos requeridos",description:"Por favor complete todos los campos obligatorios",variant:"destructive"}),!1;const A=new Date(c.fechaInicio),j=new Date(c.fechaFin);if(j<=A)return gt({title:"Horario inválido",description:"La hora de fin debe ser posterior a la hora de inicio",variant:"destructive"}),!1;const O=(j.getTime()-A.getTime())/(1e3*60*60),W=r.find(z=>z.id===c.canchaId);if(W){if(O<W.configuracion.horaMinima)return gt({title:"Duración mínima",description:`La duración mínima es ${W.configuracion.horaMinima} hora(s)`,variant:"destructive"}),!1;if(O>W.configuracion.horaMaxima)return gt({title:"Duración máxima",description:`La duración máxima es ${W.configuracion.horaMaxima} hora(s)`,variant:"destructive"}),!1}return!0},S=A=>{u(j=>({...j,nombreCliente:`${A.nombre} ${A.apellidos}`,dni:A.dni,telefono:A.telefono||"",esAportante:A.aporta||!1}))},E=()=>{f(!d),u(A=>({...A,nombreCliente:"",dni:"",telefono:"",direccion:"",esAportante:!1}))},C=r.find(A=>A.id===c.canchaId);return o.jsx(fi,{open:e,onOpenChange:t,children:o.jsxs(Ua,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Ba,{children:[o.jsxs(Wa,{className:"flex items-center gap-2",children:[o.jsx(gs,{className:"h-5 w-5"}),"Nueva Reserva"]}),o.jsx(Cf,{children:"Complete los datos para crear una nueva reserva"})]}),o.jsxs("form",{onSubmit:_,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center gap-2 text-lg",children:[o.jsx(Du,{className:"h-4 w-4"}),"Datos del Cliente"]})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-muted rounded-lg",children:[o.jsx(_e,{type:"button",variant:d?"default":"outline",size:"sm",onClick:()=>!d&&E(),children:"Empadronado"}),o.jsx(_e,{type:"button",variant:d?"outline":"default",size:"sm",onClick:()=>d&&E(),children:"No Empadronado"})]}),d?o.jsx(Rq,{onSeleccionar:S}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"nombreCliente",children:"Nombre Completo *"}),o.jsx(Ce,{id:"nombreCliente",value:c.nombreCliente,onChange:A=>u(j=>({...j,nombreCliente:A.target.value})),placeholder:"Nombre del cliente",required:!0})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"dni",children:"DNI"}),o.jsx(Ce,{id:"dni",value:c.dni,onChange:A=>u(j=>({...j,dni:A.target.value})),placeholder:"12345678"})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"telefono",children:"Teléfono *"}),o.jsx(Ce,{id:"telefono",value:c.telefono,onChange:A=>u(j=>({...j,telefono:A.target.value})),placeholder:"987654321",required:!0})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"direccion",children:"Dirección"}),o.jsx(Ce,{id:"direccion",value:c.direccion||"",onChange:A=>u(j=>({...j,direccion:A.target.value})),placeholder:"Dirección del cliente"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Is,{id:"esAportante",checked:c.esAportante,onCheckedChange:A=>u(j=>({...j,esAportante:A}))}),o.jsx(be,{htmlFor:"esAportante",children:"Es aportante"}),c.esAportante&&o.jsx(pt,{variant:"secondary",children:"Descuento aplicado"})]})]})]})]}),o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center gap-2 text-lg",children:[o.jsx(Ll,{className:"h-4 w-4"}),"Detalles de la Reserva"]})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"canchaId",children:"Cancha *"}),o.jsxs(hr,{value:c.canchaId,onValueChange:A=>u(j=>({...j,canchaId:A})),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar cancha"})}),o.jsx(fr,{className:"bg-background border shadow-lg z-50",children:r.filter(A=>A.activa).map(A=>o.jsxs(Te,{value:A.id,children:[A.nombre," - ",A.ubicacion==="boulevard"?"Boulevard":"Quinta Llana",A.tipo==="futbol"?" ⚽":" 🏐"]},A.id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"fechaInicio",children:"Fecha y Hora de Inicio *"}),o.jsx(Ce,{id:"fechaInicio",type:"datetime-local",value:c.fechaInicio,onChange:A=>u(j=>({...j,fechaInicio:A.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"fechaFin",children:"Fecha y Hora de Fin *"}),o.jsx(Ce,{id:"fechaFin",type:"datetime-local",value:c.fechaFin,onChange:A=>u(j=>({...j,fechaFin:A.target.value})),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"observaciones",children:"Observaciones"}),o.jsx(ai,{id:"observaciones",value:c.observaciones,onChange:A=>u(j=>({...j,observaciones:A.target.value})),placeholder:"Comentarios adicionales...",rows:3})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Is,{id:"recurrente",checked:h,onCheckedChange:p}),o.jsx(be,{htmlFor:"recurrente",children:"Reserva recurrente"})]}),h&&o.jsxs(ke,{className:"border-dashed",children:[o.jsx(Qe,{className:"pb-2",children:o.jsxs(Ze,{className:"text-sm flex items-center gap-2",children:[o.jsx(Nre,{className:"h-4 w-4"}),"Configuración Recurrente"]})}),o.jsxs(Ae,{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(be,{children:"Frecuencia"}),o.jsxs(hr,{value:((P=c.recurrente)==null?void 0:P.frecuencia)||"semanal",onValueChange:A=>u(j=>{var O;return{...j,recurrente:{esRecurrente:!0,frecuencia:A,fechaFin:((O=j.recurrente)==null?void 0:O.fechaFin)||""}}}),children:[o.jsx(dr,{children:o.jsx(mr,{})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"semanal",children:"Semanal"}),o.jsx(Te,{value:"quincenal",children:"Quincenal"}),o.jsx(Te,{value:"mensual",children:"Mensual"})]})]})]}),o.jsxs("div",{children:[o.jsx(be,{children:"Fecha Límite"}),o.jsx(Ce,{type:"date",value:((N=c.recurrente)==null?void 0:N.fechaFin)||"",onChange:A=>u(j=>{var O;return{...j,recurrente:{esRecurrente:!0,frecuencia:((O=j.recurrente)==null?void 0:O.frecuencia)||"semanal",fechaFin:A.target.value}}})})]})]})]})]})]})]}),x&&C&&o.jsxs(ke,{className:"border-primary",children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center gap-2 text-lg",children:[o.jsx(lre,{className:"h-4 w-4"}),"Resumen de Precio"]})}),o.jsxs(Ae,{children:[o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Precio Base"}),o.jsxs("p",{className:"text-lg font-medium",children:["S/",x.base.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Costo de Luz"}),o.jsxs("p",{className:"text-lg font-medium",children:["S/",x.luz.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Descuento Aportante"}),o.jsxs("p",{className:"text-lg font-medium text-green-600",children:["-S/",x.descuentoAportante.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),o.jsxs("p",{className:"text-xl font-bold text-primary",children:["S/",x.total.toFixed(2)]})]})]}),C&&o.jsxs("div",{className:"mt-4 pt-4 border-t",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Configuración de la cancha:"}),o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2 text-xs",children:[o.jsxs("span",{children:["Duración mín: ",C.configuracion.horaMinima,"h"]}),o.jsxs("span",{children:["Duración máx: ",C.configuracion.horaMaxima,"h"]}),o.jsxs("span",{children:["Descuento aportante: ",C.configuracion.tarifaAportante,"%"]})]})]})]})]})]}),o.jsxs(Wu,{children:[o.jsx(_e,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),o.jsx(_e,{type:"submit",onClick:_,disabled:i||!x,children:i?"Creando...":"Crear Reserva"})]})]})})},hHe=({open:e,onOpenChange:t,reserva:r,onSuccess:n})=>{const[s,a]=w.useState(!1),[i,l]=w.useState({metodoPago:"efectivo",numeroOperacion:"",esPrepago:!1,montoPrepago:0}),[c,u]=w.useState(null),d=async _=>{if(_.preventDefault(),!!f()){a(!0);try{await iHe(r.id,{...i,voucher:c},"current-user"),gt({title:"Pago registrado",description:"El pago se ha registrado exitosamente"}),n()}catch(y){gt({title:"Error",description:y.message||"No se pudo registrar el pago",variant:"destructive"})}finally{a(!1)}}},f=()=>i.metodoPago?i.metodoPago!=="efectivo"&&!i.numeroOperacion?(gt({title:"Número de operación requerido",description:"Ingrese el número de operación para pagos digitales",variant:"destructive"}),!1):i.metodoPago!=="efectivo"&&!c?(gt({title:"Voucher requerido",description:"Adjunte el comprobante de pago",variant:"destructive"}),!1):i.esPrepago&&(!i.montoPrepago||i.montoPrepago<=0)?(gt({title:"Monto de prepago inválido",description:"Ingrese un monto válido para el prepago",variant:"destructive"}),!1):i.esPrepago&&i.montoPrepago>=r.precio.total?(gt({title:"Monto de prepago inválido",description:"El prepago debe ser menor al total",variant:"destructive"}),!1):!0:(gt({title:"Método de pago requerido",description:"Seleccione un método de pago",variant:"destructive"}),!1),h=_=>{var S;const y=(S=_.target.files)==null?void 0:S[0];if(y){if(!["image/jpeg","image/png","image/gif","application/pdf"].includes(y.type)){gt({title:"Tipo de archivo no válido",description:"Solo se permiten imágenes (JPG, PNG, GIF) y PDFs",variant:"destructive"});return}if(y.size>5*1024*1024){gt({title:"Archivo muy grande",description:"El archivo no debe superar los 5MB",variant:"destructive"});return}u(y)}},p=async()=>{try{const _=await $3(r.id);console.log("Comprobante generado:",_),gt({title:"Comprobante generado",description:"El comprobante se ha creado exitosamente"})}catch{gt({title:"Error",description:"No se pudo generar el comprobante",variant:"destructive"})}},x=async()=>{try{const _=await $3(r.id),y=dHe(r.telefono,_);window.open(y,"_blank"),gt({title:"WhatsApp abierto",description:"El mensaje se ha preparado en WhatsApp"})}catch{gt({title:"Error",description:"No se pudo generar el enlace de WhatsApp",variant:"destructive"})}},m=i.esPrepago?i.montoPrepago:r.precio.total,g=i.esPrepago?r.precio.total-i.montoPrepago:0;return o.jsx(fi,{open:e,onOpenChange:t,children:o.jsxs(Ua,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Ba,{children:[o.jsxs(Wa,{className:"flex items-center gap-2",children:[o.jsx(fv,{className:"h-5 w-5"}),"Registrar Pago - Reserva #",r.id.slice(-8).toUpperCase()]}),o.jsx(Cf,{children:"Complete los datos del pago para esta reserva"})]}),o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsx(Ze,{className:"text-lg",children:"Detalles de la Reserva"})}),o.jsxs(Ae,{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliente"}),o.jsx("p",{className:"font-medium",children:r.nombreCliente}),r.esAportante&&o.jsx(pt,{variant:"secondary",className:"mt-1",children:"Aportante"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Teléfono"}),o.jsx("p",{className:"font-medium",children:r.telefono})]})]}),o.jsx(Xs,{}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Fecha y Hora"}),o.jsx("p",{className:"font-medium",children:new Date(r.fechaInicio).toLocaleDateString("es-PE")}),o.jsxs("p",{className:"text-sm",children:[new Date(r.fechaInicio).toLocaleTimeString("es-PE",{hour:"2-digit",minute:"2-digit"})," -",new Date(r.fechaFin).toLocaleTimeString("es-PE",{hour:"2-digit",minute:"2-digit"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Duración"}),o.jsxs("p",{className:"font-medium",children:[r.duracionHoras," hora(s)"]})]})]}),o.jsx(Xs,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Precio base:"}),o.jsxs("span",{children:["S/",r.precio.base.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Costo de luz:"}),o.jsxs("span",{children:["S/",r.precio.luz.toFixed(2)]})]}),r.precio.descuentoAportante>0&&o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsx("span",{children:"Descuento aportante:"}),o.jsxs("span",{children:["-S/",r.precio.descuentoAportante.toFixed(2)]})]}),o.jsx(Xs,{}),o.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["S/",r.precio.total.toFixed(2)]})]})]})]})]}),o.jsx("form",{onSubmit:d,className:"space-y-4",children:o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsx(Ze,{className:"text-lg",children:"Datos del Pago"})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"metodoPago",children:"Método de Pago *"}),o.jsxs(hr,{value:i.metodoPago,onValueChange:_=>l(y=>({...y,metodoPago:_})),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar método"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"efectivo",children:"💵 Efectivo"}),o.jsx(Te,{value:"transferencia",children:"🏦 Transferencia"}),o.jsx(Te,{value:"yape",children:"📱 Yape"}),o.jsx(Te,{value:"plin",children:"📱 Plin"})]})]})]}),i.metodoPago!=="efectivo"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"numeroOperacion",children:"Número de Operación *"}),o.jsx(Ce,{id:"numeroOperacion",value:i.numeroOperacion,onChange:_=>l(y=>({...y,numeroOperacion:_.target.value})),placeholder:"Ingrese el número de operación",required:!0})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"voucher",children:"Comprobante de Pago *"}),o.jsxs("div",{className:"mt-1",children:[o.jsx(Ce,{id:"voucher",type:"file",accept:"image/*,.pdf",onChange:h,className:"cursor-pointer"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Formatos permitidos: JPG, PNG, GIF, PDF (máx. 5MB)"})]}),c&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm",children:[o.jsx(vre,{className:"h-4 w-4"}),o.jsx("span",{children:c.name}),o.jsxs(pt,{variant:"outline",children:[(c.size/1024/1024).toFixed(2)," MB"]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Is,{id:"esPrepago",checked:i.esPrepago,onCheckedChange:_=>l(y=>({...y,esPrepago:_}))}),o.jsx(be,{htmlFor:"esPrepago",children:"Es un prepago (seña)"})]}),i.esPrepago&&o.jsxs("div",{children:[o.jsx(be,{htmlFor:"montoPrepago",children:"Monto del Prepago *"}),o.jsx(Ce,{id:"montoPrepago",type:"number",step:"0.01",min:"1",max:r.precio.total-1,value:i.montoPrepago,onChange:_=>l(y=>({...y,montoPrepago:parseFloat(_.target.value)||0})),placeholder:"0.00"})]}),i.esPrepago&&i.montoPrepago>0&&o.jsx(ke,{className:"border-orange-200 bg-orange-50",children:o.jsx(Ae,{className:"p-3",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Monto a pagar ahora:"}),o.jsxs("p",{className:"font-bold text-lg",children:["S/",m.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Saldo pendiente:"}),o.jsxs("p",{className:"font-bold text-lg text-orange-600",children:["S/",g.toFixed(2)]})]})]})})})]})]})}),o.jsxs(Wu,{className:"flex-col sm:flex-row gap-2",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(_e,{type:"button",variant:"outline",onClick:p,className:"gap-2",children:[o.jsx(um,{className:"h-4 w-4"}),"Generar Comprobante"]}),o.jsxs(_e,{type:"button",variant:"outline",onClick:x,className:"gap-2",children:[o.jsx(pv,{className:"h-4 w-4"}),"Enviar WhatsApp"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(_e,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),o.jsx(_e,{type:"submit",onClick:d,disabled:s,children:s?"Registrando...":"Registrar Pago"})]})]})]})})},mHe=({open:e,onOpenChange:t,onSuccess:r})=>{const[n,s]=w.useState(!1),[a,i]=w.useState(!1),[l,c]=w.useState({nombre:"",deporte:""}),[u,d]=w.useState({limitesReservas:{reservasPorPersonaPorDia:2,horasAntesParaCancelar:2,horasAntesParaNoShow:1},notificaciones:{whatsappTemplate:"Hola {nombre}, tu reserva para {cancha} el {fecha} de {horaInicio} a {horaFin} está confirmada. Total: S/{total}",recordatorioHoras:[24,2]},horarios:{apertura:"06:00",cierre:"22:00",ultimaReserva:"21:00"},depositos:{requiereDeposito:!1,montoDeposito:50,equipos:{red:!0,pelotas:!0,tableros:!1}}});w.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{const m=await Dq();d(m)}catch(m){console.error("Error al cargar configuración:",m),gt({title:"Error",description:"No se pudo cargar la configuración",variant:"destructive"})}},h=async m=>{m.preventDefault(),s(!0);try{await lHe(u),gt({title:"Configuración actualizada",description:"Los cambios se han guardado exitosamente"}),r()}catch{gt({title:"Error",description:"No se pudo actualizar la configuración",variant:"destructive"})}finally{s(!1)}},p={futbol:{nombre:"Cancha de Fútbol",precioHora:80,modificadorLuz:{"1h":20,"2h":35,"3h":50},ubicacion:"boulevard",descripcion:"Cancha de fútbol profesional con césped natural"},basquet:{nombre:"Cancha de Básquet",precioHora:60,modificadorLuz:{"1h":15,"2h":25,"3h":35},ubicacion:"quinta_llana",descripcion:"Cancha de básquet techada con piso de parquet"},voley:{nombre:"Cancha de Vóley",precioHora:50,modificadorLuz:{"1h":12,"2h":20,"3h":28},ubicacion:"boulevard",descripcion:"Cancha de vóleibol con superficie de arena"},tenis:{nombre:"Cancha de Tenis",precioHora:100,modificadorLuz:{"1h":25,"2h":45,"3h":65},ubicacion:"quinta_llana",descripcion:"Cancha de tenis profesional con superficie de polvo de ladrillo"},padel:{nombre:"Cancha de Pádel",precioHora:120,modificadorLuz:{"1h":30,"2h":55,"3h":80},ubicacion:"quinta_llana",descripcion:"Cancha de pádel cerrada con paredes de cristal"}},x=async()=>{if(!l.nombre||!l.deporte){gt({title:"Error",description:"Complete el nombre y seleccione un deporte",variant:"destructive"});return}i(!0);try{const m=p[l.deporte];await sHe({nombre:l.nombre,tipo:l.deporte,ubicacion:m.ubicacion,activa:!0,configuracion:{precioHora:m.precioHora,modificadorLuz:m.modificadorLuz,tarifaAportante:15,horaMinima:1,horaMaxima:3,bufferMinutos:15,horarios:{inicio:u.horarios.apertura,fin:u.horarios.cierre}}}),gt({title:"Cancha creada",description:`${l.nombre} ha sido creada exitosamente`}),c({nombre:"",deporte:""}),r()}catch{gt({title:"Error",description:"No se pudo crear la cancha",variant:"destructive"})}finally{i(!1)}};return o.jsx(fi,{open:e,onOpenChange:t,children:o.jsxs(Ua,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Ba,{children:[o.jsxs(Wa,{className:"flex items-center gap-2",children:[o.jsx(dm,{className:"h-5 w-5"}),"Configuración del Módulo Deportes"]}),o.jsx(Cf,{children:"Configure las reglas de negocio, precios y políticas del sistema"})]}),o.jsxs(Of,{defaultValue:"limites",className:"w-full",children:[o.jsxs(zu,{className:"grid w-full grid-cols-5",children:[o.jsx(Br,{value:"limites",children:"Límites"}),o.jsx(Br,{value:"horarios",children:"Horarios"}),o.jsx(Br,{value:"depositos",children:"Depósitos"}),o.jsx(Br,{value:"notificaciones",children:"Notificaciones"}),o.jsx(Br,{value:"canchas",children:"Canchas"})]}),o.jsx(Wr,{value:"limites",className:"space-y-4",children:o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(si,{className:"h-4 w-4"}),"Límites y Validaciones"]}),o.jsx(Qt,{children:"Configure los límites para prevenir el acaparamiento de reservas"})]}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"reservasPorDia",children:"Reservas máximas por persona por día"}),o.jsx(Ce,{id:"reservasPorDia",type:"number",min:"1",max:"10",value:u.limitesReservas.reservasPorPersonaPorDia,onChange:m=>d(g=>({...g,limitesReservas:{...g.limitesReservas,reservasPorPersonaPorDia:parseInt(m.target.value)||1}}))}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Número máximo de reservas que una persona puede hacer en un día"})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"horasCancelar",children:"Horas mínimas para cancelar"}),o.jsx(Ce,{id:"horasCancelar",type:"number",min:"1",max:"48",value:u.limitesReservas.horasAntesParaCancelar,onChange:m=>d(g=>({...g,limitesReservas:{...g.limitesReservas,horasAntesParaCancelar:parseInt(m.target.value)||1}}))}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Horas mínimas de anticipación para poder cancelar una reserva"})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"horasNoShow",children:"Horas para marcar como No-Show"}),o.jsx(Ce,{id:"horasNoShow",type:"number",min:"0.5",max:"24",step:"0.5",value:u.limitesReservas.horasAntesParaNoShow,onChange:m=>d(g=>({...g,limitesReservas:{...g.limitesReservas,horasAntesParaNoShow:parseFloat(m.target.value)||.5}}))}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Horas después del inicio para marcar automáticamente como No-Show si no hay pago"})]})]})]})}),o.jsx(Wr,{value:"horarios",className:"space-y-4",children:o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(Ll,{className:"h-4 w-4"}),"Horarios de Funcionamiento"]}),o.jsx(Qt,{children:"Defina los horarios de operación de las canchas"})]}),o.jsx(Ae,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"apertura",children:"Hora de Apertura"}),o.jsx(Ce,{id:"apertura",type:"time",value:u.horarios.apertura,onChange:m=>d(g=>({...g,horarios:{...g.horarios,apertura:m.target.value}}))})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"cierre",children:"Hora de Cierre"}),o.jsx(Ce,{id:"cierre",type:"time",value:u.horarios.cierre,onChange:m=>d(g=>({...g,horarios:{...g.horarios,cierre:m.target.value}}))})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"ultimaReserva",children:"Última Reserva"}),o.jsx(Ce,{id:"ultimaReserva",type:"time",value:u.horarios.ultimaReserva,onChange:m=>d(g=>({...g,horarios:{...g.horarios,ultimaReserva:m.target.value}}))}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Hora límite para iniciar nuevas reservas (por ruido vecinal)"})]})]})})]})}),o.jsx(Wr,{value:"depositos",className:"space-y-4",children:o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx($l,{className:"h-4 w-4"}),"Depósitos y Equipamiento"]}),o.jsx(Qt,{children:"Configure los depósitos por daños y el equipamiento disponible"})]}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Is,{id:"requiereDeposito",checked:u.depositos.requiereDeposito,onCheckedChange:m=>d(g=>({...g,depositos:{...g.depositos,requiereDeposito:m}}))}),o.jsx(be,{htmlFor:"requiereDeposito",children:"Requerir depósito por daños"})]}),u.depositos.requiereDeposito&&o.jsxs("div",{children:[o.jsx(be,{htmlFor:"montoDeposito",children:"Monto del Depósito (S/)"}),o.jsx(Ce,{id:"montoDeposito",type:"number",min:"0",step:"0.01",value:u.depositos.montoDeposito,onChange:m=>d(g=>({...g,depositos:{...g.depositos,montoDeposito:parseFloat(m.target.value)||0}}))})]}),o.jsx(Xs,{}),o.jsxs("div",{children:[o.jsx(be,{className:"text-base",children:"Equipamiento Disponible"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Seleccione el equipamiento que se entrega con las reservas"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Is,{id:"equipoRed",checked:u.depositos.equipos.red,onCheckedChange:m=>d(g=>({...g,depositos:{...g.depositos,equipos:{...g.depositos.equipos,red:m}}}))}),o.jsx(be,{htmlFor:"equipoRed",children:"Red de vóley/fútbol"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Is,{id:"equipoPelotas",checked:u.depositos.equipos.pelotas,onCheckedChange:m=>d(g=>({...g,depositos:{...g.depositos,equipos:{...g.depositos.equipos,pelotas:m}}}))}),o.jsx(be,{htmlFor:"equipoPelotas",children:"Pelotas"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Is,{id:"equipoTableros",checked:u.depositos.equipos.tableros,onCheckedChange:m=>d(g=>({...g,depositos:{...g.depositos,equipos:{...g.depositos.equipos,tableros:m}}}))}),o.jsx(be,{htmlFor:"equipoTableros",children:"Tableros de básquet"})]})]})]})]})]})}),o.jsx(Wr,{value:"notificaciones",className:"space-y-4",children:o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(pv,{className:"h-4 w-4"}),"Notificaciones y WhatsApp"]}),o.jsx(Qt,{children:"Configure las plantillas de mensajes y recordatorios"})]}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"whatsappTemplate",children:"Plantilla de WhatsApp"}),o.jsx("textarea",{id:"whatsappTemplate",className:"w-full p-3 border rounded-md resize-none",rows:4,value:u.notificaciones.whatsappTemplate,onChange:m=>d(g=>({...g,notificaciones:{...g.notificaciones,whatsappTemplate:m.target.value}})),placeholder:"Plantilla del mensaje de WhatsApp..."}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Variables disponibles: ","{nombre}",", ","{cancha}",", ","{fecha}",", ","{horaInicio}",", ","{horaFin}",", ","{total}"]})]}),o.jsxs("div",{children:[o.jsx(be,{children:"Horas de Recordatorio"}),o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Ce,{type:"number",min:"1",max:"168",value:u.notificaciones.recordatorioHoras[0]||24,onChange:m=>{const g=[...u.notificaciones.recordatorioHoras];g[0]=parseInt(m.target.value)||24,d(_=>({..._,notificaciones:{..._.notificaciones,recordatorioHoras:g}}))},placeholder:"Horas antes (ej: 24)"}),o.jsx(Ce,{type:"number",min:"1",max:"24",value:u.notificaciones.recordatorioHoras[1]||2,onChange:m=>{const g=[...u.notificaciones.recordatorioHoras];g[1]=parseInt(m.target.value)||2,d(_=>({..._,notificaciones:{..._.notificaciones,recordatorioHoras:g}}))},placeholder:"Horas antes (ej: 2)"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure las horas de anticipación para enviar recordatorios automáticos"})]})]})]})]})}),o.jsx(Wr,{value:"canchas",className:"space-y-4",children:o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(Vi,{className:"h-4 w-4"}),"Crear Nuevas Canchas"]}),o.jsx(Qt,{children:"Utiliza plantillas predefinidas para crear canchas de diferentes deportes"})]}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(be,{htmlFor:"nombreCancha",children:"Nombre de la Cancha"}),o.jsx(Ce,{id:"nombreCancha",value:l.nombre,onChange:m=>c(g=>({...g,nombre:m.target.value})),placeholder:"Ej: Cancha Principal A"})]}),o.jsxs("div",{children:[o.jsx(be,{htmlFor:"deporteCancha",children:"Tipo de Deporte"}),o.jsxs(hr,{value:l.deporte,onValueChange:m=>c(g=>({...g,deporte:m})),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar deporte"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"futbol",children:"⚽ Fútbol"}),o.jsx(Te,{value:"basquet",children:"🏀 Básquet"}),o.jsx(Te,{value:"voley",children:"🏐 Vóley"}),o.jsx(Te,{value:"tenis",children:"🎾 Tenis"}),o.jsx(Te,{value:"padel",children:"🏓 Pádel"})]})]})]})]}),l.deporte&&o.jsxs(ke,{className:"bg-muted/50",children:[o.jsx(Qe,{children:o.jsx(Ze,{className:"text-base",children:"Vista Previa de la Plantilla"})}),o.jsxs(Ae,{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Precio Base:"})," S/ ",p[l.deporte].precioHora,"/hora"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Modificador Luz 1h:"})," S/ ",p[l.deporte].modificadorLuz["1h"]]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Ubicación:"})," ",p[l.deporte].ubicacion]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Descuento Aportante:"})," 15%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Descripción:"})," ",p[l.deporte].descripcion]})]})]}),o.jsx(_e,{onClick:x,disabled:!l.nombre||!l.deporte||a,className:"w-full",children:a?"Creando...":"Crear Cancha"})]})]})})]}),o.jsxs(Wu,{children:[o.jsx(_e,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),o.jsx(_e,{type:"submit",onClick:h,disabled:n,children:n?"Guardando...":"Guardar Configuración"})]})]})})};var rO="Progress",nO=100,[pHe,OZe]=ha(rO),[vHe,gHe]=pHe(rO),Iq=w.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=xHe,...i}=e;(s||s===0)&&!U3(s)&&console.error(yHe(`${s}`,"Progress"));const l=U3(s)?s:nO;n!==null&&!B3(n,l)&&console.error(_He(`${n}`,"Progress"));const c=B3(n,l)?n:null,u=J_(c)?a(c,l):void 0;return o.jsx(vHe,{scope:r,value:c,max:l,children:o.jsx(dt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":J_(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Lq(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});Iq.displayName=rO;var Mq="ProgressIndicator",Fq=w.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=gHe(Mq,r);return o.jsx(dt.div,{"data-state":Lq(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Fq.displayName=Mq;function xHe(e,t){return`${Math.round(e/t*100)}%`}function Lq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function J_(e){return typeof e=="number"}function U3(e){return J_(e)&&!isNaN(e)&&e>0}function B3(e,t){return J_(e)&&!isNaN(e)&&e<=t&&e>=0}function yHe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${nO}\`.`}function _He(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${nO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var $q=Iq,wHe=Fq;const Ic=w.forwardRef(({className:e,value:t,...r},n)=>o.jsx($q,{ref:n,className:Ye("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(wHe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ic.displayName=$q.displayName;const bHe=({estadisticas:e})=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2 text-lg",children:[o.jsx(cm,{className:"h-5 w-5"}),"Canchas Más Populares"]}),o.jsx(Qt,{children:"Ranking de canchas por número de reservas"})]}),o.jsx(Ae,{children:o.jsxs("div",{className:"space-y-4",children:[e.canchasMasUsadas.slice(0,5).map((t,r)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(pt,{variant:r===0?"default":"secondary",className:"w-6 h-6 p-0 flex items-center justify-center",children:r+1}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:t.nombre}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.reservas," reservas"]})]})]}),o.jsx(Ic,{value:t.reservas/e.canchasMasUsadas[0].reservas*100,className:"w-20"})]},t.canchaId)),e.canchasMasUsadas.length===0&&o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(cm,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No hay datos de canchas disponibles"})]})]})})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2 text-lg",children:[o.jsx(Ll,{className:"h-5 w-5"}),"Horarios Más Solicitados"]}),o.jsx(Qt,{children:"Horas del día con mayor demanda"})]}),o.jsx(Ae,{children:o.jsxs("div",{className:"space-y-4",children:[e.horariosPopulares.slice(0,8).map((t,r)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-14 text-center flex-shrink-0",children:o.jsx("span",{className:"font-mono text-sm",children:t.hora})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx(Ic,{value:t.reservas/e.horariosPopulares[0].reservas*100,className:"h-2"})}),o.jsx("div",{className:"w-10 text-right flex-shrink-0",children:o.jsx("span",{className:"text-sm font-medium",children:t.reservas})})]},t.hora)),e.horariosPopulares.length===0&&o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Ll,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No hay datos de horarios disponibles"})]})]})})]}),o.jsxs(ke,{className:"md:col-span-2",children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2 text-lg",children:[o.jsx(mk,{className:"h-5 w-5"}),"Resumen de Rendimiento"]}),o.jsx(Qt,{children:"Métricas clave del período seleccionado"})]}),o.jsxs(Ae,{children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:e.reservasDelMes}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Reservas Totales"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["S/",e.ingresosTotales.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Ingresos Generados"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[e.ocupacionPromedio.toFixed(1),"%"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Ocupación Promedio"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["S/",e.reservasDelMes>0?(e.ingresosTotales/e.reservasDelMes).toFixed(2):"0.00"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Ingreso por Reserva"})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t",children:o.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-primary rounded"}),o.jsx("span",{className:"text-sm",children:"Ingresos"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),o.jsx("span",{className:"text-sm",children:"Ocupación"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),o.jsx("span",{className:"text-sm",children:"Promedio por reserva"})]})]})})]})]})]});function SHe(){var A;const[e,t]=w.useState([]),[r,n]=w.useState([]),[s,a]=w.useState(null),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(!0),[h,p]=w.useState(!1),[x,m]=w.useState(!1),[g,_]=w.useState(!1),[y,S]=w.useState(null);w.useEffect(()=>{E()},[]);const E=async()=>{try{f(!0);const[j,O,W]=await Promise.all([Aq(),dS(),uHe()]);console.log("Canchas cargadas:",j),t(j),n(O),a(W),j.length>0&&!i&&l(j[0].id)}catch(j){console.error("Error al cargar datos:",j),gt({title:"Error",description:"No se pudieron cargar los datos de deportes",variant:"destructive"})}finally{f(!1)}},C=j=>{S(j),j.estado==="pendiente"&&m(!0)},P=(j,O)=>{p(!0)};e.filter(j=>j.nombre.toLowerCase().includes(c.toLowerCase())||j.ubicacion.toLowerCase().includes(c.toLowerCase()));const N=[{id:"boulevard-futbol",label:"Boulevard - Fútbol",canchas:e.filter(j=>j.ubicacion==="boulevard"&&j.tipo==="futbol")},{id:"boulevard-voley",label:"Boulevard - Vóley",canchas:e.filter(j=>j.ubicacion==="boulevard"&&j.tipo==="voley")},{id:"quinta-futbol",label:"Quinta Llana - Fútbol",canchas:e.filter(j=>j.ubicacion==="quinta_llana"&&j.tipo==="futbol")},{id:"quinta-voley",label:"Quinta Llana - Vóley",canchas:e.filter(j=>j.ubicacion==="quinta_llana"&&j.tipo==="voley")}].filter(j=>j.canchas.length>0);return d?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando módulo de deportes..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Jd,{}),o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gestión Deportiva"}),o.jsx("p",{className:"text-muted-foreground",children:"Administra reservas, canchas y actividades deportivas"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsxs(_e,{onClick:()=>P(),className:"gap-2",children:[o.jsx(Vi,{className:"h-4 w-4"}),"Nueva Reserva"]}),o.jsx(_e,{variant:"outline",onClick:()=>_(!0),children:"Configuración"})]})]}),s&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Reservas del Mes"}),o.jsx(gs,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ae,{children:o.jsx("div",{className:"text-2xl font-bold",children:s.reservasDelMes})})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Ingresos Totales"}),o.jsx(mk,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ae,{children:o.jsxs("div",{className:"text-2xl font-bold",children:["S/",s.ingresosTotales.toFixed(2)]})})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Ocupación"}),o.jsx(aa,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ae,{children:o.jsxs("div",{className:"text-2xl font-bold",children:[s.ocupacionPromedio.toFixed(1),"%"]})})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Canchas Activas"}),o.jsx(cm,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ae,{children:o.jsx("div",{className:"text-2xl font-bold",children:e.filter(j=>j.activa).length})})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ou,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{placeholder:"Buscar por padrón, DNI o nombre...",value:c,onChange:j=>u(j.target.value),className:"pl-10"})]})}),o.jsx(Rq,{onSeleccionar:j=>{u(j.nombre)}})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-yellow-500"}),o.jsx("span",{className:"text-sm",children:"Pendiente"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),o.jsx("span",{className:"text-sm",children:"Pagado"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-blue-500"}),o.jsx("span",{className:"text-sm",children:"Completado"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-red-500"}),o.jsx("span",{className:"text-sm",children:"Cancelado"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-gray-500"}),o.jsx("span",{className:"text-sm",children:"No-Show"})]})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(gs,{className:"h-5 w-5"}),"Calendario de Reservas"]}),o.jsx(Qt,{children:"Arrastra para crear, mover y redimensionar reservas"})]}),o.jsx(Ae,{children:o.jsxs(Of,{value:(A=N[0])==null?void 0:A.id,className:"w-full",children:[o.jsx(zu,{className:"grid w-full grid-cols-2 lg:grid-cols-4",children:N.map(j=>o.jsx(Br,{value:j.id,className:"text-xs",children:j.label},j.id))}),N.map(j=>o.jsx(Wr,{value:j.id,className:"mt-6",children:o.jsx(rHe,{canchas:j.canchas,reservas:r.filter(O=>j.canchas.some(W=>W.id===O.canchaId)),onReservaClick:C,onNuevaReserva:P,onReservaUpdate:E})},j.id))]})})]}),s&&o.jsx("div",{className:"mt-6",children:o.jsx(bHe,{estadisticas:s})})]}),o.jsx(fHe,{open:h,onOpenChange:p,canchas:e,onSuccess:()=>{E(),p(!1)}}),y&&o.jsx(hHe,{open:x,onOpenChange:m,reserva:y,onSuccess:()=>{E(),m(!1),S(null)}}),o.jsx(mHe,{open:g,onOpenChange:_,onSuccess:()=>{E(),_(!1)}})]})}const W3=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Xe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Uq=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?W3(n.ref,r,e):n.refs&&n.refs.forEach(s=>W3(s,r,e))}},EHe=(e,t)=>{t.shouldUseNativeValidation&&Uq(e,t);const r={};for(const n in e){const s=Xe(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(THe(t.names||Object.keys(e),n)){const i=Object.assign({},Xe(r,n));vr(i,"root",a),vr(r,n,i)}else vr(r,n,a)}return r},THe=(e,t)=>e.some(r=>r.startsWith(t+"."));var CHe=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=g9(i,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},NHe=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&Uq({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:EHe(CHe(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}},ir;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),i={};for(const l of a)i[l]=s[l];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},e.find=(s,a)=>{for(const i of s)if(a(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(ir||(ir={}));var V3;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(V3||(V3={}));const ot=ir.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Nc=e=>{switch(typeof e){case"undefined":return ot.undefined;case"string":return ot.string;case"number":return Number.isNaN(e)?ot.nan:ot.number;case"boolean":return ot.boolean;case"function":return ot.function;case"bigint":return ot.bigint;case"symbol":return ot.symbol;case"object":return Array.isArray(e)?ot.array:e===null?ot.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ot.promise:typeof Map<"u"&&e instanceof Map?ot.map:typeof Set<"u"&&e instanceof Set?ot.set:typeof Date<"u"&&e instanceof Date?ot.date:ot.object;default:return ot.unknown}},$e=ir.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ql extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Ql))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ir.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ql.create=e=>new Ql(e);const nN=(e,t)=>{let r;switch(e.code){case $e.invalid_type:e.received===ot.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case $e.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ir.jsonStringifyReplacer)}`;break;case $e.unrecognized_keys:r=`Unrecognized key(s) in object: ${ir.joinValues(e.keys,", ")}`;break;case $e.invalid_union:r="Invalid input";break;case $e.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ir.joinValues(e.options)}`;break;case $e.invalid_enum_value:r=`Invalid enum value. Expected ${ir.joinValues(e.options)}, received '${e.received}'`;break;case $e.invalid_arguments:r="Invalid function arguments";break;case $e.invalid_return_type:r="Invalid function return type";break;case $e.invalid_date:r="Invalid date";break;case $e.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ir.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case $e.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case $e.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case $e.custom:r="Invalid input";break;case $e.invalid_intersection_types:r="Intersection results could not be merged";break;case $e.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case $e.not_finite:r="Number must be finite";break;default:r=t.defaultError,ir.assertNever(e)}return{message:r}};let kHe=nN;function jHe(){return kHe}const AHe=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function rt(e,t){const r=jHe(),n=AHe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===nN?void 0:nN].filter(s=>!!s)});e.common.issues.push(n)}class Ia{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Nt;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,i=await s.value;n.push({key:a,value:i})}return Ia.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return Nt;a.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[a.value]=i.value)}return{status:t.value,value:n}}}const Nt=Object.freeze({status:"aborted"}),g0=e=>({status:"dirty",value:e}),gi=e=>({status:"valid",value:e}),z3=e=>e.status==="aborted",H3=e=>e.status==="dirty",Om=e=>e.status==="valid",ew=e=>typeof Promise<"u"&&e instanceof Promise;var ct;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ct||(ct={}));class Nu{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Y3=(e,t)=>{if(Om(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ql(e.common.issues);return this._error=r,this._error}}};function zt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,l)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class tr{get description(){return this._def.description}_getType(t){return Nc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Nc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ia,ctx:{common:t.parent.common,data:t.data,parsedType:Nc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ew(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nc(t)},s=this._parseSync({data:t,path:n.path,parent:n});return Y3(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nc(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Om(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Om(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nc(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(ew(s)?s:Promise.resolve(s));return Y3(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const i=t(s),l=()=>a.addIssue({code:$e.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Im({schema:this,typeName:kt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return uu.create(this,this._def)}nullable(){return Mm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mo.create(this)}promise(){return sw.create(this,this._def)}or(t){return rw.create([this,t],this._def)}and(t){return nw.create(this,t,this._def)}transform(t){return new Im({...zt(this._def),schema:this,typeName:kt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new iN({...zt(this._def),innerType:this,defaultValue:r,typeName:kt.ZodDefault})}brand(){return new JHe({typeName:kt.ZodBranded,type:this,...zt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new oN({...zt(this._def),innerType:this,catchValue:r,typeName:kt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return sO.create(this,t)}readonly(){return lN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PHe=/^c[^\s-]{8,}$/i,OHe=/^[0-9a-z]+$/,DHe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,RHe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,IHe=/^[a-z0-9_-]{21}$/i,MHe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,FHe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,LHe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$He="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let C2;const UHe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BHe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,WHe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,VHe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zHe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,HHe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Bq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",YHe=new RegExp(`^${Bq}$`);function Wq(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function GHe(e){return new RegExp(`^${Wq(e)}$`)}function qHe(e){let t=`${Bq}T${Wq(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function KHe(e,t){return!!((t==="v4"||!t)&&UHe.test(e)||(t==="v6"||!t)&&WHe.test(e))}function XHe(e,t){if(!MHe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function QHe(e,t){return!!((t==="v4"||!t)&&BHe.test(e)||(t==="v6"||!t)&&VHe.test(e))}class Kc extends tr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ot.string){const a=this._getOrReturnCtx(t);return rt(a,{code:$e.invalid_type,expected:ot.string,received:a.parsedType}),Nt}const n=new Ia;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),rt(s,{code:$e.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),rt(s,{code:$e.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,l=t.data.length<a.value;(i||l)&&(s=this._getOrReturnCtx(t,s),i?rt(s,{code:$e.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&rt(s,{code:$e.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")LHe.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"email",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")C2||(C2=new RegExp($He,"u")),C2.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"emoji",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")RHe.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"uuid",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")IHe.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"nanoid",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")PHe.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"cuid",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")OHe.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"cuid2",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")DHe.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"ulid",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),rt(s,{validation:"url",code:$e.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"regex",code:$e.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),rt(s,{code:$e.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),rt(s,{code:$e.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),rt(s,{code:$e.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?qHe(a).test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{code:$e.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?YHe.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{code:$e.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?GHe(a).test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{code:$e.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?FHe.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"duration",code:$e.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?KHe(t.data,a.version)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"ip",code:$e.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?XHe(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"jwt",code:$e.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?QHe(t.data,a.version)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"cidr",code:$e.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?zHe.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"base64",code:$e.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?HHe.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"base64url",code:$e.invalid_string,message:a.message}),n.dirty()):ir.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:$e.invalid_string,...ct.errToObj(n)})}_addCheck(t){return new Kc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ct.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ct.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ct.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ct.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ct.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ct.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ct.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ct.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ct.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ct.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ct.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ct.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ct.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ct.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ct.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ct.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ct.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ct.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ct.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ct.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ct.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ct.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ct.errToObj(r)})}nonempty(t){return this.min(1,ct.errToObj(t))}trim(){return new Kc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Kc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Kc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Kc.create=e=>new Kc({checks:[],typeName:kt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...zt(e)});function ZHe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return a%i/10**s}class Dm extends tr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ot.number){const a=this._getOrReturnCtx(t);return rt(a,{code:$e.invalid_type,expected:ot.number,received:a.parsedType}),Nt}let n;const s=new Ia;for(const a of this._def.checks)a.kind==="int"?ir.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),rt(n,{code:$e.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),rt(n,{code:$e.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),rt(n,{code:$e.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?ZHe(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),rt(n,{code:$e.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),rt(n,{code:$e.not_finite,message:a.message}),s.dirty()):ir.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ct.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ct.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ct.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ct.toString(r))}setLimit(t,r,n,s){return new Dm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ct.toString(s)}]})}_addCheck(t){return new Dm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ct.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ct.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ct.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ct.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ct.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ct.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ct.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ct.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ct.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ir.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Dm.create=e=>new Dm({checks:[],typeName:kt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class cg extends tr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ot.bigint)return this._getInvalidInput(t);let n;const s=new Ia;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),rt(n,{code:$e.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),rt(n,{code:$e.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),rt(n,{code:$e.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):ir.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return rt(r,{code:$e.invalid_type,expected:ot.bigint,received:r.parsedType}),Nt}gte(t,r){return this.setLimit("min",t,!0,ct.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ct.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ct.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ct.toString(r))}setLimit(t,r,n,s){return new cg({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ct.toString(s)}]})}_addCheck(t){return new cg({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ct.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ct.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ct.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ct.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ct.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}cg.create=e=>new cg({checks:[],typeName:kt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...zt(e)});class sN extends tr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ot.boolean){const n=this._getOrReturnCtx(t);return rt(n,{code:$e.invalid_type,expected:ot.boolean,received:n.parsedType}),Nt}return gi(t.data)}}sN.create=e=>new sN({typeName:kt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class tw extends tr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ot.date){const a=this._getOrReturnCtx(t);return rt(a,{code:$e.invalid_type,expected:ot.date,received:a.parsedType}),Nt}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return rt(a,{code:$e.invalid_date}),Nt}const n=new Ia;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),rt(s,{code:$e.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),rt(s,{code:$e.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):ir.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new tw({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ct.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ct.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}tw.create=e=>new tw({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:kt.ZodDate,...zt(e)});class G3 extends tr{_parse(t){if(this._getType(t)!==ot.symbol){const n=this._getOrReturnCtx(t);return rt(n,{code:$e.invalid_type,expected:ot.symbol,received:n.parsedType}),Nt}return gi(t.data)}}G3.create=e=>new G3({typeName:kt.ZodSymbol,...zt(e)});class q3 extends tr{_parse(t){if(this._getType(t)!==ot.undefined){const n=this._getOrReturnCtx(t);return rt(n,{code:$e.invalid_type,expected:ot.undefined,received:n.parsedType}),Nt}return gi(t.data)}}q3.create=e=>new q3({typeName:kt.ZodUndefined,...zt(e)});class K3 extends tr{_parse(t){if(this._getType(t)!==ot.null){const n=this._getOrReturnCtx(t);return rt(n,{code:$e.invalid_type,expected:ot.null,received:n.parsedType}),Nt}return gi(t.data)}}K3.create=e=>new K3({typeName:kt.ZodNull,...zt(e)});class X3 extends tr{constructor(){super(...arguments),this._any=!0}_parse(t){return gi(t.data)}}X3.create=e=>new X3({typeName:kt.ZodAny,...zt(e)});class Q3 extends tr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return gi(t.data)}}Q3.create=e=>new Q3({typeName:kt.ZodUnknown,...zt(e)});class ku extends tr{_parse(t){const r=this._getOrReturnCtx(t);return rt(r,{code:$e.invalid_type,expected:ot.never,received:r.parsedType}),Nt}}ku.create=e=>new ku({typeName:kt.ZodNever,...zt(e)});class Z3 extends tr{_parse(t){if(this._getType(t)!==ot.undefined){const n=this._getOrReturnCtx(t);return rt(n,{code:$e.invalid_type,expected:ot.void,received:n.parsedType}),Nt}return gi(t.data)}}Z3.create=e=>new Z3({typeName:kt.ZodVoid,...zt(e)});class Mo extends tr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ot.array)return rt(r,{code:$e.invalid_type,expected:ot.array,received:r.parsedType}),Nt;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(i||l)&&(rt(r,{code:i?$e.too_big:$e.too_small,minimum:l?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(rt(r,{code:$e.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(rt(r,{code:$e.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>s.type._parseAsync(new Nu(r,i,r.path,l)))).then(i=>Ia.mergeArray(n,i));const a=[...r.data].map((i,l)=>s.type._parseSync(new Nu(r,i,r.path,l)));return Ia.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new Mo({...this._def,minLength:{value:t,message:ct.toString(r)}})}max(t,r){return new Mo({...this._def,maxLength:{value:t,message:ct.toString(r)}})}length(t,r){return new Mo({...this._def,exactLength:{value:t,message:ct.toString(r)}})}nonempty(t){return this.min(1,t)}}Mo.create=(e,t)=>new Mo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:kt.ZodArray,...zt(t)});function oh(e){if(e instanceof sn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=uu.create(oh(n))}return new sn({...e._def,shape:()=>t})}else return e instanceof Mo?new Mo({...e._def,type:oh(e.element)}):e instanceof uu?uu.create(oh(e.unwrap())):e instanceof Mm?Mm.create(oh(e.unwrap())):e instanceof vf?vf.create(e.items.map(t=>oh(t))):e}class sn extends tr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ir.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ot.object){const u=this._getOrReturnCtx(t);return rt(u,{code:$e.invalid_type,expected:ot.object,received:u.parsedType}),Nt}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof ku&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Nu(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ku){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(rt(s,{code:$e.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Nu(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ia.mergeObjectSync(n,u)):Ia.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ct.errToObj,new sn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i;const s=((i=(a=this._def).errorMap)==null?void 0:i.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ct.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new sn({...this._def,unknownKeys:"strip"})}passthrough(){return new sn({...this._def,unknownKeys:"passthrough"})}extend(t){return new sn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new sn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:kt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new sn({...this._def,catchall:t})}pick(t){const r={};for(const n of ir.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new sn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of ir.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new sn({...this._def,shape:()=>r})}deepPartial(){return oh(this)}partial(t){const r={};for(const n of ir.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new sn({...this._def,shape:()=>r})}required(t){const r={};for(const n of ir.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof uu;)a=a._def.innerType;r[n]=a}return new sn({...this._def,shape:()=>r})}keyof(){return Vq(ir.objectKeys(this.shape))}}sn.create=(e,t)=>new sn({shape:()=>e,unknownKeys:"strip",catchall:ku.create(),typeName:kt.ZodObject,...zt(t)});sn.strictCreate=(e,t)=>new sn({shape:()=>e,unknownKeys:"strict",catchall:ku.create(),typeName:kt.ZodObject,...zt(t)});sn.lazycreate=(e,t)=>new sn({shape:e,unknownKeys:"strip",catchall:ku.create(),typeName:kt.ZodObject,...zt(t)});class rw extends tr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=a.map(l=>new Ql(l.ctx.common.issues));return rt(r,{code:$e.invalid_union,unionErrors:i}),Nt}if(r.common.async)return Promise.all(n.map(async a=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=i.map(c=>new Ql(c));return rt(r,{code:$e.invalid_union,unionErrors:l}),Nt}}get options(){return this._def.options}}rw.create=(e,t)=>new rw({options:e,typeName:kt.ZodUnion,...zt(t)});function aN(e,t){const r=Nc(e),n=Nc(t);if(e===t)return{valid:!0,data:e};if(r===ot.object&&n===ot.object){const s=ir.objectKeys(t),a=ir.objectKeys(e).filter(l=>s.indexOf(l)!==-1),i={...e,...t};for(const l of a){const c=aN(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===ot.array&&n===ot.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const i=e[a],l=t[a],c=aN(i,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ot.date&&n===ot.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class nw extends tr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,i)=>{if(z3(a)||z3(i))return Nt;const l=aN(a.value,i.value);return l.valid?((H3(a)||H3(i))&&r.dirty(),{status:r.value,value:l.data}):(rt(n,{code:$e.invalid_intersection_types}),Nt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}nw.create=(e,t,r)=>new nw({left:e,right:t,typeName:kt.ZodIntersection,...zt(r)});class vf extends tr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ot.array)return rt(n,{code:$e.invalid_type,expected:ot.array,received:n.parsedType}),Nt;if(n.data.length<this._def.items.length)return rt(n,{code:$e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Nt;!this._def.rest&&n.data.length>this._def.items.length&&(rt(n,{code:$e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Nu(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>Ia.mergeArray(r,i)):Ia.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new vf({...this._def,rest:t})}}vf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vf({items:e,typeName:kt.ZodTuple,rest:null,...zt(t)})};class J3 extends tr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ot.map)return rt(n,{code:$e.invalid_type,expected:ot.map,received:n.parsedType}),Nt;const s=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Nu(n,l,n.path,[u,"key"])),value:a._parse(new Nu(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Nt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Nt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}J3.create=(e,t,r)=>new J3({valueType:t,keyType:e,typeName:kt.ZodMap,...zt(r)});class ug extends tr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ot.set)return rt(n,{code:$e.invalid_type,expected:ot.set,received:n.parsedType}),Nt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(rt(n,{code:$e.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(rt(n,{code:$e.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Nt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new Nu(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new ug({...this._def,minSize:{value:t,message:ct.toString(r)}})}max(t,r){return new ug({...this._def,maxSize:{value:t,message:ct.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ug.create=(e,t)=>new ug({valueType:e,minSize:null,maxSize:null,typeName:kt.ZodSet,...zt(t)});class eL extends tr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}eL.create=(e,t)=>new eL({getter:e,typeName:kt.ZodLazy,...zt(t)});class tL extends tr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return rt(r,{received:r.data,code:$e.invalid_literal,expected:this._def.value}),Nt}return{status:"valid",value:t.data}}get value(){return this._def.value}}tL.create=(e,t)=>new tL({value:e,typeName:kt.ZodLiteral,...zt(t)});function Vq(e,t){return new Rm({values:e,typeName:kt.ZodEnum,...zt(t)})}class Rm extends tr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return rt(r,{expected:ir.joinValues(n),received:r.parsedType,code:$e.invalid_type}),Nt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return rt(r,{received:r.data,code:$e.invalid_enum_value,options:n}),Nt}return gi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Rm.create(t,{...this._def,...r})}exclude(t,r=this._def){return Rm.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Rm.create=Vq;class rL extends tr{_parse(t){const r=ir.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ot.string&&n.parsedType!==ot.number){const s=ir.objectValues(r);return rt(n,{expected:ir.joinValues(s),received:n.parsedType,code:$e.invalid_type}),Nt}if(this._cache||(this._cache=new Set(ir.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=ir.objectValues(r);return rt(n,{received:n.data,code:$e.invalid_enum_value,options:s}),Nt}return gi(t.data)}get enum(){return this._def.values}}rL.create=(e,t)=>new rL({values:e,typeName:kt.ZodNativeEnum,...zt(t)});class sw extends tr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ot.promise&&r.common.async===!1)return rt(r,{code:$e.invalid_type,expected:ot.promise,received:r.parsedType}),Nt;const n=r.parsedType===ot.promise?r.data:Promise.resolve(r.data);return gi(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}sw.create=(e,t)=>new sw({type:e,typeName:kt.ZodPromise,...zt(t)});class Im extends tr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===kt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:i=>{rt(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(n.data,a);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return Nt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Nt:c.status==="dirty"||r.value==="dirty"?g0(c.value):c});{if(r.value==="aborted")return Nt;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?Nt:l.status==="dirty"||r.value==="dirty"?g0(l.value):l}}if(s.type==="refinement"){const i=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Nt:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Nt:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Om(i))return Nt;const l=s.transform(i.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Om(i)?Promise.resolve(s.transform(i.value,a)).then(l=>({status:r.value,value:l})):Nt);ir.assertNever(s)}}Im.create=(e,t,r)=>new Im({schema:e,typeName:kt.ZodEffects,effect:t,...zt(r)});Im.createWithPreprocess=(e,t,r)=>new Im({schema:t,effect:{type:"preprocess",transform:e},typeName:kt.ZodEffects,...zt(r)});class uu extends tr{_parse(t){return this._getType(t)===ot.undefined?gi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}uu.create=(e,t)=>new uu({innerType:e,typeName:kt.ZodOptional,...zt(t)});class Mm extends tr{_parse(t){return this._getType(t)===ot.null?gi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Mm.create=(e,t)=>new Mm({innerType:e,typeName:kt.ZodNullable,...zt(t)});class iN extends tr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ot.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}iN.create=(e,t)=>new iN({innerType:e,typeName:kt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...zt(t)});class oN extends tr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ew(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ql(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ql(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}oN.create=(e,t)=>new oN({innerType:e,typeName:kt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...zt(t)});class nL extends tr{_parse(t){if(this._getType(t)!==ot.nan){const n=this._getOrReturnCtx(t);return rt(n,{code:$e.invalid_type,expected:ot.nan,received:n.parsedType}),Nt}return{status:"valid",value:t.data}}}nL.create=e=>new nL({typeName:kt.ZodNaN,...zt(e)});class JHe extends tr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class sO extends tr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Nt:a.status==="dirty"?(r.dirty(),g0(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Nt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new sO({in:t,out:r,typeName:kt.ZodPipeline})}}class lN extends tr{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Om(s)&&(s.value=Object.freeze(s.value)),s);return ew(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}lN.create=(e,t)=>new lN({innerType:e,typeName:kt.ZodReadonly,...zt(t)});sn.lazycreate;var kt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(kt||(kt={}));const pa=Kc.create,N2=Dm.create,sL=sN.create;ku.create;Mo.create;const eYe=sn.create;sn.strictCreate;rw.create;nw.create;vf.create;const k2=Rm.create;sw.create;uu.create;Mm.create;let aO=[{id:"1",codigo:"PAT-001",codigoBarras:"1234567890001",nombre:"Extintor ABC 6kg",descripcion:"Extintor de polvo ABC, marca Matafuegos SA, modelo MF-6ABC, capacidad 6kg",ubicacion:{zona:"Hall de ingreso",referenciaInterna:"EXT-HALL-01"},cantidad:2,estado:{conservacion:"bueno",condicion:"nuevo",observaciones:"Recién instalado, próximo vencimiento 2026"},fechaAdquisicion:{fecha:"2024-01-15",comprador:"Ana García - Administradora"},valorEstimado:25e3,responsable:"Juan Pérez - Encargado de Seguridad",mantenimiento:{requiere:!0,encargado:"Empresa Matafuegos SA",proximaFecha:"2025-01-15"},documentacion:{tipoDocumento:"factura",numeroDocumento:"FAC-001-2024",archivos:[]},donacion:{esDonacion:!1},observaciones:"Ubicados según normas de seguridad contra incendios",fechaCreacion:"2024-01-15T10:00:00",fechaActualizacion:"2024-01-15T10:00:00",activo:!0},{id:"2",codigo:"PAT-002",codigoBarras:"1234567890002",nombre:"Mueble de recepción",descripcion:"Escritorio de recepción en L, melamina blanca, 1.60m x 1.20m",ubicacion:{zona:"Recepción principal",referenciaInterna:"MUE-REC-01"},cantidad:1,estado:{conservacion:"regular",condicion:"segunda",observaciones:"Tiene algunas marcas de uso, necesita retoque de pintura"},fechaAdquisicion:{fecha:"2023-08-20",comprador:"Carlos Mendoza - Consejero"},valorEstimado:45e3,responsable:"María López - Recepcionista",mantenimiento:{requiere:!1},documentacion:{tipoDocumento:"boleta",numeroDocumento:"BOL-145-2023"},donacion:{esDonacion:!0,valorAproximado:3e4,donante:"Familia Rodríguez"},observaciones:"Donación de propietario que se mudó",fechaCreacion:"2023-08-20T14:30:00",fechaActualizacion:"2024-01-10T09:15:00",activo:!0}],aL=3;const tYe=()=>{const e=`PAT-${aL.toString().padStart(3,"0")}`;return aL++,e},rYe=()=>{const e=Date.now().toString();return Math.floor(Math.random()*1e3).toString().padStart(3,"0"),`1234567${e.slice(-6)}`},nYe=async e=>{await new Promise(r=>setTimeout(r,300));let t=[...aO].filter(r=>r.activo);if(e){if(e.busqueda){const r=e.busqueda.toLowerCase();t=t.filter(n=>n.nombre.toLowerCase().includes(r)||n.descripcion.toLowerCase().includes(r)||n.codigo.toLowerCase().includes(r)||n.ubicacion.zona.toLowerCase().includes(r))}e.estado&&e.estado!=="todos"&&(t=t.filter(r=>r.estado.conservacion===e.estado)),e.condicion&&e.condicion!=="todos"&&(t=t.filter(r=>r.estado.condicion===e.condicion)),e.ubicacion&&(t=t.filter(r=>r.ubicacion.zona.toLowerCase().includes(e.ubicacion.toLowerCase()))),e.responsable&&(t=t.filter(r=>r.responsable.toLowerCase().includes(e.responsable.toLowerCase()))),e.esDonacion!==void 0&&(t=t.filter(r=>r.donacion.esDonacion===e.esDonacion)),e.requiereMantenimiento!==void 0&&(t=t.filter(r=>r.mantenimiento.requiere===e.requiereMantenimiento))}return t.sort((r,n)=>new Date(n.fechaCreacion).getTime()-new Date(r.fechaCreacion).getTime())},sYe=async e=>{await new Promise(r=>setTimeout(r,500));const t={...e,id:Date.now().toString(),codigo:tYe(),codigoBarras:rYe(),fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()};return aO.push(t),t},aYe=async()=>{await new Promise(r=>setTimeout(r,200));const e=aO.filter(r=>r.activo);return{totalItems:e.length,valorTotalPatrimonio:e.reduce((r,n)=>r+(n.donacion.esDonacion?n.donacion.valorAproximado||0:n.valorEstimado),0),itemsPorEstado:{bueno:e.filter(r=>r.estado.conservacion==="bueno").length,regular:e.filter(r=>r.estado.conservacion==="regular").length,malo:e.filter(r=>r.estado.conservacion==="malo").length},itemsPorCondicion:{nuevo:e.filter(r=>r.estado.condicion==="nuevo").length,segunda:e.filter(r=>r.estado.condicion==="segunda").length},donaciones:{cantidad:e.filter(r=>r.donacion.esDonacion).length,valorTotal:e.filter(r=>r.donacion.esDonacion).reduce((r,n)=>r+(n.donacion.valorAproximado||0),0)},mantenimiento:{pendientes:e.filter(r=>r.mantenimiento.requiere).length,alDia:e.filter(r=>!r.mantenimiento.requiere).length}}},iYe=eYe({nombre:pa().min(2,"El nombre debe tener al menos 2 caracteres"),descripcion:pa().min(5,"La descripción debe tener al menos 5 caracteres"),ubicacionZona:pa().min(2,"La zona es requerida"),ubicacionReferencia:pa().optional(),cantidad:N2().min(1,"La cantidad debe ser mayor a 0"),estadoConservacion:k2(["bueno","regular","malo"]),estadoCondicion:k2(["nuevo","segunda"]),estadoObservaciones:pa().optional(),fechaAdquisicion:pa().min(1,"La fecha de adquisición es requerida"),comprador:pa().min(2,"El comprador es requerido"),valorEstimado:N2().min(0,"El valor debe ser mayor o igual a 0"),responsable:pa().min(2,"El responsable es requerido"),mantenimientoRequiere:sL(),mantenimientoEncargado:pa().optional(),mantenimientoProximaFecha:pa().optional(),documentacionTipo:k2(["factura","boleta","contrato","garantia","otro"]).optional(),documentacionNumero:pa().optional(),donacionEs:sL(),donacionValor:N2().optional(),donacionDonante:pa().optional(),observaciones:pa().optional()}).refine(e=>!(e.mantenimientoRequiere&&!e.mantenimientoEncargado),{message:"Si requiere mantenimiento, debe especificar el encargado",path:["mantenimientoEncargado"]}).refine(e=>!(e.donacionEs&&!e.donacionValor),{message:"Si es donación, debe especificar el valor aproximado",path:["donacionValor"]}).refine(e=>!(e.donacionEs&&!e.donacionDonante),{message:"Si es donación, debe especificar el donante",path:["donacionDonante"]});function oYe({open:e,onOpenChange:t,onSuccess:r}){const[n,s]=w.useState(!1),[a,i]=w.useState("general"),l=$u({resolver:NHe(iYe),defaultValues:{nombre:"",descripcion:"",ubicacionZona:"",ubicacionReferencia:"",cantidad:1,estadoConservacion:"bueno",estadoCondicion:"nuevo",estadoObservaciones:"",fechaAdquisicion:new Date().toISOString().split("T")[0],comprador:"",valorEstimado:0,responsable:"",mantenimientoRequiere:!1,mantenimientoEncargado:"",mantenimientoProximaFecha:"",documentacionTipo:void 0,documentacionNumero:"",donacionEs:!1,donacionValor:void 0,donacionDonante:"",observaciones:""}}),c=async f=>{try{s(!0);const h={nombre:f.nombre,descripcion:f.descripcion,ubicacion:{zona:f.ubicacionZona,referenciaInterna:f.ubicacionReferencia},cantidad:f.cantidad,estado:{conservacion:f.estadoConservacion,condicion:f.estadoCondicion,observaciones:f.estadoObservaciones},fechaAdquisicion:{fecha:f.fechaAdquisicion,comprador:f.comprador},valorEstimado:f.valorEstimado,responsable:f.responsable,mantenimiento:{requiere:f.mantenimientoRequiere,encargado:f.mantenimientoEncargado,proximaFecha:f.mantenimientoProximaFecha},documentacion:{tipoDocumento:f.documentacionTipo,numeroDocumento:f.documentacionNumero,archivos:[],fotos:[]},donacion:{esDonacion:f.donacionEs,valorAproximado:f.donacionValor,donante:f.donacionDonante},observaciones:f.observaciones,activo:!0};await sYe(h),gt({title:"Item creado",description:"El item ha sido agregado al inventario exitosamente"}),l.reset(),t(!1),r()}catch{gt({title:"Error",description:"No se pudo crear el item. Intente nuevamente.",variant:"destructive"})}finally{s(!1)}},u=l.watch("donacionEs"),d=l.watch("mantenimientoRequiere");return o.jsx(fi,{open:e,onOpenChange:t,children:o.jsxs(Ua,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Ba,{children:[o.jsx(Wa,{children:"Nuevo Item de Patrimonio"}),o.jsx(Cf,{children:"Complete la información del nuevo item para agregarlo al inventario. Se generará automáticamente un código correlativo y código de barras."})]}),o.jsx(ob,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-6",children:[o.jsxs(Of,{value:a,onValueChange:i,children:[o.jsxs(zu,{className:"grid w-full grid-cols-4",children:[o.jsx(Br,{value:"general",children:"General"}),o.jsx(Br,{value:"estado",children:"Estado"}),o.jsx(Br,{value:"mantenimiento",children:"Mantenimiento"}),o.jsx(Br,{value:"documentacion",children:"Documentación"})]}),o.jsx(Wr,{value:"general",className:"space-y-4",children:o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsx(Ze,{children:"Información General"})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Ft,{control:l.control,name:"nombre",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Nombre del objeto o equipo *"}),o.jsx(Rt,{children:o.jsx(Ce,{placeholder:"ej. Extintor, Mueble de recepción",...f})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:l.control,name:"cantidad",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Cantidad *"}),o.jsx(Rt,{children:o.jsx(Ce,{type:"number",min:"1",...f,onChange:h=>f.onChange(Number(h.target.value))})}),o.jsx(Ut,{})]})})]}),o.jsx(Ft,{control:l.control,name:"descripcion",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Descripción técnica *"}),o.jsx(Rt,{children:o.jsx(ai,{placeholder:"Marca, modelo, características técnicas...",className:"min-h-[80px]",...f})}),o.jsx(ld,{children:"Incluya marca, modelo y características técnicas relevantes"}),o.jsx(Ut,{})]})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Ft,{control:l.control,name:"ubicacionZona",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Zona común *"}),o.jsx(Rt,{children:o.jsx(Ce,{placeholder:"ej. Hall de ingreso, Azotea",...f})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:l.control,name:"ubicacionReferencia",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Referencia interna"}),o.jsx(Rt,{children:o.jsx(Ce,{placeholder:"Código o referencia interna",...f})}),o.jsx(Ut,{})]})})]}),o.jsx(Ft,{control:l.control,name:"responsable",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Responsable *"}),o.jsx(Rt,{children:o.jsx(Ce,{placeholder:"Persona o cargo encargado",...f})}),o.jsx(ld,{children:"Persona o cargo encargado de su mantenimiento o supervisión"}),o.jsx(Ut,{})]})})]})]})}),o.jsx(Wr,{value:"estado",className:"space-y-4",children:o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsx(Ze,{children:"Estado y Valuación"})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Ft,{control:l.control,name:"estadoConservacion",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Estado de conservación *"}),o.jsxs(hr,{onValueChange:f.onChange,defaultValue:f.value,children:[o.jsx(Rt,{children:o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar estado"})})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"bueno",children:"Bueno"}),o.jsx(Te,{value:"regular",children:"Regular"}),o.jsx(Te,{value:"malo",children:"Malo"})]})]}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:l.control,name:"estadoCondicion",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Condición *"}),o.jsxs(hr,{onValueChange:f.onChange,defaultValue:f.value,children:[o.jsx(Rt,{children:o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar condición"})})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"nuevo",children:"Nuevo"}),o.jsx(Te,{value:"segunda",children:"Segunda"})]})]}),o.jsx(Ut,{})]})})]}),o.jsx(Ft,{control:l.control,name:"estadoObservaciones",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Observaciones del estado"}),o.jsx(Rt,{children:o.jsx(ai,{placeholder:"Desgaste, necesidad de mantenimiento, etc.",...f})}),o.jsx(Ut,{})]})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Ft,{control:l.control,name:"fechaAdquisicion",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Fecha de adquisición *"}),o.jsx(Rt,{children:o.jsx(Ce,{type:"date",...f})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:l.control,name:"comprador",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Quien lo compró *"}),o.jsx(Rt,{children:o.jsx(Ce,{placeholder:"Nombre y cargo",...f})}),o.jsx(Ut,{})]})})]}),o.jsx(Ft,{control:l.control,name:"valorEstimado",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Valor estimado *"}),o.jsx(Rt,{children:o.jsx(Ce,{type:"number",min:"0",step:"100",placeholder:"Valor en pesos chilenos",...f,onChange:h=>f.onChange(Number(h.target.value))})}),o.jsx(ld,{children:"Costo de adquisición o valor actual aproximado"}),o.jsx(Ut,{})]})}),o.jsx(ke,{className:"border-dashed",children:o.jsxs(Ae,{className:"pt-6",children:[o.jsx(Ft,{control:l.control,name:"donacionEs",render:({field:f})=>o.jsxs(Ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsxs(Dt,{className:"flex items-center gap-2",children:[o.jsx(lm,{className:"w-4 h-4"}),"¿Es una donación?"]}),o.jsx(ld,{children:"Marque si este item fue recibido como donación"})]}),o.jsx(Rt,{children:o.jsx(Is,{checked:f.value,onCheckedChange:f.onChange})})]})}),u&&o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs(pt,{variant:"outline",className:"text-blue-600",children:[o.jsx(lm,{className:"w-3 h-3 mr-1"}),"Item de donación"]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Ft,{control:l.control,name:"donacionValor",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Valor aproximado de la donación *"}),o.jsx(Rt,{children:o.jsx(Ce,{type:"number",min:"0",step:"100",placeholder:"Valor aproximado",...f,onChange:h=>f.onChange(Number(h.target.value))})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:l.control,name:"donacionDonante",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Donante *"}),o.jsx(Rt,{children:o.jsx(Ce,{placeholder:"Quien hizo la donación",...f})}),o.jsx(Ut,{})]})})]})]})]})})]})]})}),o.jsx(Wr,{value:"mantenimiento",className:"space-y-4",children:o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsx(Ze,{children:"Mantenimiento"})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsx(Ft,{control:l.control,name:"mantenimientoRequiere",render:({field:f})=>o.jsxs(Ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Dt,{children:"¿Requiere mantenimiento?"}),o.jsx(ld,{children:"Indique si este item necesita mantenimiento periódico"})]}),o.jsx(Rt,{children:o.jsx(Is,{checked:f.value,onCheckedChange:f.onChange})})]})}),d&&o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Ft,{control:l.control,name:"mantenimientoEncargado",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Encargado del mantenimiento *"}),o.jsx(Rt,{children:o.jsx(Ce,{placeholder:"Empresa o persona encargada",...f})}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:l.control,name:"mantenimientoProximaFecha",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Próxima fecha de mantenimiento"}),o.jsx(Rt,{children:o.jsx(Ce,{type:"date",...f})}),o.jsx(Ut,{})]})})]})})]})]})}),o.jsx(Wr,{value:"documentacion",className:"space-y-4",children:o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsx(Ze,{children:"Documentación"})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Ft,{control:l.control,name:"documentacionTipo",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Tipo de documento"}),o.jsxs(hr,{onValueChange:f.onChange,value:f.value,children:[o.jsx(Rt,{children:o.jsx(dr,{children:o.jsx(mr,{placeholder:"Seleccionar tipo"})})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"factura",children:"Factura"}),o.jsx(Te,{value:"boleta",children:"Boleta"}),o.jsx(Te,{value:"contrato",children:"Contrato"}),o.jsx(Te,{value:"garantia",children:"Garantía"}),o.jsx(Te,{value:"otro",children:"Otro"})]})]}),o.jsx(Ut,{})]})}),o.jsx(Ft,{control:l.control,name:"documentacionNumero",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Número de documento"}),o.jsx(Rt,{children:o.jsx(Ce,{placeholder:"Número de factura, boleta, etc.",...f})}),o.jsx(Ut,{})]})})]}),o.jsx(Ft,{control:l.control,name:"observaciones",render:({field:f})=>o.jsxs(Ot,{children:[o.jsx(Dt,{children:"Observaciones"}),o.jsx(Rt,{children:o.jsx(ai,{placeholder:"Notas sobre reparaciones, traslados, pérdidas, etc.",className:"min-h-[80px]",...f})}),o.jsx(ld,{children:"Información adicional sobre el item"}),o.jsx(Ut,{})]})})]})]})})]}),o.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[o.jsx(_e,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancelar"}),o.jsx(_e,{type:"submit",disabled:n,children:n?"Creando...":"Crear Item"})]})]})})]})})}var iO={},fS={},Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});function lYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var cYe=function e(t,r){lYe(this,e),this.data=t,this.text=r.text||t,this.options=r};Vs.default=cYe;Object.defineProperty(fS,"__esModule",{value:!0});fS.CODE39=void 0;var uYe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),dYe=Vs,fYe=hYe(dYe);function hYe(e){return e&&e.__esModule?e:{default:e}}function mYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pYe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function vYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var gYe=function(e){vYe(t,e);function t(r,n){return mYe(this,t),r=r.toUpperCase(),n.mod43&&(r+=_Ye(wYe(r))),pYe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return uYe(t,[{key:"encode",value:function(){for(var n=j2("*"),s=0;s<this.data.length;s++)n+=j2(this.data[s])+"0";return n+=j2("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),t}(fYe.default),zq=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],xYe=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function j2(e){return yYe(Hq(e))}function yYe(e){return xYe[e].toString(2)}function _Ye(e){return zq[e]}function Hq(e){return zq.indexOf(e)}function wYe(e){for(var t=0,r=0;r<e.length;r++)t+=Hq(e[r]);return t=t%43,t}fS.CODE39=gYe;var No={},oO={},Cp={},Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});var a0;function A2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yq=Gr.SET_A=0,Gq=Gr.SET_B=1,qq=Gr.SET_C=2;Gr.SHIFT=98;var bYe=Gr.START_A=103,SYe=Gr.START_B=104,EYe=Gr.START_C=105;Gr.MODULO=103;Gr.STOP=106;Gr.FNC1=207;Gr.SET_BY_CODE=(a0={},A2(a0,bYe,Yq),A2(a0,SYe,Gq),A2(a0,EYe,qq),a0);Gr.SWAP={101:Yq,100:Gq,99:qq};Gr.A_START_CHAR="Ð";Gr.B_START_CHAR="Ñ";Gr.C_START_CHAR="Ò";Gr.A_CHARS="[\0-_È-Ï]";Gr.B_CHARS="[ -È-Ï]";Gr.C_CHARS="(Ï*[0-9]{2}Ï*)";Gr.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Cp,"__esModule",{value:!0});var TYe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),CYe=Vs,NYe=kYe(CYe),va=Gr;function kYe(e){return e&&e.__esModule?e:{default:e}}function jYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AYe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function PYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var OYe=function(e){PYe(t,e);function t(r,n){jYe(this,t);var s=AYe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.substring(1),n));return s.bytes=r.split("").map(function(a){return a.charCodeAt(0)}),s}return TYe(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,s=n.shift()-105,a=va.SET_BY_CODE[s];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(va.FNC1);var i=t.next(n,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(s)+i.result+t.getBar((i.checksum+s)%va.MODULO)+t.getBar(va.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return va.BARS[n]?va.BARS[n].toString():""}},{key:"correctIndex",value:function(n,s){if(s===va.SET_A){var a=n.shift();return a<32?a+64:a-32}else return s===va.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,s,a){if(!n.length)return{result:"",checksum:0};var i=void 0,l=void 0;if(n[0]>=200){l=n.shift()-105;var c=va.SWAP[l];c!==void 0?i=t.next(n,s+1,c):((a===va.SET_A||a===va.SET_B)&&l===va.SHIFT&&(n[0]=a===va.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),i=t.next(n,s+1,a))}else l=t.correctIndex(n,a),i=t.next(n,s+1,a);var u=t.getBar(l),d=l*s;return{result:u+i.result,checksum:d+i.checksum}}}]),t}(NYe.default);Cp.default=OYe;var lO={};Object.defineProperty(lO,"__esModule",{value:!0});var du=Gr,Kq=function(t){return t.match(new RegExp("^"+du.A_CHARS+"*"))[0].length},Xq=function(t){return t.match(new RegExp("^"+du.B_CHARS+"*"))[0].length},Qq=function(t){return t.match(new RegExp("^"+du.C_CHARS+"*"))[0]};function cO(e,t){var r=t?du.A_CHARS:du.B_CHARS,n=e.match(new RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+"Ì"+Zq(e.substring(n[1].length));var s=e.match(new RegExp("^"+r+"+"))[0];return s.length===e.length?e:s+String.fromCharCode(t?205:206)+cO(e.substring(s.length),!t)}function Zq(e){var t=Qq(e),r=t.length;if(r===e.length)return e;e=e.substring(r);var n=Kq(e)>=Xq(e);return t+String.fromCharCode(n?206:205)+cO(e,n)}lO.default=function(e){var t=void 0,r=Qq(e).length;if(r>=2)t=du.C_START_CHAR+Zq(e);else{var n=Kq(e)>Xq(e);t=(n?du.A_START_CHAR:du.B_START_CHAR)+cO(e,n)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(s,a){return"Ë"+a})};Object.defineProperty(oO,"__esModule",{value:!0});var DYe=Cp,RYe=Jq(DYe),IYe=lO,MYe=Jq(IYe);function Jq(e){return e&&e.__esModule?e:{default:e}}function FYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P2(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function LYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $Ye=function(e){LYe(t,e);function t(r,n){if(FYe(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(r))var s=P2(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,MYe.default)(r),n));else var s=P2(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return P2(s)}return t}(RYe.default);oO.default=$Ye;var uO={};Object.defineProperty(uO,"__esModule",{value:!0});var UYe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),BYe=Cp,WYe=VYe(BYe),iL=Gr;function VYe(e){return e&&e.__esModule?e:{default:e}}function zYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HYe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function YYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var GYe=function(e){YYe(t,e);function t(r,n){return zYe(this,t),HYe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,iL.A_START_CHAR+r,n))}return UYe(t,[{key:"valid",value:function(){return new RegExp("^"+iL.A_CHARS+"+$").test(this.data)}}]),t}(WYe.default);uO.default=GYe;var dO={};Object.defineProperty(dO,"__esModule",{value:!0});var qYe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),KYe=Cp,XYe=QYe(KYe),oL=Gr;function QYe(e){return e&&e.__esModule?e:{default:e}}function ZYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JYe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function eGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var tGe=function(e){eGe(t,e);function t(r,n){return ZYe(this,t),JYe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,oL.B_START_CHAR+r,n))}return qYe(t,[{key:"valid",value:function(){return new RegExp("^"+oL.B_CHARS+"+$").test(this.data)}}]),t}(XYe.default);dO.default=tGe;var fO={};Object.defineProperty(fO,"__esModule",{value:!0});var rGe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),nGe=Cp,sGe=aGe(nGe),lL=Gr;function aGe(e){return e&&e.__esModule?e:{default:e}}function iGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oGe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function lGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var cGe=function(e){lGe(t,e);function t(r,n){return iGe(this,t),oGe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,lL.C_START_CHAR+r,n))}return rGe(t,[{key:"valid",value:function(){return new RegExp("^"+lL.C_CHARS+"+$").test(this.data)}}]),t}(sGe.default);fO.default=cGe;Object.defineProperty(No,"__esModule",{value:!0});No.CODE128C=No.CODE128B=No.CODE128A=No.CODE128=void 0;var uGe=oO,dGe=hS(uGe),fGe=uO,hGe=hS(fGe),mGe=dO,pGe=hS(mGe),vGe=fO,gGe=hS(vGe);function hS(e){return e&&e.__esModule?e:{default:e}}No.CODE128=dGe.default;No.CODE128A=hGe.default;No.CODE128B=pGe.default;No.CODE128C=gGe.default;var Qs={},hO={},xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.SIDE_BIN="101";xi.MIDDLE_BIN="01010";xi.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};xi.EAN2_STRUCTURE=["LL","LG","GL","GG"];xi.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];xi.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var mS={},If={};Object.defineProperty(If,"__esModule",{value:!0});var xGe=xi,yGe=function(t,r,n){var s=t.split("").map(function(i,l){return xGe.BINARIES[r[l]]}).map(function(i,l){return i?i[t[l]]:""});if(n){var a=t.length-1;s=s.map(function(i,l){return l<a?i+n:i})}return s.join("")};If.default=yGe;Object.defineProperty(mS,"__esModule",{value:!0});var _Ge=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),th=xi,wGe=If,cL=eK(wGe),bGe=Vs,SGe=eK(bGe);function eK(e){return e&&e.__esModule?e:{default:e}}function EGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TGe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function CGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var NGe=function(e){CGe(t,e);function t(r,n){EGe(this,t);var s=TGe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return s.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,s.guardHeight=n.height+s.fontSize/2+n.textMargin,s}return _Ge(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,s){return this.text.substr(n,s)}},{key:"leftEncode",value:function(n,s){return(0,cL.default)(n,s)}},{key:"rightText",value:function(n,s){return this.text.substr(n,s)}},{key:"rightEncode",value:function(n,s){return(0,cL.default)(n,s)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},s={height:this.guardHeight};return[{data:th.SIDE_BIN,options:s},{data:this.leftEncode(),text:this.leftText(),options:n},{data:th.MIDDLE_BIN,options:s},{data:this.rightEncode(),text:this.rightText(),options:n},{data:th.SIDE_BIN,options:s}]}},{key:"encodeFlat",value:function(){var n=[th.SIDE_BIN,this.leftEncode(),th.MIDDLE_BIN,this.rightEncode(),th.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),t}(SGe.default);mS.default=NGe;Object.defineProperty(hO,"__esModule",{value:!0});var kGe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i0=function e(t,r,n){t===null&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(s===void 0){var a=Object.getPrototypeOf(t);return a===null?void 0:e(a,r,n)}else{if("value"in s)return s.value;var i=s.get;return i===void 0?void 0:i.call(n)}},jGe=xi,AGe=mS,PGe=OGe(AGe);function OGe(e){return e&&e.__esModule?e:{default:e}}function DGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RGe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function IGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var uL=function(t){var r=t.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,s,a){return a%2?n+s*3:n+s},0);return(10-r%10)%10},MGe=function(e){IGe(t,e);function t(r,n){DGe(this,t),r.search(/^[0-9]{12}$/)!==-1&&(r+=uL(r));var s=RGe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return s.lastChar=n.lastChar,s}return kGe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===uL(this.data)}},{key:"leftText",value:function(){return i0(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),s=jGe.EAN13_STRUCTURE[this.data[0]];return i0(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,n,s)}},{key:"rightText",value:function(){return i0(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return i0(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=i0(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),t}(PGe.default);hO.default=MGe;var mO={};Object.defineProperty(mO,"__esModule",{value:!0});var FGe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),T1=function e(t,r,n){t===null&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(s===void 0){var a=Object.getPrototypeOf(t);return a===null?void 0:e(a,r,n)}else{if("value"in s)return s.value;var i=s.get;return i===void 0?void 0:i.call(n)}},LGe=mS,$Ge=UGe(LGe);function UGe(e){return e&&e.__esModule?e:{default:e}}function BGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WGe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function VGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dL=function(t){var r=t.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,s,a){return a%2?n+s:n+s*3},0);return(10-r%10)%10},zGe=function(e){VGe(t,e);function t(r,n){return BGe(this,t),r.search(/^[0-9]{7}$/)!==-1&&(r+=dL(r)),WGe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return FGe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===dL(this.data)}},{key:"leftText",value:function(){return T1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return T1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return T1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return T1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),t}($Ge.default);mO.default=zGe;var pO={};Object.defineProperty(pO,"__esModule",{value:!0});var HGe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),YGe=xi,GGe=If,qGe=tK(GGe),KGe=Vs,XGe=tK(KGe);function tK(e){return e&&e.__esModule?e:{default:e}}function QGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZGe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function JGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var eqe=function(t){var r=t.split("").map(function(n){return+n}).reduce(function(n,s,a){return a%2?n+s*9:n+s*3},0);return r%10},tqe=function(e){JGe(t,e);function t(r,n){return QGe(this,t),ZGe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return HGe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=YGe.EAN5_STRUCTURE[eqe(this.data)];return{data:"1011"+(0,qGe.default)(this.data,n,"01"),text:this.text}}}]),t}(XGe.default);pO.default=tqe;var vO={};Object.defineProperty(vO,"__esModule",{value:!0});var rqe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),nqe=xi,sqe=If,aqe=rK(sqe),iqe=Vs,oqe=rK(iqe);function rK(e){return e&&e.__esModule?e:{default:e}}function lqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cqe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function uqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dqe=function(e){uqe(t,e);function t(r,n){return lqe(this,t),cqe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return rqe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=nqe.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,aqe.default)(this.data,n,"01"),text:this.text}}}]),t}(oqe.default);vO.default=dqe;var vx={};Object.defineProperty(vx,"__esModule",{value:!0});var fqe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();vx.checksum=cN;var hqe=If,rh=nK(hqe),mqe=Vs,pqe=nK(mqe);function nK(e){return e&&e.__esModule?e:{default:e}}function vqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gqe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function xqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yqe=function(e){xqe(t,e);function t(r,n){vqe(this,t),r.search(/^[0-9]{11}$/)!==-1&&(r+=cN(r));var s=gqe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return s.displayValue=n.displayValue,n.fontSize>n.width*10?s.fontSize=n.width*10:s.fontSize=n.fontSize,s.guardHeight=n.height+s.fontSize/2+n.textMargin,s}return fqe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==cN(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,rh.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,rh.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,rh.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,rh.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,rh.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,rh.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),t}(pqe.default);function cN(e){var t=0,r;for(r=1;r<11;r+=2)t+=parseInt(e[r]);for(r=0;r<11;r+=2)t+=parseInt(e[r])*3;return(10-t%10)%10}vx.default=yqe;var gO={};Object.defineProperty(gO,"__esModule",{value:!0});var _qe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),wqe=If,bqe=sK(wqe),Sqe=Vs,Eqe=sK(Sqe),Tqe=vx;function sK(e){return e&&e.__esModule?e:{default:e}}function Cqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O2(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Nqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var kqe=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],jqe=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],Aqe=function(e){Nqe(t,e);function t(r,n){Cqe(this,t);var s=O2(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));if(s.isValid=!1,r.search(/^[0-9]{6}$/)!==-1)s.middleDigits=r,s.upcA=fL(r,"0"),s.text=n.text||""+s.upcA[0]+r+s.upcA[s.upcA.length-1],s.isValid=!0;else if(r.search(/^[01][0-9]{7}$/)!==-1)if(s.middleDigits=r.substring(1,r.length-1),s.upcA=fL(s.middleDigits,r[0]),s.upcA[s.upcA.length-1]===r[r.length-1])s.isValid=!0;else return O2(s);else return O2(s);return s.displayValue=n.displayValue,n.fontSize>n.width*10?s.fontSize=n.width*10:s.fontSize=n.fontSize,s.guardHeight=n.height+s.fontSize/2+n.textMargin,s}return _qe(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],s=this.upcA[this.upcA.length-1],a=jqe[parseInt(s)][parseInt(n)];return(0,bqe.default)(this.middleDigits,a)}}]),t}(Eqe.default);function fL(e,t){for(var r=parseInt(e[e.length-1]),n=kqe[r],s="",a=0,i=0;i<n.length;i++){var l=n[i];l==="X"?s+=e[a++]:s+=l}return s=""+t+s,""+s+(0,Tqe.checksum)(s)}gO.default=Aqe;Object.defineProperty(Qs,"__esModule",{value:!0});Qs.UPCE=Qs.UPC=Qs.EAN2=Qs.EAN5=Qs.EAN8=Qs.EAN13=void 0;var Pqe=hO,Oqe=Np(Pqe),Dqe=mO,Rqe=Np(Dqe),Iqe=pO,Mqe=Np(Iqe),Fqe=vO,Lqe=Np(Fqe),$qe=vx,Uqe=Np($qe),Bqe=gO,Wqe=Np(Bqe);function Np(e){return e&&e.__esModule?e:{default:e}}Qs.EAN13=Oqe.default;Qs.EAN8=Rqe.default;Qs.EAN5=Mqe.default;Qs.EAN2=Lqe.default;Qs.UPC=Uqe.default;Qs.UPCE=Wqe.default;var Fm={},pS={},gx={};Object.defineProperty(gx,"__esModule",{value:!0});gx.START_BIN="1010";gx.END_BIN="11101";gx.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(pS,"__esModule",{value:!0});var Vqe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),C1=gx,zqe=Vs,Hqe=Yqe(zqe);function Yqe(e){return e&&e.__esModule?e:{default:e}}function Gqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qqe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Kqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Xqe=function(e){Kqe(t,e);function t(){return Gqe(this,t),qqe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Vqe(t,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,s=this.data.match(/.{2}/g).map(function(a){return n.encodePair(a)}).join("");return{data:C1.START_BIN+s+C1.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var s=C1.BINARIES[n[1]];return C1.BINARIES[n[0]].split("").map(function(a,i){return(a==="1"?"111":"1")+(s[i]==="1"?"000":"0")}).join("")}}]),t}(Hqe.default);pS.default=Xqe;var xO={};Object.defineProperty(xO,"__esModule",{value:!0});var Qqe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Zqe=pS,Jqe=eKe(Zqe);function eKe(e){return e&&e.__esModule?e:{default:e}}function tKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rKe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function nKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var hL=function(t){var r=t.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,s,a){return n+s*(3-a%2*2)},0);return Math.ceil(r/10)*10-r},sKe=function(e){nKe(t,e);function t(r,n){return tKe(this,t),r.search(/^[0-9]{13}$/)!==-1&&(r+=hL(r)),rKe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return Qqe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===hL(this.data)}}]),t}(Jqe.default);xO.default=sKe;Object.defineProperty(Fm,"__esModule",{value:!0});Fm.ITF14=Fm.ITF=void 0;var aKe=pS,iKe=aK(aKe),oKe=xO,lKe=aK(oKe);function aK(e){return e&&e.__esModule?e:{default:e}}Fm.ITF=iKe.default;Fm.ITF14=lKe.default;var ei={},Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});var cKe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),uKe=Vs,dKe=fKe(uKe);function fKe(e){return e&&e.__esModule?e:{default:e}}function hKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mKe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function pKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var vKe=function(e){pKe(t,e);function t(r,n){return hKe(this,t),mKe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return cKe(t,[{key:"encode",value:function(){for(var n="110",s=0;s<this.data.length;s++){var a=parseInt(this.data[s]),i=a.toString(2);i=gKe(i,4-i.length);for(var l=0;l<i.length;l++)n+=i[l]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),t}(dKe.default);function gKe(e,t){for(var r=0;r<t;r++)e="0"+e;return e}Mf.default=vKe;var yO={},Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});Ff.mod10=xKe;Ff.mod11=yKe;function xKe(e){for(var t=0,r=0;r<e.length;r++){var n=parseInt(e[r]);(r+e.length)%2===0?t+=n:t+=n*2%10+Math.floor(n*2/10)}return(10-t%10)%10}function yKe(e){for(var t=0,r=[2,3,4,5,6,7],n=0;n<e.length;n++){var s=parseInt(e[e.length-1-n]);t+=r[n%r.length]*s}return(11-t%11)%11}Object.defineProperty(yO,"__esModule",{value:!0});var _Ke=Mf,wKe=SKe(_Ke),bKe=Ff;function SKe(e){return e&&e.__esModule?e:{default:e}}function EKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TKe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function CKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var NKe=function(e){CKe(t,e);function t(r,n){return EKe(this,t),TKe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,bKe.mod10)(r),n))}return t}(wKe.default);yO.default=NKe;var _O={};Object.defineProperty(_O,"__esModule",{value:!0});var kKe=Mf,jKe=PKe(kKe),AKe=Ff;function PKe(e){return e&&e.__esModule?e:{default:e}}function OKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DKe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function RKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var IKe=function(e){RKe(t,e);function t(r,n){return OKe(this,t),DKe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,AKe.mod11)(r),n))}return t}(jKe.default);_O.default=IKe;var wO={};Object.defineProperty(wO,"__esModule",{value:!0});var MKe=Mf,FKe=LKe(MKe),mL=Ff;function LKe(e){return e&&e.__esModule?e:{default:e}}function $Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UKe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function BKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var WKe=function(e){BKe(t,e);function t(r,n){return $Ke(this,t),r+=(0,mL.mod10)(r),r+=(0,mL.mod10)(r),UKe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return t}(FKe.default);wO.default=WKe;var bO={};Object.defineProperty(bO,"__esModule",{value:!0});var VKe=Mf,zKe=HKe(VKe),pL=Ff;function HKe(e){return e&&e.__esModule?e:{default:e}}function YKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GKe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var KKe=function(e){qKe(t,e);function t(r,n){return YKe(this,t),r+=(0,pL.mod11)(r),r+=(0,pL.mod10)(r),GKe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return t}(zKe.default);bO.default=KKe;Object.defineProperty(ei,"__esModule",{value:!0});ei.MSI1110=ei.MSI1010=ei.MSI11=ei.MSI10=ei.MSI=void 0;var XKe=Mf,QKe=xx(XKe),ZKe=yO,JKe=xx(ZKe),eXe=_O,tXe=xx(eXe),rXe=wO,nXe=xx(rXe),sXe=bO,aXe=xx(sXe);function xx(e){return e&&e.__esModule?e:{default:e}}ei.MSI=QKe.default;ei.MSI10=JKe.default;ei.MSI11=tXe.default;ei.MSI1010=nXe.default;ei.MSI1110=aXe.default;var vS={};Object.defineProperty(vS,"__esModule",{value:!0});vS.pharmacode=void 0;var iXe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),oXe=Vs,lXe=cXe(oXe);function cXe(e){return e&&e.__esModule?e:{default:e}}function uXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dXe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function fXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var hXe=function(e){fXe(t,e);function t(r,n){uXe(this,t);var s=dXe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return s.number=parseInt(r,10),s}return iXe(t,[{key:"encode",value:function(){for(var n=this.number,s="";!isNaN(n)&&n!=0;)n%2===0?(s="11100"+s,n=(n-2)/2):(s="100"+s,n=(n-1)/2);return s=s.slice(0,-2),{data:s,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(lXe.default);vS.pharmacode=hXe;var gS={};Object.defineProperty(gS,"__esModule",{value:!0});gS.codabar=void 0;var mXe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),pXe=Vs,vXe=gXe(pXe);function gXe(e){return e&&e.__esModule?e:{default:e}}function xXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yXe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _Xe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var wXe=function(e){_Xe(t,e);function t(r,n){xXe(this,t),r.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(r="A"+r+"A");var s=yXe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.toUpperCase(),n));return s.text=s.options.text||s.text.replace(/[A-D]/g,""),s}return mXe(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],s=this.getEncodings(),a=0;a<this.data.length;a++)n.push(s[this.data.charAt(a)]),a!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(vXe.default);gS.codabar=wXe;var Lm={},xS={},yx={};Object.defineProperty(yx,"__esModule",{value:!0});yx.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","ÿ"];yx.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];yx.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(xS,"__esModule",{value:!0});var bXe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),N1=yx,SXe=Vs,EXe=TXe(SXe);function TXe(e){return e&&e.__esModule?e:{default:e}}function CXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NXe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jXe=function(e){kXe(t,e);function t(r,n){return CXe(this,t),NXe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return bXe(t,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.data.split("").flatMap(function(l){return N1.MULTI_SYMBOLS[l]||l}),s=n.map(function(l){return t.getEncoding(l)}).join(""),a=t.checksum(n,20),i=t.checksum(n.concat(a),15);return{text:this.text,data:t.getEncoding("ÿ")+s+t.getEncoding(a)+t.getEncoding(i)+t.getEncoding("ÿ")+"1"}}}],[{key:"getEncoding",value:function(n){return N1.BINARIES[t.symbolValue(n)]}},{key:"getSymbol",value:function(n){return N1.SYMBOLS[n]}},{key:"symbolValue",value:function(n){return N1.SYMBOLS.indexOf(n)}},{key:"checksum",value:function(n,s){var a=n.slice().reverse().reduce(function(i,l,c){var u=c%s+1;return i+t.symbolValue(l)*u},0);return t.getSymbol(a%47)}}]),t}(EXe.default);xS.default=jXe;var SO={};Object.defineProperty(SO,"__esModule",{value:!0});var AXe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),PXe=xS,OXe=DXe(PXe);function DXe(e){return e&&e.__esModule?e:{default:e}}function RXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IXe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function MXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var FXe=function(e){MXe(t,e);function t(r,n){return RXe(this,t),IXe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return AXe(t,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),t}(OXe.default);SO.default=FXe;Object.defineProperty(Lm,"__esModule",{value:!0});Lm.CODE93FullASCII=Lm.CODE93=void 0;var LXe=xS,$Xe=iK(LXe),UXe=SO,BXe=iK(UXe);function iK(e){return e&&e.__esModule?e:{default:e}}Lm.CODE93=$Xe.default;Lm.CODE93FullASCII=BXe.default;var yS={};Object.defineProperty(yS,"__esModule",{value:!0});yS.GenericBarcode=void 0;var WXe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),VXe=Vs,zXe=HXe(VXe);function HXe(e){return e&&e.__esModule?e:{default:e}}function YXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GXe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var KXe=function(e){qXe(t,e);function t(r,n){return YXe(this,t),GXe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return WXe(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(zXe.default);yS.GenericBarcode=KXe;Object.defineProperty(iO,"__esModule",{value:!0});var XXe=fS,k1=No,nh=Qs,vL=Fm,o0=ei,QXe=vS,ZXe=gS,gL=Lm,JXe=yS;iO.default={CODE39:XXe.CODE39,CODE128:k1.CODE128,CODE128A:k1.CODE128A,CODE128B:k1.CODE128B,CODE128C:k1.CODE128C,EAN13:nh.EAN13,EAN8:nh.EAN8,EAN5:nh.EAN5,EAN2:nh.EAN2,UPC:nh.UPC,UPCE:nh.UPCE,ITF14:vL.ITF14,ITF:vL.ITF,MSI:o0.MSI,MSI10:o0.MSI10,MSI11:o0.MSI11,MSI1010:o0.MSI1010,MSI1110:o0.MSI1110,pharmacode:QXe.pharmacode,codabar:ZXe.codabar,CODE93:gL.CODE93,CODE93FullASCII:gL.CODE93FullASCII,GenericBarcode:JXe.GenericBarcode};var kp={};Object.defineProperty(kp,"__esModule",{value:!0});var eQe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};kp.default=function(e,t){return eQe({},e,t)};var EO={};Object.defineProperty(EO,"__esModule",{value:!0});EO.default=tQe;function tQe(e){var t=[];function r(n){if(Array.isArray(n))for(var s=0;s<n.length;s++)r(n[s]);else n.text=n.text||"",n.data=n.data||"",t.push(n)}return r(e),t}var TO={};Object.defineProperty(TO,"__esModule",{value:!0});TO.default=rQe;function rQe(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}var CO={},NO={},_S={};Object.defineProperty(_S,"__esModule",{value:!0});_S.default=nQe;function nQe(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in t)t.hasOwnProperty(r)&&(r=t[r],typeof e[r]=="string"&&(e[r]=parseInt(e[r],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}var wS={};Object.defineProperty(wS,"__esModule",{value:!0});var sQe={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};wS.default=sQe;Object.defineProperty(NO,"__esModule",{value:!0});var aQe=_S,iQe=oK(aQe),oQe=wS,xL=oK(oQe);function oK(e){return e&&e.__esModule?e:{default:e}}function lQe(e){var t={};for(var r in xL.default)xL.default.hasOwnProperty(r)&&(e.hasAttribute("jsbarcode-"+r.toLowerCase())&&(t[r]=e.getAttribute("jsbarcode-"+r.toLowerCase())),e.hasAttribute("data-"+r.toLowerCase())&&(t[r]=e.getAttribute("data-"+r.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,iQe.default)(t),t}NO.default=lQe;var kO={},jO={},Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.getTotalWidthOfEncodings=Ta.calculateEncodingAttributes=Ta.getBarcodePadding=Ta.getEncodingHeight=Ta.getMaximumHeightOfEncodings=void 0;var cQe=kp,uQe=dQe(cQe);function dQe(e){return e&&e.__esModule?e:{default:e}}function lK(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function cK(e,t,r){if(r.displayValue&&t<e){if(r.textAlign=="center")return Math.floor((e-t)/2);if(r.textAlign=="left")return 0;if(r.textAlign=="right")return Math.floor(e-t)}return 0}function fQe(e,t,r){for(var n=0;n<e.length;n++){var s=e[n],a=(0,uQe.default)(t,s.options),i;a.displayValue?i=pQe(s.text,a,r):i=0;var l=s.data.length*a.width;s.width=Math.ceil(Math.max(i,l)),s.height=lK(s,a),s.barcodePadding=cK(i,l,a)}}function hQe(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].width;return t}function mQe(e){for(var t=0,r=0;r<e.length;r++)e[r].height>t&&(t=e[r].height);return t}function pQe(e,t,r){var n;if(r)n=r;else if(typeof document<"u")n=document.createElement("canvas").getContext("2d");else return 0;n.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var s=n.measureText(e);if(!s)return 0;var a=s.width;return a}Ta.getMaximumHeightOfEncodings=mQe;Ta.getEncodingHeight=lK;Ta.getBarcodePadding=cK;Ta.calculateEncodingAttributes=fQe;Ta.getTotalWidthOfEncodings=hQe;Object.defineProperty(jO,"__esModule",{value:!0});var vQe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),gQe=kp,xQe=yQe(gQe),D2=Ta;function yQe(e){return e&&e.__esModule?e:{default:e}}function _Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var wQe=function(){function e(t,r,n){_Qe(this,e),this.canvas=t,this.encodings=r,this.options=n}return vQe(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var r=0;r<this.encodings.length;r++){var n=(0,xQe.default)(this.options,this.encodings[r].options);this.drawCanvasBarcode(n,this.encodings[r]),this.drawCanvasText(n,this.encodings[r]),this.moveCanvasDrawing(this.encodings[r])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var r=this.canvas.getContext("2d");r.save(),(0,D2.calculateEncodingAttributes)(this.encodings,this.options,r);var n=(0,D2.getTotalWidthOfEncodings)(this.encodings),s=(0,D2.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=s,r.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(r.fillStyle=this.options.background,r.fillRect(0,0,this.canvas.width,this.canvas.height)),r.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(r,n){var s=this.canvas.getContext("2d"),a=n.data,i;r.textPosition=="top"?i=r.marginTop+r.fontSize+r.textMargin:i=r.marginTop,s.fillStyle=r.lineColor;for(var l=0;l<a.length;l++){var c=l*r.width+n.barcodePadding;a[l]==="1"?s.fillRect(c,i,r.width,r.height):a[l]&&s.fillRect(c,i,r.width,r.height*a[l])}}},{key:"drawCanvasText",value:function(r,n){var s=this.canvas.getContext("2d"),a=r.fontOptions+" "+r.fontSize+"px "+r.font;if(r.displayValue){var i,l;r.textPosition=="top"?l=r.marginTop+r.fontSize-r.textMargin:l=r.height+r.textMargin+r.marginTop+r.fontSize,s.font=a,r.textAlign=="left"||n.barcodePadding>0?(i=0,s.textAlign="left"):r.textAlign=="right"?(i=n.width-1,s.textAlign="right"):(i=n.width/2,s.textAlign="center"),s.fillText(n.text,i,l)}}},{key:"moveCanvasDrawing",value:function(r){var n=this.canvas.getContext("2d");n.translate(r.width,0)}},{key:"restoreCanvas",value:function(){var r=this.canvas.getContext("2d");r.restore()}}]),e}();jO.default=wQe;var AO={};Object.defineProperty(AO,"__esModule",{value:!0});var bQe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),SQe=kp,EQe=TQe(SQe),R2=Ta;function TQe(e){return e&&e.__esModule?e:{default:e}}function CQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var j1="http://www.w3.org/2000/svg",NQe=function(){function e(t,r,n){CQe(this,e),this.svg=t,this.encodings=r,this.options=n,this.document=n.xmlDocument||document}return bQe(e,[{key:"render",value:function(){var r=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var s=this.encodings[n],a=(0,EQe.default)(this.options,s.options),i=this.createGroup(r,a.marginTop,this.svg);this.setGroupOptions(i,a),this.drawSvgBarcode(i,a,s),this.drawSVGText(i,a,s),r+=s.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,R2.calculateEncodingAttributes)(this.encodings,this.options);var r=(0,R2.getTotalWidthOfEncodings)(this.encodings),n=(0,R2.getMaximumHeightOfEncodings)(this.encodings),s=r+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(s,n),this.options.background&&this.drawRect(0,0,s,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(r,n,s){var a=s.data,i;n.textPosition=="top"?i=n.fontSize+n.textMargin:i=0;for(var l=0,c=0,u=0;u<a.length;u++)c=u*n.width+s.barcodePadding,a[u]==="1"?l++:l>0&&(this.drawRect(c-n.width*l,i,n.width*l,n.height,r),l=0);l>0&&this.drawRect(c-n.width*(l-1),i,n.width*l,n.height,r)}},{key:"drawSVGText",value:function(r,n,s){var a=this.document.createElementNS(j1,"text");if(n.displayValue){var i,l;a.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?l=n.fontSize-n.textMargin:l=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||s.barcodePadding>0?(i=0,a.setAttribute("text-anchor","start")):n.textAlign=="right"?(i=s.width-1,a.setAttribute("text-anchor","end")):(i=s.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",i),a.setAttribute("y",l),a.appendChild(this.document.createTextNode(s.text)),r.appendChild(a)}}},{key:"setSvgAttributes",value:function(r,n){var s=this.svg;s.setAttribute("width",r+"px"),s.setAttribute("height",n+"px"),s.setAttribute("x","0px"),s.setAttribute("y","0px"),s.setAttribute("viewBox","0 0 "+r+" "+n),s.setAttribute("xmlns",j1),s.setAttribute("version","1.1"),s.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(r,n,s){var a=this.document.createElementNS(j1,"g");return a.setAttribute("transform","translate("+r+", "+n+")"),s.appendChild(a),a}},{key:"setGroupOptions",value:function(r,n){r.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(r,n,s,a,i){var l=this.document.createElementNS(j1,"rect");return l.setAttribute("x",r),l.setAttribute("y",n),l.setAttribute("width",s),l.setAttribute("height",a),i.appendChild(l),l}}]),e}();AO.default=NQe;var PO={};Object.defineProperty(PO,"__esModule",{value:!0});var kQe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function jQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var AQe=function(){function e(t,r,n){jQe(this,e),this.object=t,this.encodings=r,this.options=n}return kQe(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();PO.default=AQe;Object.defineProperty(kO,"__esModule",{value:!0});var PQe=jO,OQe=OO(PQe),DQe=AO,RQe=OO(DQe),IQe=PO,MQe=OO(IQe);function OO(e){return e&&e.__esModule?e:{default:e}}kO.default={CanvasRenderer:OQe.default,SVGRenderer:RQe.default,ObjectRenderer:MQe.default};var jp={};Object.defineProperty(jp,"__esModule",{value:!0});function DO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function IO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var FQe=function(e){IO(t,e);function t(r,n){DO(this,t);var s=RO(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.name="InvalidInputException",s.symbology=r,s.input=n,s.message='"'+s.input+'" is not a valid input for '+s.symbology,s}return t}(Error),LQe=function(e){IO(t,e);function t(){DO(this,t);var r=RO(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="InvalidElementException",r.message="Not supported type to render on",r}return t}(Error),$Qe=function(e){IO(t,e);function t(){DO(this,t);var r=RO(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="NoElementException",r.message="No element to render on.",r}return t}(Error);jp.InvalidInputException=FQe;jp.InvalidElementException=LQe;jp.NoElementException=$Qe;Object.defineProperty(CO,"__esModule",{value:!0});var UQe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BQe=NO,uN=uK(BQe),WQe=kO,x0=uK(WQe),VQe=jp;function uK(e){return e&&e.__esModule?e:{default:e}}function MO(e){if(typeof e=="string")return zQe(e);if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(MO(e[r]));return t}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return HQe(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,uN.default)(e),renderer:x0.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,uN.default)(e),renderer:x0.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:x0.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":UQe(e))==="object"&&!e.nodeName)return{element:e,renderer:x0.default.ObjectRenderer};throw new VQe.InvalidElementException}}function zQe(e){var t=document.querySelectorAll(e);if(t.length!==0){for(var r=[],n=0;n<t.length;n++)r.push(MO(t[n]));return r}}function HQe(e){var t=document.createElement("canvas");return{element:t,options:(0,uN.default)(e),renderer:x0.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}CO.default=MO;var FO={};Object.defineProperty(FO,"__esModule",{value:!0});var YQe=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function GQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var qQe=function(){function e(t){GQe(this,e),this.api=t}return YQe(e,[{key:"handleCatch",value:function(r){if(r.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw r.message;else throw r;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(r){try{var n=r.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(s){return this.handleCatch(s),this.api}}}]),e}();FO.default=qQe;var KQe=iO,Id=Xu(KQe),XQe=kp,_x=Xu(XQe),QQe=EO,dK=Xu(QQe),ZQe=TO,yL=Xu(ZQe),JQe=CO,eZe=Xu(JQe),tZe=_S,rZe=Xu(tZe),nZe=FO,sZe=Xu(nZe),fK=jp,aZe=wS,hK=Xu(aZe);function Xu(e){return e&&e.__esModule?e:{default:e}}var Dl=function(){},bS=function(t,r,n){var s=new Dl;if(typeof t>"u")throw Error("No element to render on was provided.");return s._renderProperties=(0,eZe.default)(t),s._encodings=[],s._options=hK.default,s._errorHandler=new sZe.default(s),typeof r<"u"&&(n=n||{},n.format||(n.format=pK()),s.options(n)[n.format](r,n).render()),s};bS.getModule=function(e){return Id.default[e]};for(var _L in Id.default)Id.default.hasOwnProperty(_L)&&iZe(Id.default,_L);function iZe(e,t){Dl.prototype[t]=Dl.prototype[t.toUpperCase()]=Dl.prototype[t.toLowerCase()]=function(r,n){var s=this;return s._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text>"u"?void 0:""+n.text;var a=(0,_x.default)(s._options,n);a=(0,rZe.default)(a);var i=e[t],l=mK(r,i,a);return s._encodings.push(l),s})}}function mK(e,t,r){e=""+e;var n=new t(e,r);if(!n.valid())throw new fK.InvalidInputException(n.constructor.name,e);var s=n.encode();s=(0,dK.default)(s);for(var a=0;a<s.length;a++)s[a].options=(0,_x.default)(r,s[a].options);return s}function pK(){return Id.default.CODE128?"CODE128":Object.keys(Id.default)[0]}Dl.prototype.options=function(e){return this._options=(0,_x.default)(this._options,e),this};Dl.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this};Dl.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var t in this._renderProperties){e=this._renderProperties[t];var r=(0,_x.default)(this._options,e.options);r.format=="auto"&&(r.format=pK()),this._errorHandler.wrapBarcodeCall(function(){var n=r.value,s=Id.default[r.format.toUpperCase()],a=mK(n,s,r);dN(e,a,r)})}}};Dl.prototype.render=function(){if(!this._renderProperties)throw new fK.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)dN(this._renderProperties[e],this._encodings,this._options);else dN(this._renderProperties,this._encodings,this._options);return this};Dl.prototype._defaults=hK.default;function dN(e,t,r){t=(0,dK.default)(t);for(var n=0;n<t.length;n++)t[n].options=(0,_x.default)(r,t[n].options),(0,yL.default)(t[n].options);(0,yL.default)(r);var s=e.renderer,a=new s(e.element,t,r);a.render(),e.afterRender&&e.afterRender()}typeof window<"u"&&(window.JsBarcode=bS);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(e,t){var r=[];return jQuery(this).each(function(){r.push(this)}),bS(r,e,t)});var oZe=bS;const lZe=Us(oZe);function cZe({open:e,onOpenChange:t,item:r,onSuccess:n}){const s=w.useRef(null);if(w.useEffect(()=>{if(r&&s.current)try{lZe(s.current,r.codigoBarras,{format:"CODE128",width:2,height:40,displayValue:!0,fontSize:12,margin:0})}catch(d){console.error("Error generando código de barras:",d)}},[r]),!r)return null;const a=d=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(d),i=d=>new Date(d).toLocaleDateString("es-CL"),l=d=>{switch(d){case"bueno":return"bg-green-100 text-green-800";case"regular":return"bg-yellow-100 text-yellow-800";case"malo":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=d=>{switch(d){case"nuevo":return"bg-blue-100 text-blue-800";case"segunda":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},u=r.donacion.esDonacion?r.donacion.valorAproximado||0:r.valorEstimado;return o.jsx(fi,{open:e,onOpenChange:t,children:o.jsxs(Ua,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ba,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx(Wa,{className:"text-xl",children:r.nombre}),o.jsxs(Cf,{className:"mt-2",children:["Código: ",o.jsx("span",{className:"font-mono font-medium",children:r.codigo})]})]}),o.jsxs("div",{className:"flex gap-2",children:[r.donacion.esDonacion&&o.jsxs(pt,{variant:"outline",className:"text-blue-600",children:[o.jsx(lm,{className:"w-3 h-3 mr-1"}),"Donación"]}),o.jsx(pt,{className:l(r.estado.conservacion),children:r.estado.conservacion}),o.jsx(pt,{className:c(r.estado.condicion),children:r.estado.condicion})]})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(Vd,{className:"w-5 h-5"}),"Información General"]})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Descripción"}),o.jsx("p",{className:"text-sm",children:r.descripcion})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Cantidad"}),o.jsxs("p",{className:"text-sm font-medium",children:[r.cantidad," unidad",r.cantidad!==1?"es":""]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[o.jsx(cm,{className:"w-4 h-4"}),"Ubicación"]}),o.jsx("p",{className:"text-sm",children:r.ubicacion.zona}),r.ubicacion.referenciaInterna&&o.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["Ref: ",r.ubicacion.referenciaInterna]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[o.jsx(Du,{className:"w-4 h-4"}),"Responsable"]}),o.jsx("p",{className:"text-sm",children:r.responsable})]})]})]})]}),o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(ire,{className:"w-5 h-5"}),"Código de Barras"]})}),o.jsxs(Ae,{children:[o.jsx("div",{className:"flex justify-center p-4 bg-white border rounded",children:o.jsx("svg",{ref:s})}),o.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2 font-mono",children:r.codigoBarras})]})]}),o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx($l,{className:"w-5 h-5"}),"Estado y Valuación"]})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[o.jsx(gs,{className:"w-4 h-4"}),"Fecha de Adquisición"]}),o.jsx("p",{className:"text-sm",children:i(r.fechaAdquisicion.fecha)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Comprado por: ",r.fechaAdquisicion.comprador]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:r.donacion.esDonacion?"Valor Aproximado":"Valor Estimado"}),o.jsx("p",{className:"text-lg font-semibold",children:a(u)}),r.donacion.esDonacion&&o.jsxs("p",{className:"text-xs text-blue-600",children:["Donado por: ",r.donacion.donante]})]})]}),r.estado.observaciones&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Observaciones del Estado"}),o.jsx("p",{className:"text-sm",children:r.estado.observaciones})]})]})]}),o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(vv,{className:"w-5 h-5"}),"Mantenimiento"]})}),o.jsx(Ae,{children:r.mantenimiento.requiere?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(pt,{variant:"outline",className:"text-orange-600",children:"Requiere mantenimiento"})}),r.mantenimiento.encargado&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Encargado"}),o.jsx("p",{className:"text-sm",children:r.mantenimiento.encargado})]}),r.mantenimiento.proximaFecha&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Próximo Mantenimiento"}),o.jsx("p",{className:"text-sm",children:i(r.mantenimiento.proximaFecha)})]})]}):o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(pt,{variant:"outline",className:"text-green-600",children:"No requiere mantenimiento"})})})]}),(r.documentacion.tipoDocumento||r.documentacion.numeroDocumento)&&o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(_f,{className:"w-5 h-5"}),"Documentación"]})}),o.jsxs(Ae,{className:"space-y-3",children:[r.documentacion.tipoDocumento&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Tipo de Documento"}),o.jsx("p",{className:"text-sm capitalize",children:r.documentacion.tipoDocumento})]}),r.documentacion.numeroDocumento&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Número de Documento"}),o.jsx("p",{className:"text-sm font-mono",children:r.documentacion.numeroDocumento})]})]})]}),r.observaciones&&o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsx(Ze,{children:"Observaciones"})}),o.jsx(Ae,{children:o.jsx("p",{className:"text-sm",children:r.observaciones})})]}),o.jsx(ke,{className:"bg-muted/30",children:o.jsx(Ae,{className:"pt-6",children:o.jsxs("div",{className:"grid gap-2 text-xs text-muted-foreground",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Fecha de creación:"}),o.jsx("span",{children:i(r.fechaCreacion)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Última actualización:"}),o.jsx("span",{children:i(r.fechaActualizacion)})]})]})})})]}),o.jsx(Xs,{}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(_e,{variant:"outline",onClick:()=>t(!1),children:"Cerrar"}),o.jsxs(_e,{variant:"outline",children:[o.jsx(hk,{className:"w-4 h-4 mr-2"}),"Editar"]})]})]})})}function uZe(){const[e,t]=w.useState(null),[r,n]=w.useState(!0);if(w.useEffect(()=>{(async()=>{try{n(!0);const c=await aYe();t(c)}catch(c){console.error("Error cargando resumen:",c)}finally{n(!1)}})()},[]),r)return o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((l,c)=>o.jsx(ke,{children:o.jsx(Ae,{className:"p-6",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),o.jsx("div",{className:"h-8 bg-muted rounded w-1/2"})]})})},c))});if(!e)return o.jsx(ke,{children:o.jsxs(Ae,{className:"py-12 text-center",children:[o.jsx(xo,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No se pudo cargar el resumen del patrimonio"})]})});const s=l=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),a=e.totalItems>0?e.mantenimiento.alDia/e.totalItems*100:0,i=e.totalItems>0?e.itemsPorEstado.bueno/e.totalItems*100:0;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Total Items"}),o.jsx(Vd,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Ae,{children:[o.jsx("div",{className:"text-2xl font-bold",children:e.totalItems}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Items registrados en el inventario"})]})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Valor Total Patrimonio"}),o.jsx($l,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Ae,{children:[o.jsx("div",{className:"text-2xl font-bold",children:s(e.valorTotalPatrimonio)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor estimado total de bienes"})]})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Donaciones"}),o.jsx(lm,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Ae,{children:[o.jsx("div",{className:"text-2xl font-bold",children:e.donaciones.cantidad}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[s(e.donaciones.valorTotal)," en donaciones"]})]})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Mantenimiento Pendiente"}),o.jsx(vv,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Ae,{children:[o.jsx("div",{className:"text-2xl font-bold",children:e.mantenimiento.pendientes}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Items que requieren mantenimiento"})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(si,{className:"w-5 h-5"}),"Estado de Conservación"]}),o.jsx(Qt,{children:"Distribución de items por estado de conservación"})]}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dv,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{className:"text-sm",children:"Bueno"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:e.itemsPorEstado.bueno}),o.jsxs(pt,{variant:"outline",className:"bg-green-50 text-green-700",children:[e.totalItems>0?Math.round(e.itemsPorEstado.bueno/e.totalItems*100):0,"%"]})]})]}),o.jsx(Ic,{value:e.totalItems>0?e.itemsPorEstado.bueno/e.totalItems*100:0,className:"h-2"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xo,{className:"w-4 h-4 text-yellow-500"}),o.jsx("span",{className:"text-sm",children:"Regular"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:e.itemsPorEstado.regular}),o.jsxs(pt,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:[e.totalItems>0?Math.round(e.itemsPorEstado.regular/e.totalItems*100):0,"%"]})]})]}),o.jsx(Ic,{value:e.totalItems>0?e.itemsPorEstado.regular/e.totalItems*100:0,className:"h-2"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xo,{className:"w-4 h-4 text-red-500"}),o.jsx("span",{className:"text-sm",children:"Malo"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:e.itemsPorEstado.malo}),o.jsxs(pt,{variant:"outline",className:"bg-red-50 text-red-700",children:[e.totalItems>0?Math.round(e.itemsPorEstado.malo/e.totalItems*100):0,"%"]})]})]}),o.jsx(Ic,{value:e.totalItems>0?e.itemsPorEstado.malo/e.totalItems*100:0,className:"h-2"})]})]})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(ure,{className:"w-5 h-5"}),"Condición de Items"]}),o.jsx(Qt,{children:"Proporción de items nuevos vs usados"})]}),o.jsxs(Ae,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),o.jsx("span",{className:"text-sm",children:"Nuevos"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:e.itemsPorCondicion.nuevo}),o.jsxs(pt,{variant:"outline",className:"bg-blue-50 text-blue-700",children:[e.totalItems>0?Math.round(e.itemsPorCondicion.nuevo/e.totalItems*100):0,"%"]})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),o.jsx("span",{className:"text-sm",children:"Segunda"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:e.itemsPorCondicion.segunda}),o.jsxs(pt,{variant:"outline",className:"bg-purple-50 text-purple-700",children:[e.totalItems>0?Math.round(e.itemsPorCondicion.segunda/e.totalItems*100):0,"%"]})]})]})]}),o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Estado de conservación general"}),o.jsxs("span",{className:"font-medium",children:[i.toFixed(0),"% en buen estado"]})]}),o.jsx(Ic,{value:i,className:"h-2"})]})})]})]})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(vv,{className:"w-5 h-5"}),"Estado de Mantenimiento"]}),o.jsx(Qt,{children:"Resumen del estado de mantenimiento de los items"})]}),o.jsxs(Ae,{children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.mantenimiento.alDia}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Al día"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.mantenimiento.pendientes}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Pendientes"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold",children:[a.toFixed(0),"%"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Porcentaje al día"})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{children:"Mantenimiento al día"}),o.jsxs("span",{children:[a.toFixed(1),"%"]})]}),o.jsx(Ic,{value:a,className:"h-2"})]})]})]})]})}function dZe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,a]=w.useState({}),[i,l]=w.useState("tarjetas"),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[h,p]=w.useState(null),x=async()=>{try{n(!0);const N=await nYe(s);t(N)}catch{gt({title:"Error",description:"No se pudieron cargar los items del patrimonio",variant:"destructive"})}finally{n(!1)}};w.useEffect(()=>{x()},[s]);const m=(N,A)=>{a(j=>({...j,[N]:A}))},g=()=>{a({})},_=N=>{switch(N){case"bueno":return"bg-green-100 text-green-800";case"regular":return"bg-yellow-100 text-yellow-800";case"malo":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=N=>{switch(N){case"nuevo":return"bg-blue-100 text-blue-800";case"segunda":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},S=N=>{p(N),f(!0)},E=N=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(N),C=()=>o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(N=>o.jsxs(ke,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>S(N),children:[o.jsx(Qe,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx(Ze,{className:"text-lg",children:N.nombre}),o.jsx(Qt,{className:"font-mono text-sm",children:N.codigo})]}),o.jsx("div",{className:"flex gap-1",children:N.donacion.esDonacion&&o.jsxs(pt,{variant:"outline",className:"text-xs",children:[o.jsx(lm,{className:"w-3 h-3 mr-1"}),"Donación"]})})]})}),o.jsxs(Ae,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(cm,{className:"w-4 h-4"}),o.jsx("span",{children:N.ubicacion.zona})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Vd,{className:"w-4 h-4"}),o.jsxs("span",{children:["Cantidad: ",N.cantidad]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(pt,{className:_(N.estado.conservacion),children:N.estado.conservacion}),o.jsx(pt,{className:y(N.estado.condicion),children:N.estado.condicion})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx($l,{className:"w-4 h-4 inline mr-1"}),E(N.donacion.esDonacion?N.donacion.valorAproximado||0:N.valorEstimado)]}),N.mantenimiento.requiere&&o.jsxs(pt,{variant:"outline",className:"text-orange-600",children:[o.jsx(vv,{className:"w-3 h-3 mr-1"}),"Mantenimiento"]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx(Du,{className:"w-3 h-3 inline mr-1"}),N.responsable]})]})]},N.id))}),P=()=>o.jsx("div",{className:"space-y-2",children:e.map(N=>o.jsx(ke,{className:"cursor-pointer hover:shadow-sm transition-shadow",onClick:()=>S(N),children:o.jsx(Ae,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium truncate",children:N.nombre}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:N.descripcion})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pt,{className:_(N.estado.conservacion),children:N.estado.conservacion}),o.jsx("span",{className:"text-sm font-mono",children:N.codigo})]})]})}),o.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm font-medium",children:E(N.donacion.esDonacion?N.donacion.valorAproximado||0:N.valorEstimado)}),o.jsx("div",{className:"text-xs text-muted-foreground",children:N.ubicacion.zona})]}),N.mantenimiento.requiere&&o.jsx(vv,{className:"w-4 h-4 text-orange-500"}),N.donacion.esDonacion&&o.jsx(lm,{className:"w-4 h-4 text-blue-500"})]})]})})},N.id))});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Jd,{}),o.jsxs("main",{className:"container mx-auto px-4 py-6 pb-24 md:pb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Patrimonio e Inventario"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestión completa del patrimonio del consorcio"})]}),o.jsxs(_e,{onClick:()=>u(!0),children:[o.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Nuevo Item"]})]}),o.jsxs(Of,{defaultValue:"inventario",className:"space-y-6",children:[o.jsxs(zu,{children:[o.jsx(Br,{value:"inventario",children:"Inventario"}),o.jsx(Br,{value:"resumen",children:"Resumen"})]}),o.jsx(Wr,{value:"resumen",children:o.jsx(uZe,{})}),o.jsxs(Wr,{value:"inventario",className:"space-y-6",children:[o.jsxs(ke,{children:[o.jsx(Qe,{children:o.jsxs(Ze,{className:"flex items-center gap-2",children:[o.jsx(fk,{className:"w-5 h-5"}),"Filtros"]})}),o.jsx(Ae,{children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ou,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{placeholder:"Buscar items...",value:s.busqueda||"",onChange:N=>m("busqueda",N.target.value),className:"pl-10"})]}),o.jsxs(hr,{value:s.estado||"todos",onValueChange:N=>m("estado",N),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Estado"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"todos",children:"Todos los estados"}),o.jsx(Te,{value:"bueno",children:"Bueno"}),o.jsx(Te,{value:"regular",children:"Regular"}),o.jsx(Te,{value:"malo",children:"Malo"})]})]}),o.jsxs(hr,{value:s.condicion||"todos",onValueChange:N=>m("condicion",N),children:[o.jsx(dr,{children:o.jsx(mr,{placeholder:"Condición"})}),o.jsxs(fr,{children:[o.jsx(Te,{value:"todos",children:"Todas las condiciones"}),o.jsx(Te,{value:"nuevo",children:"Nuevo"}),o.jsx(Te,{value:"segunda",children:"Segunda"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(_e,{variant:"outline",size:"sm",onClick:g,children:"Limpiar"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(_e,{variant:i==="tarjetas"?"default":"outline",size:"sm",onClick:()=>l("tarjetas"),children:o.jsx(_re,{className:"w-4 h-4"})}),o.jsx(_e,{variant:i==="lista"?"default":"outline",size:"sm",onClick:()=>l("lista"),children:o.jsx(Sre,{className:"w-4 h-4"})})]})]})]})})]}),o.jsx("div",{className:"space-y-4",children:r?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Cargando items..."})]})}):e.length===0?o.jsx(ke,{children:o.jsxs(Ae,{className:"py-12 text-center",children:[o.jsx(Vd,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No hay items registrados"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Comienza agregando el primer item al inventario del patrimonio."}),o.jsxs(_e,{onClick:()=>u(!0),children:[o.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Agregar Primer Item"]})]})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," item",e.length!==1?"s":""," encontrado",e.length!==1?"s":""]})}),i==="tarjetas"?C():P()]})})]})]})]}),o.jsx(_m,{}),o.jsx(oYe,{open:c,onOpenChange:u,onSuccess:x}),o.jsx(cZe,{open:d,onOpenChange:f,item:h,onSuccess:x})]})}const vK=async e=>{const t=Ge(qe,"cobranzas/cargos"),r=BB(t,$B("empadronadoId"),UB(e)),n=await Mt(r);if(!n.exists())return[];const s=[];return n.forEach(a=>{const i=a.val();s.push({periodo:i.periodo,monto:i.monto,fechaVencimiento:i.fechaVencimiento,fechaPago:i.fechaPago,metodoPago:i.metodoPago,estado:i.estado,recargo:i.recargo||0,descuento:i.descuento||0,observaciones:i.observaciones})}),s.sort((a,i)=>i.fechaVencimiento-a.fechaVencimiento)},fZe=async e=>{const t=await vK(e),r=Date.now(),n=t.filter(u=>u.estado==="pendiente"),s=t.filter(u=>u.estado==="vencido"||u.estado==="pendiente"&&u.fechaVencimiento<r),a=t.filter(u=>u.estado==="pagado").slice(0,5),i=n.reduce((u,d)=>u+d.monto+(d.recargo||0)-(d.descuento||0),0),l=s.reduce((u,d)=>u+d.monto+(d.recargo||0)-(d.descuento||0),0),c=n.filter(u=>u.fechaVencimiento>r).sort((u,d)=>u.fechaVencimiento-d.fechaVencimiento)[0];return{totalPendiente:i,totalVencido:l,proximoVencimiento:c?{periodo:c.periodo,monto:c.monto,fecha:c.fechaVencimiento}:void 0,pagosRecientes:a}},hZe=async()=>{const e=Ge(qe,"portal/eventos"),t=await Mt(e);if(!t.exists())return[];const r=[],n=Date.now();return t.forEach(s=>{const a=s.val();a.activo&&a.fechaFin>n&&r.push({id:s.key,...a})}),r.sort((s,a)=>s.fechaInicio-a.fechaInicio)},mZe=async()=>{const e=Date.now(),t=new Date;t.setHours(0,0,0,0);const[r,n,s,a,i]=await Promise.all([Mt(Ge(qe,"portal/visitas")),Mt(Ge(qe,"portal/sugerencias")),Mt(Ge(qe,"portal/pedidos")),Mt(Ge(qe,"portal/eventos")),Mt(Ge(qe,"portal/inscripciones-eventos"))]);let l=0,c=0;r.exists()&&r.forEach(m=>{const g=m.val();l++,g.fechaIngreso>=t.getTime()&&c++});let u=0,d=0;n.exists()&&n.forEach(m=>{const g=m.val();u++,g.estado==="pendiente"&&d++});let f=0,h=0;s.exists()&&s.forEach(m=>{const g=m.val();f++,["pendiente","confirmado","preparando","listo"].includes(g.estado)&&h++});let p=0;a.exists()&&a.forEach(m=>{const g=m.val();g.activo&&g.fechaFin>e&&p++});let x=0;return i.exists()&&i.forEach(m=>{const g=m.val();(g.estado==="inscrito"||g.estado==="confirmado")&&x++}),{totalVisitas:l,visitasHoy:c,totalSugerencias:u,sugerenciasPendientes:d,totalPedidos:f,pedidosActivos:h,eventosProximos:p,inscripcionesEventos:x}};function pZe(){const{user:e}=ui(),[t,r]=w.useState(null),[n,s]=w.useState([]),[a,i]=w.useState(null),[l,c]=w.useState([]),[u,d]=w.useState(null),[f,h]=w.useState(!0);w.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{const _=await i9(e.uid);if(!_){RT.error("No se encontró información de empadronado para este usuario");return}r(_);const[y,S,E,C]=await Promise.all([vK(_.id),fZe(_.id),hZe(),mZe()]);s(y),i(S),c(E),d(C)}catch(_){console.error("Error cargando datos del portal:",_),RT.error("Error al cargar los datos del portal")}finally{h(!1)}})()},[e==null?void 0:e.uid]);const p=g=>new Date(g).toLocaleDateString("es-PE"),x=g=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(g),m=g=>{const _={pendiente:"secondary",pagado:"default",vencido:"destructive"};return o.jsx(pt,{variant:_[g]||"secondary",children:g})};return f?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ll,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),o.jsx("p",{children:"Cargando portal del asociado..."})]})}):t?o.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground rounded-lg p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Portal del Asociado"}),o.jsxs("p",{className:"text-lg",children:["Bienvenido, ",t.nombre," ",t.apellidos]}),o.jsxs("p",{className:"text-sm opacity-90",children:["Padrón: ",t.numeroPadron," | Familia: ",t.familia]})]}),a&&o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Deuda Pendiente"}),o.jsx($l,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ae,{children:o.jsx("div",{className:"text-2xl font-bold",children:x(a.totalPendiente)})})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Deuda Vencida"}),o.jsx(S$,{className:"h-4 w-4 text-destructive"})]}),o.jsx(Ae,{children:o.jsx("div",{className:"text-2xl font-bold text-destructive",children:x(a.totalVencido)})})]}),o.jsxs(ke,{children:[o.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ze,{className:"text-sm font-medium",children:"Próximo Vencimiento"}),o.jsx(Ll,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ae,{children:a.proximoVencimiento?o.jsxs("div",{children:[o.jsx("div",{className:"text-xl font-bold",children:x(a.proximoVencimiento.monto)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:p(a.proximoVencimiento.fecha)})]}):o.jsx("div",{className:"text-sm text-muted-foreground",children:"Sin pagos pendientes"})})]})]}),o.jsxs(Of,{defaultValue:"pagos",className:"space-y-4",children:[o.jsxs(zu,{className:"grid w-full grid-cols-6",children:[o.jsxs(Br,{value:"pagos",children:[o.jsx(fv,{className:"h-4 w-4 mr-2"}),"Pagos"]}),o.jsxs(Br,{value:"visitas",children:[o.jsx(aa,{className:"h-4 w-4 mr-2"}),"Visitas"]}),o.jsxs(Br,{value:"preguntas",children:[o.jsx(MR,{className:"h-4 w-4 mr-2"}),"FAQ"]}),o.jsxs(Br,{value:"tienda",children:[o.jsx(jre,{className:"h-4 w-4 mr-2"}),"Tienda"]}),o.jsxs(Br,{value:"sugerencias",children:[o.jsx(pv,{className:"h-4 w-4 mr-2"}),"Sugerencias"]}),o.jsxs(Br,{value:"eventos",children:[o.jsx(gs,{className:"h-4 w-4 mr-2"}),"Eventos"]})]}),o.jsx(Wr,{value:"pagos",children:o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Seguimiento de Pagos"}),o.jsx(Qt,{children:"Historial de tus cuotas y pagos realizados"})]}),o.jsx(Ae,{children:o.jsx("div",{className:"space-y-4",children:n.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No hay registros de pagos"}):n.slice(0,10).map((g,_)=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:g.periodo}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vence: ",p(g.fechaVencimiento)]}),g.fechaPago&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pagado: ",p(g.fechaPago)]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:x(g.monto)}),m(g.estado)]})]},_))})})]})}),o.jsx(Wr,{value:"visitas",children:o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Registro de Visitas"}),o.jsx(Qt,{children:"Registra y gestiona las visitas a tu propiedad"})]}),o.jsx(Ae,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(aa,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Módulo de registro de visitas en desarrollo"}),o.jsx(_e,{children:"Registrar Nueva Visita"})]})})]})}),o.jsx(Wr,{value:"preguntas",children:o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Preguntas Frecuentes"}),o.jsx(Qt,{children:"Encuentra respuestas a las preguntas más comunes"})]}),o.jsx(Ae,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(MR,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"Sección de preguntas frecuentes en desarrollo"})]})})]})}),o.jsx(Wr,{value:"tienda",children:o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Tienda"}),o.jsx(Qt,{children:"Productos y servicios disponibles para la comunidad"})]}),o.jsx(Ae,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Vd,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Tienda en línea en desarrollo"}),o.jsx(_e,{children:"Ver Catálogo"})]})})]})}),o.jsx(Wr,{value:"sugerencias",children:o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Sugerencias"}),o.jsx(Qt,{children:"Envía tus sugerencias, quejas o propuestas de mejora"})]}),o.jsx(Ae,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(pv,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Sistema de sugerencias en desarrollo"}),o.jsx(_e,{children:"Nueva Sugerencia"})]})})]})}),o.jsx(Wr,{value:"eventos",children:o.jsxs(ke,{children:[o.jsxs(Qe,{children:[o.jsx(Ze,{children:"Eventos"}),o.jsx(Qt,{children:"Próximos eventos y actividades de la comunidad"})]}),o.jsx(Ae,{children:o.jsx("div",{className:"space-y-4",children:l.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(gs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"No hay eventos programados"})]}):l.slice(0,5).map(g=>o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("h4",{className:"font-medium",children:g.titulo}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:g.descripcion}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{children:p(g.fechaInicio)}),o.jsx("p",{className:"text-muted-foreground",children:g.lugar})]}),o.jsx(_e,{size:"sm",children:"Ver Detalles"})]})]},g.id))})})]})})]})]}):o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(ke,{className:"w-full max-w-md",children:o.jsxs(Qe,{children:[o.jsx(Ze,{className:"text-center",children:"Acceso Restringido"}),o.jsx(Qt,{className:"text-center",children:"Tu cuenta no está vinculada a un empadronado. Contacta a la administración."})]})})})}const vZe=new Jae,gZe=()=>o.jsx(tie,{client:vZe,children:o.jsxs(jae,{children:[o.jsx(hne,{}),o.jsx(Hne,{}),o.jsx(Qie,{children:o.jsx(jme,{children:o.jsx(Ame,{children:o.jsxs(zie,{children:[o.jsx(An,{path:"/",element:o.jsx(WT,{to:"/inicio",replace:!0})}),o.jsx(An,{path:"/login",element:o.jsx(Ipe,{})}),o.jsx(An,{path:"/inicio",element:o.jsx(zs,{children:o.jsx(upe,{})})}),o.jsx(An,{path:"/admin/users",element:o.jsx(zs,{requireRole:"presidencia",children:o.jsx(ZM,{})})}),o.jsx(An,{path:"/admin/users/new",element:o.jsx(zs,{requireRole:"presidencia",children:o.jsx(zve,{})})}),o.jsx(An,{path:"/admin/users/:uid/permissions",element:o.jsx(zs,{requireRole:"presidencia",children:o.jsx(Gve,{})})}),o.jsx(An,{path:"/padron",element:o.jsx(zs,{children:o.jsx(SEe,{})})}),o.jsx(An,{path:"/padron/nuevo",element:o.jsx(zs,{children:o.jsx(W4,{})})}),o.jsx(An,{path:"/padron/editar/:id",element:o.jsx(zs,{children:o.jsx(W4,{})})}),o.jsx(An,{path:"/sesiones",element:o.jsx(zs,{children:o.jsx(Fpe,{})})}),o.jsx(An,{path:"/cobranzas",element:o.jsx(zs,{children:o.jsx(u2e,{})})}),o.jsx(An,{path:"/sanciones",element:o.jsx(zs,{children:o.jsx(nje,{})})}),o.jsx(An,{path:"/deportes",element:o.jsx(zs,{children:o.jsx(SHe,{})})}),o.jsx(An,{path:"/patrimonio",element:o.jsx(zs,{children:o.jsx(dZe,{})})}),o.jsx(An,{path:"/portal-asociado",element:o.jsx(zs,{children:o.jsx(pZe,{})})}),o.jsx(An,{path:"/usuarios",element:o.jsx(zs,{requireRole:"presidencia",children:o.jsx(ZM,{})})}),o.jsx(An,{path:"/bootstrap",element:o.jsx(Qme,{})}),o.jsx(An,{path:"*",element:o.jsx(Lpe,{})})]})})})})]})});B5(document.getElementById("root")).render(o.jsx(gZe,{}))});export default xZe();
